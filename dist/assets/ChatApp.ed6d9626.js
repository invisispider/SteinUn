var Bs=Object.defineProperty,Ls=Object.defineProperties;var Ns=Object.getOwnPropertyDescriptors;var zn=Object.getOwnPropertySymbols;var Ps=Object.prototype.hasOwnProperty,ws=Object.prototype.propertyIsEnumerable;var Gn=(ke,m,T)=>m in ke?Bs(ke,m,{enumerable:!0,configurable:!0,writable:!0,value:T}):ke[m]=T,Sr=(ke,m)=>{for(var T in m||(m={}))Ps.call(m,T)&&Gn(ke,T,m[T]);if(zn)for(var T of zn(m))ws.call(m,T)&&Gn(ke,T,m[T]);return ke},Dr=(ke,m)=>Ls(ke,Ns(m));import{E as Fs,R as Ds,h as Us,i as Vs,j as Hs,k as ks,l as zs,m as Gs,n as Ys,p as Ks,q as Xs,s as Ws,t as Zs,x as Qs,y as ea,z as Js,r as _r,A as _s,B as $s,C as qs,D as ei,F as ti,G as ri,H as ni,I as ai,a as Gt,J as oi,K as si,L as ta,M as ii,N as li,O as gn,P as ci,Q as ui,S as di,T as pn,U as fi,V as vi,W as mi,X as hi,Y as gi,Z as pi,$ as yi,a0 as bi,a1 as Si,a2 as yn,a3 as Oi,f as Qr,c as Er,b as ir,a4 as Ei,a5 as Ri,a6 as xi,a7 as Ti,a8 as Ai,a9 as Mi,aa as ra,ab as ji,d as na,ac as Ii,ad as Ci,ae as Bi,af as Li,ag as Ni,ah as Pi,ai as wi,aj as Fi,ak as Di,al as Ui,am as Vi,an as Hi,ao as ki,ap as zi,aq as Gi,ar as Yi,as as Ki,at as Xi,au as Wi,av as Zi,aw as Qi,ax as Ji,ay as _i,az as aa,aA as $i,aB as qi,aC as el,aD as oa,aE as tl,o as Rr,aF as rl,aG as nl,aH as al,aI as ol,aJ as sl,aK as bn,aL as il,aM as ll,aN as cl,aO as ul,aP as dl,aQ as fl,aR as vl,aS as ml,aT as hl,aU as gl,aV as pl,aW as yl,aX as bl,aY as Sl,aZ as Ol,a_ as El,a$ as Rl,b0 as xl,b1 as Tl,b2 as Al,b3 as sa,b4 as Ml,b5 as jl,b6 as Il,b7 as Cl,b8 as Bl,w as on,b9 as Ll,ba as Nl,bb as Pl,bc as wl,bd as Fl,be as Dl,bf as Ul,bg as Vl,bh as Hl,bi as kl,bj as zl,bk as Gl,bl as Yl,bm as Kl,bn as Xl,bo as Wl,bp as Zl,bq as ia,v as Sn,br as Ql,bs as Jl,e as sn,u as _l,g as $l}from"./index.be1fd971.js";import{y as xn,r as ql,I as un,e as e0,C as Or,M as Ar,F as en,b as t0,f as Gr,U as la,N as On,l as r0,c as n0,d as Tn,T as An,h as a0,G as Yn,L as Kn,g as o0,i as ca,j as ua,k as da,m as s0,n as i0,p as Xn,q as l0,t as c0,u as u0,v as d0,w as f0,o as v0,a as m0}from"./firebaseconfig.da9c72da.js";const h0=()=>{};var g0=Object.freeze(Object.defineProperty({__proto__:null,compile:h0,EffectScope:Fs,ReactiveEffect:Ds,customRef:Us,effect:Vs,effectScope:Hs,getCurrentScope:ks,isProxy:zs,isReactive:Gs,isReadonly:Ys,isRef:Ks,isShallow:Xs,markRaw:Ws,onScopeDispose:Zs,proxyRefs:Qs,reactive:ea,readonly:Js,ref:_r,shallowReactive:_s,shallowReadonly:$s,shallowRef:qs,stop:ei,toRaw:ti,toRef:ri,toRefs:ni,triggerRef:ai,unref:Gt,camelize:oi,capitalize:si,normalizeClass:ta,normalizeProps:ii,normalizeStyle:li,toDisplayString:gn,toHandlerKey:ci,BaseTransition:ui,Comment:di,Fragment:pn,KeepAlive:fi,Static:vi,Suspense:mi,Teleport:hi,Text:gi,callWithAsyncErrorHandling:pi,callWithErrorHandling:yi,cloneVNode:bi,compatUtils:Si,computed:yn,createBlock:Oi,createCommentVNode:Qr,createElementBlock:Er,createElementVNode:ir,createHydrationRenderer:Ei,createPropsRestProxy:Ri,createRenderer:xi,createSlots:Ti,createStaticVNode:Ai,createTextVNode:Mi,createVNode:ra,defineAsyncComponent:ji,defineComponent:na,defineEmits:Ii,defineExpose:Ci,defineProps:Bi,get devtools(){return Li},getCurrentInstance:Ni,getTransitionRawChildren:Pi,guardReactiveProps:wi,h:Fi,handleError:Di,initCustomFormatter:Ui,inject:Vi,isMemoSame:Hi,isRuntimeOnly:ki,isVNode:zi,mergeDefaults:Gi,mergeProps:Yi,nextTick:Ki,onActivated:Xi,onBeforeMount:Wi,onBeforeUnmount:Zi,onBeforeUpdate:Qi,onDeactivated:Ji,onErrorCaptured:_i,onMounted:aa,onRenderTracked:$i,onRenderTriggered:qi,onServerPrefetch:el,onUnmounted:oa,onUpdated:tl,openBlock:Rr,popScopeId:rl,provide:nl,pushScopeId:al,queuePostFlushCb:ol,registerRuntimeCompiler:sl,renderList:bn,renderSlot:il,resolveComponent:ll,resolveDirective:cl,resolveDynamicComponent:ul,resolveFilter:dl,resolveTransitionHooks:fl,setBlockTracking:vl,setDevtoolsHook:ml,setTransitionHooks:hl,ssrContextKey:gl,ssrUtils:pl,toHandlers:yl,transformVNodeArgs:bl,useAttrs:Sl,useSSRContext:Ol,useSlots:El,useTransitionState:Rl,version:xl,warn:Tl,watch:Al,watchEffect:sa,watchPostEffect:Ml,watchSyncEffect:jl,withAsyncContext:Il,withCtx:Cl,withDefaults:Bl,withDirectives:on,withMemo:Ll,withScopeId:Nl,Transition:Pl,TransitionGroup:wl,VueElement:Fl,createApp:Dl,createSSRApp:Ul,defineCustomElement:Vl,defineSSRCustomElement:Hl,hydrate:kl,initDirectivesForSSR:zl,render:Gl,useCssModule:Yl,useCssVars:Kl,vModelCheckbox:Xl,vModelDynamic:Wl,vModelRadio:Zl,vModelSelect:ia,vModelText:Sn,vShow:Ql,withKeys:Jl,withModifiers:sn},Symbol.toStringTag,{value:"Module"}));const Mn="users",dn="chatRooms",p0="messages",jn=ke=>`${dn}/${ke}/${p0}`,zr="timestamp",Wn="lastUpdated",y0="typingUsers",b0="reactions",ln="users",In=t0,S0=o0(),qr=ke=>ql(ke).then(m=>({data:fn(m),docs:m.docs})),fa=ke=>e0(ke).then(m=>ga(m)),Cn=(ke,m)=>r0(ke,m),Bn=(ke,m)=>n0(ke,m),va=(ke,m)=>a0(un(Gr,ke,m)),O0=xn(Gr,Mn),ma=ke=>un(Gr,Mn,ke),E0=ke=>fa(ma(ke)),Zn=ke=>Cn(O0,ke),Qn=(ke,m)=>Bn(ma(ke),m),cn=xn(Gr,dn),R0=ke=>un(Gr,dn,ke),x0=(ke,m,T)=>T?Or(cn,On(ln,"array-contains",ke),Ar(Wn,"desc"),en(m),la(T)):Or(cn,On(ln,"array-contains",ke),Ar(Wn,"desc"),en(m)),T0=ke=>qr(ke),Jn=ke=>Cn(cn,ke),tn=(ke,m)=>Bn(R0(ke),m),A0=ke=>va(dn,ke),_n=(ke,m)=>qr(Or(cn,On(Mn,"==",[ke,m]))),M0=(ke,m)=>tn(ke,{[ln]:Tn(m)}),j0=(ke,m)=>tn(ke,{[ln]:An(m)}),I0=(ke,m,T)=>{const t=T==="add"?Tn(m):An(m);return tn(ke,{[y0]:t})},Mr=ke=>xn(Gr,jn(ke)),ha=(ke,m)=>un(Gr,jn(ke),m),$n=(ke,m,T)=>qr(T?Or(Mr(ke),Ar(zr,"desc"),en(m),la(T)):m?Or(Mr(ke),Ar(zr,"desc"),en(m)):Mr(ke)),C0=(ke,m)=>fa(ha(ke,m)),B0=(ke,m)=>Cn(Mr(ke),m),$r=(ke,m,T)=>Bn(ha(ke,m),T),L0=(ke,m)=>va(jn(ke),m),N0=(ke,m)=>In(ke,T=>{m(fn(T))}),P0=(ke,m,T)=>m&&T?Or(Mr(ke),Ar(zr),Kn(m),Yn(T)):m?Or(Mr(ke),Ar(zr),Kn(m)):T?Or(Mr(ke),Ar(zr),Yn(T)):Or(Mr(ke),Ar(zr)),w0=(ke,m,T,t)=>In(P0(ke,m,T),r=>{t(fn(r))}),ga=ke=>Dr(Sr({},ke.data()),{id:ke.id}),fn=ke=>{const m=[];return ke.forEach(T=>{m.push(ga(T))}),m},F0=ke=>Or(Mr(ke),Ar(zr,"desc"),en(1)),D0=(ke,m)=>In(Or(F0(ke)),T=>{m(fn(T))}),U0=(ke,m,T,t,r)=>{const n=r==="add"?Tn(T):An(T);return $r(ke,m,{[`${b0}.${t}`]:n})},V0=ua,En=ke=>ca(da,"/status/"+ke),H0=ke=>{const m={state:"offline",lastChanged:Xn()},T={state:"online",lastChanged:Xn()},t=ca(da,".info/connected");ua(t,r=>{r.val()===!0&&s0(En(ke)).set(m).then(()=>{i0(En(ke),T)})})},k0="chatFiles",pa=(ke,m,T)=>c0(u0,`${k0}/${ke}/${m}/${T}`),qn=(ke,m,T)=>l0(pa(ke,m,`${T.name}.${T.extension||T.type}`)),z0=ke=>f0(ke),G0=(ke,m,T,t)=>{const r=pa(ke,m,`${T.name}.${t}`);return d0(r,T.blob,{contentType:t})},Y0=(ke,m,T,t,r,n,s)=>{const e=G0(ke,m,T,t);e.on("state_changed",f=>{const d=Math.round(f.bytesTransferred/f.totalBytes*100);r(d)},f=>{n(f)},async()=>{const f=await z0(e.snapshot.ref);s(f)})},an=(ke,m)=>String(ke).padStart(m,"0"),K0=(ke,m)=>ke.getFullYear()===m.getFullYear()&&ke.getMonth()===m.getMonth()&&ke.getDate()===m.getDate(),Rn=(ke,m="")=>{if(!ke)return;const T=ke.seconds?new Date(ke.seconds*1e3):ke;if(m==="HH:mm")return`${an(T.getHours(),2)}:${an(T.getMinutes(),2)}`;if(m==="DD MMMM YYYY"){const t={month:"long",year:"numeric",day:"numeric"};return`${new Intl.DateTimeFormat("en-US",t).format(T)}`}else if(m==="DD/MM/YY"){const t={month:"numeric",year:"numeric",day:"numeric"};return`${new Intl.DateTimeFormat("en-US",t).format(T)}`}else if(m==="DD MMMM, HH:mm"){const t={month:"long",day:"numeric"};return`${new Intl.DateTimeFormat("en-US",t).format(T)}, ${an(T.getHours(),2)}:${an(T.getMinutes(),2)}`}return T},hn=(ke,m)=>{const T=K0(ke,new Date)?"HH:mm":"DD/MM/YY",t=Rn(m,T);return T==="HH:mm"?`Today, ${t}`:t};function X0(ke){return ke&&ke.__esModule&&Object.prototype.hasOwnProperty.call(ke,"default")?ke.default:ke}function W0(ke){if(ke.__esModule)return ke;var m=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(ke).forEach(function(T){var t=Object.getOwnPropertyDescriptor(ke,T);Object.defineProperty(m,T,t.get?t:{enumerable:!0,get:function(){return ke[T]}})}),m}var ya={exports:{}},Z0=W0(g0);(function(ke){ke.exports=function(m){var T={};function t(r){if(T[r])return T[r].exports;var n=T[r]={i:r,l:!1,exports:{}};return m[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=m,t.c=T,t.d=function(r,n,s){t.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:s})},t.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,n){if(n&1&&(r=t(r)),n&8||n&4&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),n&2&&typeof r!="string")for(var e in r)t.d(s,e,function(f){return r[f]}.bind(null,e));return s},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},t.p="",t(t.s="fb15")}({"00b4":function(m,T,t){t("ac1f");var r=t("23e7"),n=t("da84"),s=t("c65b"),e=t("e330"),f=t("1626"),d=t("861d"),v=function(){var S=!1,O=/[ac]/;return O.exec=function(){return S=!0,/./.exec.apply(this,arguments)},O.test("abc")===!0&&S}(),E=n.Error,y=e(/./.test);r({target:"RegExp",proto:!0,forced:!v},{test:function(S){var O=this.exec;if(!f(O))return y(this,S);var b=s(O,this,S);if(b!==null&&!d(b))throw new E("RegExp exec method returned something other than an Object or null");return!!b}})},"00ee":function(m,T,t){var r=t("b622"),n=r("toStringTag"),s={};s[n]="z",m.exports=String(s)==="[object z]"},"01b4":function(m,T){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(r){var n={item:r,next:null};this.head?this.tail.next=n:this.head=n,this.tail=n},get:function(){var r=this.head;if(r)return this.head=r.next,this.tail===r&&(this.tail=null),r.item}},m.exports=t},"0206":function(m,T){function t(h){return new Int8Array(h)}function r(h){return new Int16Array(h)}function n(h){return new Int32Array(h)}function s(h){return new Float32Array(h)}function e(h){return new Float64Array(h)}function f(h){if(h.length==1)return s(h[0]);var N=h[0];h=h.slice(1);for(var Y=[],A=0;A<N;A++)Y.push(f(h));return Y}function d(h){if(h.length==1)return n(h[0]);var N=h[0];h=h.slice(1);for(var Y=[],A=0;A<N;A++)Y.push(d(h));return Y}function v(h){if(h.length==1)return r(h[0]);var N=h[0];h=h.slice(1);for(var Y=[],A=0;A<N;A++)Y.push(v(h));return Y}function E(h){if(h.length==1)return new Array(h[0]);var N=h[0];h=h.slice(1);for(var Y=[],A=0;A<N;A++)Y.push(E(h));return Y}var y={};y.fill=function(h,N,Y,A){if(arguments.length==2)for(var L=0;L<h.length;L++)h[L]=arguments[1];else for(var L=N;L<Y;L++)h[L]=A};var S={};S.arraycopy=function(h,N,Y,A,L){for(var D=N+L;N<D;)Y[A++]=h[N++]};var O={};O.SQRT2=1.4142135623730951,O.FAST_LOG10=function(h){return Math.log10(h)},O.FAST_LOG10_X=function(h,N){return Math.log10(h)*N};function b(h){this.ordinal=h}b.short_block_allowed=new b(0),b.short_block_coupled=new b(1),b.short_block_dispensed=new b(2),b.short_block_forced=new b(3);var g={};g.MAX_VALUE=34028235e31;function B(h){this.ordinal=h}B.vbr_off=new B(0),B.vbr_mt=new B(1),B.vbr_rh=new B(2),B.vbr_abr=new B(3),B.vbr_mtrh=new B(4),B.vbr_default=B.vbr_mtrh;var w=function(h){};m.exports={System:S,VbrMode:B,Float:g,ShortBlock:b,Util:O,Arrays:y,new_array_n:E,new_byte:t,new_double:e,new_float:s,new_float_n:f,new_int:n,new_int_n:d,new_short:r,new_short_n:v,assert:w}},"0366":function(m,T,t){var r=t("e330"),n=t("59ed"),s=t("40d5"),e=r(r.bind);m.exports=function(f,d){return n(f),d===void 0?f:s?e(f,d):function(){return f.apply(d,arguments)}}},"04d1":function(m,T,t){var r=t("342f"),n=r.match(/firefox\/(\d+)/i);m.exports=!!n&&+n[1]},"0538":function(m,T,t){var r=t("da84"),n=t("e330"),s=t("59ed"),e=t("861d"),f=t("1a2d"),d=t("f36a"),v=t("40d5"),E=r.Function,y=n([].concat),S=n([].join),O={},b=function(g,B,w){if(!f(O,B)){for(var h=[],N=0;N<B;N++)h[N]="a["+N+"]";O[B]=E("C,a","return new C("+S(h,",")+")")}return O[B](g,w)};m.exports=v?E.bind:function(B){var w=s(this),h=w.prototype,N=d(arguments,1),Y=function(){var L=y(N,d(arguments));return this instanceof Y?b(w,L.length,L):w.apply(B,L)};return e(h)&&(Y.prototype=h),Y}},"057f":function(m,T,t){var r=t("c6b6"),n=t("fc6a"),s=t("241c").f,e=t("4dae"),f=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(v){try{return s(v)}catch{return e(f)}};m.exports.f=function(E){return f&&r(E)=="Window"?d(E):s(n(E))}},"06cf":function(m,T,t){var r=t("83ab"),n=t("c65b"),s=t("d1e7"),e=t("5c6c"),f=t("fc6a"),d=t("a04b"),v=t("1a2d"),E=t("0cfb"),y=Object.getOwnPropertyDescriptor;T.f=r?y:function(O,b){if(O=f(O),b=d(b),E)try{return y(O,b)}catch{}if(v(O,b))return e(!n(s.f,O,b),O[b])}},"07fa":function(m,T,t){var r=t("50c4");m.exports=function(n){return r(n.length)}},"09e6":function(m,T,t){var r=t("0206"),n=r.new_float,s=r.new_int;r.assert;function e(){this.global_gain=0,this.sfb_count1=0,this.step=s(39),this.noise=n(39),this.noise_log=n(39)}m.exports=e},"0b25":function(m,T,t){var r=t("da84"),n=t("5926"),s=t("50c4"),e=r.RangeError;m.exports=function(f){if(f===void 0)return 0;var d=n(f),v=s(d);if(d!==v)throw e("Wrong length or index");return v}},"0b42":function(m,T,t){var r=t("da84"),n=t("e8b5"),s=t("68ee"),e=t("861d"),f=t("b622"),d=f("species"),v=r.Array;m.exports=function(E){var y;return n(E)&&(y=E.constructor,s(y)&&(y===v||n(y.prototype))?y=void 0:e(y)&&(y=y[d],y===null&&(y=void 0))),y===void 0?v:y}},"0cb2":function(m,T,t){var r=t("e330"),n=t("7b0b"),s=Math.floor,e=r("".charAt),f=r("".replace),d=r("".slice),v=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;m.exports=function(y,S,O,b,g,B){var w=O+y.length,h=b.length,N=E;return g!==void 0&&(g=n(g),N=v),f(B,N,function(Y,A){var L;switch(e(A,0)){case"$":return"$";case"&":return y;case"`":return d(S,0,O);case"'":return d(S,w);case"<":L=g[d(A,1,-1)];break;default:var D=+A;if(D===0)return Y;if(D>h){var a=s(D/10);return a===0?Y:a<=h?b[a-1]===void 0?e(A,1):b[a-1]+e(A,1):Y}L=b[D-1]}return L===void 0?"":L})}},"0ccb":function(m,T,t){var r=t("e330"),n=t("50c4"),s=t("577e"),e=t("1148"),f=t("1d80"),d=r(e),v=r("".slice),E=Math.ceil,y=function(S){return function(O,b,g){var B=s(f(O)),w=n(b),h=B.length,N=g===void 0?" ":s(g),Y,A;return w<=h||N==""?B:(Y=w-h,A=d(N,E(Y/N.length)),A.length>Y&&(A=v(A,0,Y)),S?B+A:A+B)}};m.exports={start:y(!1),end:y(!0)}},"0cfb":function(m,T,t){var r=t("83ab"),n=t("d039"),s=t("cc12");m.exports=!r&&!n(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},"0d03":function(m,T,t){var r=t("e330"),n=t("6eeb"),s=Date.prototype,e="Invalid Date",f="toString",d=r(s[f]),v=r(s.getTime);String(new Date(NaN))!=e&&n(s,f,function(){var y=v(this);return y===y?d(this):e})},"0d3b":function(m,T,t){var r=t("d039"),n=t("b622"),s=t("c430"),e=n("iterator");m.exports=!r(function(){var f=new URL("b?a=1&b=2&c=3","http://a"),d=f.searchParams,v="";return f.pathname="c%20d",d.forEach(function(E,y){d.delete("b"),v+=y+E}),s&&!f.toJSON||!d.sort||f.href!=="http://a/c%20d?a=1&c=3"||d.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!d[e]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||v!=="a1c3"||new URL("http://x",void 0).host!=="x"})},"0d51":function(m,T,t){var r=t("da84"),n=r.String;m.exports=function(s){try{return n(s)}catch{return"Object"}}},"0e99":function(m,T,t){t("9138")},"107c":function(m,T,t){var r=t("d039"),n=t("da84"),s=n.RegExp;m.exports=r(function(){var e=s("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"})},"1148":function(m,T,t){var r=t("da84"),n=t("5926"),s=t("577e"),e=t("1d80"),f=r.RangeError;m.exports=function(v){var E=s(e(this)),y="",S=n(v);if(S<0||S==1/0)throw f("Wrong number of repetitions");for(;S>0;(S>>>=1)&&(E+=E))S&1&&(y+=E);return y}},"129f":function(m,T){m.exports=Object.is||function(r,n){return r===n?r!==0||1/r===1/n:r!=r&&n!=n}},"13d5":function(m,T,t){var r=t("23e7"),n=t("d58f").left,s=t("a640"),e=t("2d00"),f=t("605d"),d=s("reduce"),v=!f&&e>79&&e<83;r({target:"Array",proto:!0,forced:!d||v},{reduce:function(y){var S=arguments.length;return n(this,y,S,S>1?arguments[1]:void 0)}})},"1448":function(m,T,t){var r=t("dfb9"),n=t("b6b7");m.exports=function(s,e){return r(n(s),e)}},"145e":function(m,T,t){var r=t("7b0b"),n=t("23cb"),s=t("07fa"),e=Math.min;m.exports=[].copyWithin||function(d,v){var E=r(this),y=s(E),S=n(d,y),O=n(v,y),b=arguments.length>2?arguments[2]:void 0,g=e((b===void 0?y:n(b,y))-O,y-S),B=1;for(O<S&&S<O+g&&(B=-1,O+=g-1,S+=g-1);g-- >0;)O in E?E[S]=E[O]:delete E[S],S+=B,O+=B;return E}},"14c3":function(m,T,t){var r=t("da84"),n=t("c65b"),s=t("825a"),e=t("1626"),f=t("c6b6"),d=t("9263"),v=r.TypeError;m.exports=function(E,y){var S=E.exec;if(e(S)){var O=n(S,E,y);return O!==null&&s(O),O}if(f(E)==="RegExp")return n(d,E,y);throw v("RegExp#exec called on incompatible receiver")}},"159b":function(m,T,t){var r=t("da84"),n=t("fdbc"),s=t("785a"),e=t("17c2"),f=t("9112"),d=function(E){if(E&&E.forEach!==e)try{f(E,"forEach",e)}catch{E.forEach=e}};for(var v in n)n[v]&&d(r[v]&&r[v].prototype);d(s)},"1626":function(m,T){m.exports=function(t){return typeof t=="function"}},"1652":function(m,T,t){T.__esModule=!0,T.stateify=T.TokenState=T.CharacterState=void 0;var r=t("254c");function n(){return function(v){this.j=[],this.T=v||null}}var s=n();s.prototype={defaultTransition:!1,on:function(E,y){if(E instanceof Array){for(var S=0;S<E.length;S++)this.j.push([E[S],y]);return this}return this.j.push([E,y]),this},next:function(E){for(var y=0;y<this.j.length;y++){var S=this.j[y],O=S[0],b=S[1];if(this.test(E,O))return b}return this.defaultTransition},accepts:function(){return!!this.T},test:function(E,y){return E===y},emit:function(){return this.T}};var e=(0,r.inherits)(s,n(),{test:function(E,y){return E===y||y instanceof RegExp&&y.test(E)}}),f=(0,r.inherits)(s,n(),{jump:function(E){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,S=this.next(new E(""));return S===this.defaultTransition?(S=new this.constructor(y),this.on(E,S)):y&&(S.T=y),S},test:function(E,y){return E instanceof y}});function d(v,E,y,S){for(var O=0,b=v.length,g=E,B=[],w=void 0;O<b&&(w=g.next(v[O]));)g=w,O++;if(O>=b)return[];for(;O<b-1;)w=new e(S),B.push(w),g.on(v[O],w),g=w,O++;return w=new e(y),B.push(w),g.on(v[b-1],w),B}T.CharacterState=e,T.TokenState=f,T.stateify=d},"170b":function(m,T,t){var r=t("ebb5"),n=t("50c4"),s=t("23cb"),e=t("b6b7"),f=r.aTypedArray,d=r.exportTypedArrayMethod;d("subarray",function(E,y){var S=f(this),O=S.length,b=s(E,O),g=e(S);return new g(S.buffer,S.byteOffset+b*S.BYTES_PER_ELEMENT,n((y===void 0?O:s(y,O))-b))})},"17c2":function(m,T,t){var r=t("b727").forEach,n=t("a640"),s=n("forEach");m.exports=s?[].forEach:function(f){return r(this,f,arguments.length>1?arguments[1]:void 0)}},"182d":function(m,T,t){var r=t("da84"),n=t("f8cd"),s=r.RangeError;m.exports=function(e,f){var d=n(e);if(d%f)throw s("Wrong offset");return d}},"19aa":function(m,T,t){var r=t("da84"),n=t("3a9b"),s=r.TypeError;m.exports=function(e,f){if(n(f,e))return e;throw s("Incorrect invocation")}},"1a2d":function(m,T,t){var r=t("e330"),n=t("7b0b"),s=r({}.hasOwnProperty);m.exports=Object.hasOwn||function(f,d){return s(n(f),d)}},"1a98":function(m,T,t){t.r(T),t.d(T,"detectMobile",function(){return r}),t("e323"),t("ac1f"),t("00b4"),t("d9e2"),t("d401");function r(){var s=n(),e=s.substr(0,4);return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(s)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(e)}function n(){var s=navigator.userAgent||navigator.vendor||window.opera||null;if(!s)throw new Error("Failed to look for user agent information.");return s}},"1be4":function(m,T,t){var r=t("d066");m.exports=r("document","documentElement")},"1c7e":function(m,T,t){var r=t("b622"),n=r("iterator"),s=!1;try{var e=0,f={next:function(){return{done:!!e++}},return:function(){s=!0}};f[n]=function(){return this},Array.from(f,function(){throw 2})}catch{}m.exports=function(d,v){if(!v&&!s)return!1;var E=!1;try{var y={};y[n]=function(){return{next:function(){return{done:E=!0}}}},d(y)}catch{}return E}},"1cdc":function(m,T,t){var r=t("342f");m.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},"1d1c":function(m,T,t){var r=t("23e7"),n=t("83ab"),s=t("37e8").f;r({target:"Object",stat:!0,forced:Object.defineProperties!==s,sham:!n},{defineProperties:s})},"1d80":function(m,T,t){var r=t("da84"),n=r.TypeError;m.exports=function(s){if(s==null)throw n("Can't call method on "+s);return s}},"1dde":function(m,T,t){var r=t("d039"),n=t("b622"),s=t("2d00"),e=n("species");m.exports=function(f){return s>=51||!r(function(){var d=[],v=d.constructor={};return v[e]=function(){return{foo:1}},d[f](Boolean).foo!==1})}},"219c":function(m,T,t){var r=t("da84"),n=t("e330"),s=t("d039"),e=t("59ed"),f=t("addb"),d=t("ebb5"),v=t("04d1"),E=t("d998"),y=t("2d00"),S=t("512c"),O=r.Array,b=d.aTypedArray,g=d.exportTypedArrayMethod,B=r.Uint16Array,w=B&&n(B.prototype.sort),h=!!w&&!(s(function(){w(new B(2),null)})&&s(function(){w(new B(2),{})})),N=!!w&&!s(function(){if(y)return y<74;if(v)return v<67;if(E)return!0;if(S)return S<602;var A=new B(516),L=O(516),D,a;for(D=0;D<516;D++)a=D%4,A[D]=515-D,L[D]=D-2*a+3;for(w(A,function(F,k){return(F/4|0)-(k/4|0)}),D=0;D<516;D++)if(A[D]!==L[D])return!0}),Y=function(A){return function(L,D){return A!==void 0?+A(L,D)||0:D!==D?-1:L!==L?1:L===0&&D===0?1/L>0&&1/D<0?1:-1:L>D}};g("sort",function(L){return L!==void 0&&e(L),N?w(this,L):f(b(this),Y(L))},!N||h)},"2266":function(m,T,t){var r=t("da84"),n=t("0366"),s=t("c65b"),e=t("825a"),f=t("0d51"),d=t("e95a"),v=t("07fa"),E=t("3a9b"),y=t("9a1f"),S=t("35a1"),O=t("2a62"),b=r.TypeError,g=function(w,h){this.stopped=w,this.result=h},B=g.prototype;m.exports=function(w,h,N){var Y=N&&N.that,A=!!(N&&N.AS_ENTRIES),L=!!(N&&N.IS_ITERATOR),D=!!(N&&N.INTERRUPTED),a=n(h,Y),F,k,_,ee,q,re,Oe,ue=function(Q){return F&&O(F,"normal",Q),new g(!0,Q)},x=function(Q){return A?(e(Q),D?a(Q[0],Q[1],ue):a(Q[0],Q[1])):D?a(Q,ue):a(Q)};if(L)F=w;else{if(k=S(w),!k)throw b(f(w)+" is not iterable");if(d(k)){for(_=0,ee=v(w);ee>_;_++)if(q=x(w[_]),q&&E(B,q))return q;return new g(!1)}F=y(w,k)}for(re=F.next;!(Oe=s(re,F)).done;){try{q=x(Oe.value)}catch(Q){O(F,"throw",Q)}if(typeof q=="object"&&q&&E(B,q))return q}return new g(!1)}},"2315":function(m,T,t){var r=t("23e7"),n=t("857a"),s=t("af03");r({target:"String",proto:!0,forced:s("strike")},{strike:function(){return n(this,"strike","","")}})},"23cb":function(m,T,t){var r=t("5926"),n=Math.max,s=Math.min;m.exports=function(e,f){var d=r(e);return d<0?n(d+f,0):s(d,f)}},"23e7":function(m,T,t){var r=t("da84"),n=t("06cf").f,s=t("9112"),e=t("6eeb"),f=t("ce4e"),d=t("e893"),v=t("94ca");m.exports=function(E,y){var S=E.target,O=E.global,b=E.stat,g,B,w,h,N,Y;if(O?B=r:b?B=r[S]||f(S,{}):B=(r[S]||{}).prototype,B)for(w in y){if(N=y[w],E.noTargetGet?(Y=n(B,w),h=Y&&Y.value):h=B[w],g=v(O?w:S+(b?".":"#")+w,E.forced),!g&&h!==void 0){if(typeof N==typeof h)continue;d(N,h)}(E.sham||h&&h.sham)&&s(N,"sham",!0),e(B,w,N,E)}}},"241c":function(m,T,t){var r=t("ca84"),n=t("7839"),s=n.concat("length","prototype");T.f=Object.getOwnPropertyNames||function(f){return r(f,s)}},"2466":function(m,T){function t(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}m.exports=t},"2474":function(m,T,t){var r=t("0206");r.System;var n=r.VbrMode,s=r.Float,e=r.ShortBlock,f=r.Util,d=r.Arrays;r.new_array_n,r.new_byte,r.new_double;var v=r.new_float,E=r.new_float_n,y=r.new_int;r.new_int_n;var S=r.assert,O=t("8100"),b=t("4b5e");function g(){var B=new O,w=2.302585092994046,h=2,N=16,Y=2,A=16,L=.34,D=1/(14752*14752)/(b.BLKSIZE/2),a=.01,F=.8,k=.6,_=.3,ee=3.5,q=21,re=.2302585093;function Oe(G){return G}function ue(G,W){for(var ie=0,ce=0;ce<b.BLKSIZE/2;++ce)ie+=G[ce]*W.ATH.eql_w[ce];return ie*=D,ie}function x(G,W,ie,ce,pe,te,he,be,ve,Ie,xe){var Le=G.internal_flags;if(ve<2)B.fft_long(Le,ce[pe],ve,Ie,xe),B.fft_short(Le,te[he],ve,Ie,xe);else if(ve==2){for(var et=b.BLKSIZE-1;et>=0;--et){var xt=ce[pe+0][et],ze=ce[pe+1][et];ce[pe+0][et]=(xt+ze)*f.SQRT2*.5,ce[pe+1][et]=(xt-ze)*f.SQRT2*.5}for(var Tt=2;Tt>=0;--Tt)for(var et=b.BLKSIZE_s-1;et>=0;--et){var xt=te[he+0][Tt][et],ze=te[he+1][Tt][et];te[he+0][Tt][et]=(xt+ze)*f.SQRT2*.5,te[he+1][Tt][et]=(xt-ze)*f.SQRT2*.5}}W[0]=ce[pe+0][0],W[0]*=W[0];for(var et=b.BLKSIZE/2-1;et>=0;--et){var Be=ce[pe+0][b.BLKSIZE/2-et],ge=ce[pe+0][b.BLKSIZE/2+et];W[b.BLKSIZE/2-et]=(Be*Be+ge*ge)*.5}for(var Tt=2;Tt>=0;--Tt){ie[Tt][0]=te[he+0][Tt][0],ie[Tt][0]*=ie[Tt][0];for(var et=b.BLKSIZE_s/2-1;et>=0;--et){var Be=te[he+0][Tt][b.BLKSIZE_s/2-et],ge=te[he+0][Tt][b.BLKSIZE_s/2+et];ie[Tt][b.BLKSIZE_s/2-et]=(Be*Be+ge*ge)*.5}}{for(var Pe=0,et=11;et<b.HBLKSIZE;et++)Pe+=W[et];Le.tot_ener[ve]=Pe}if(G.analysis){for(var et=0;et<b.HBLKSIZE;et++)Le.pinfo.energy[be][ve][et]=Le.pinfo.energy_save[ve][et],Le.pinfo.energy_save[ve][et]=W[et];Le.pinfo.pe[be][ve]=Le.pe[ve]}G.athaa_loudapprox==2&&ve<2&&(Le.loudness_sq[be][ve]=Le.loudness_sq_save[ve],Le.loudness_sq_save[ve]=ue(W,Le))}var Q=8,p=23,j=15,H,Z,P,o=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function u(){H=Math.pow(10,(Q+1)/16),Z=Math.pow(10,(p+1)/16),P=Math.pow(10,j/10)}var c=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],R=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],U=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function C(G,W,ie,ce,pe,te){var he;if(W>G)if(W<G*Z)he=W/G;else return G+W;else{if(G>=W*Z)return G+W;he=G/W}if(S(G>=0),S(W>=0),G+=W,ce+3<=3+3){if(he>=H)return G;var be=0|f.FAST_LOG10_X(he,16);return G*R[be]}var be=0|f.FAST_LOG10_X(he,16);if(te!=0?W=pe.ATH.cb_s[ie]*pe.ATH.adjust:W=pe.ATH.cb_l[ie]*pe.ATH.adjust,S(W>=0),G<P*W){if(G>W){var ve,Ie;return ve=1,be<=13&&(ve=U[be]),Ie=f.FAST_LOG10_X(G/W,10/15),G*((c[be]-ve)*Ie+ve)}return be>13?G:G*U[be]}return G*c[be]}var z=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function V(G,W,ie){var ce;if(G<0&&(G=0),W<0&&(W=0),G<=0)return W;if(W<=0)return G;if(W>G?ce=W/G:ce=G/W,-2<=ie&&ie<=2){if(ce>=H)return G+W;var pe=0|f.FAST_LOG10_X(ce,16);return(G+W)*z[pe]}return ce<Z?G+W:(G<W&&(G=W),G)}function $(G,W){var ie=G.internal_flags;if(ie.channels_out>1){for(var ce=0;ce<b.SBMAX_l;ce++){var pe=ie.thm[0].l[ce],te=ie.thm[1].l[ce];ie.thm[0].l[ce]+=te*W,ie.thm[1].l[ce]+=pe*W}for(var ce=0;ce<b.SBMAX_s;ce++)for(var he=0;he<3;he++){var pe=ie.thm[0].s[ce][he],te=ie.thm[1].s[ce][he];ie.thm[0].s[ce][he]+=te*W,ie.thm[1].s[ce][he]+=pe*W}}}function se(G){for(var W=0;W<b.SBMAX_l;W++)if(!(G.thm[0].l[W]>1.58*G.thm[1].l[W]||G.thm[1].l[W]>1.58*G.thm[0].l[W])){var ie=G.mld_l[W]*G.en[3].l[W],ce=Math.max(G.thm[2].l[W],Math.min(G.thm[3].l[W],ie));ie=G.mld_l[W]*G.en[2].l[W];var pe=Math.max(G.thm[3].l[W],Math.min(G.thm[2].l[W],ie));G.thm[2].l[W]=ce,G.thm[3].l[W]=pe}for(var W=0;W<b.SBMAX_s;W++)for(var te=0;te<3;te++)if(!(G.thm[0].s[W][te]>1.58*G.thm[1].s[W][te]||G.thm[1].s[W][te]>1.58*G.thm[0].s[W][te])){var ie=G.mld_s[W]*G.en[3].s[W][te],ce=Math.max(G.thm[2].s[W][te],Math.min(G.thm[3].s[W][te],ie));ie=G.mld_s[W]*G.en[2].s[W][te];var pe=Math.max(G.thm[3].s[W][te],Math.min(G.thm[2].s[W][te],ie));G.thm[2].s[W][te]=ce,G.thm[3].s[W][te]=pe}}function Ee(G,W,ie){var ce=W,pe=Math.pow(10,ie);W*=2,ce*=2;for(var te=0;te<b.SBMAX_l;te++){var he,be,ve,Ie;if(Ie=G.ATH.cb_l[G.bm_l[te]]*pe,he=Math.min(Math.max(G.thm[0].l[te],Ie),Math.max(G.thm[1].l[te],Ie)),be=Math.max(G.thm[2].l[te],Ie),ve=Math.max(G.thm[3].l[te],Ie),he*W<be+ve){var xe=he*ce/(be+ve);be*=xe,ve*=xe,S(be+ve>0)}G.thm[2].l[te]=Math.min(be,G.thm[2].l[te]),G.thm[3].l[te]=Math.min(ve,G.thm[3].l[te])}pe*=b.BLKSIZE_s/b.BLKSIZE;for(var te=0;te<b.SBMAX_s;te++)for(var Le=0;Le<3;Le++){var he,be,ve,Ie;if(Ie=G.ATH.cb_s[G.bm_s[te]]*pe,he=Math.min(Math.max(G.thm[0].s[te][Le],Ie),Math.max(G.thm[1].s[te][Le],Ie)),be=Math.max(G.thm[2].s[te][Le],Ie),ve=Math.max(G.thm[3].s[te][Le],Ie),he*W<be+ve){var xe=he*W/(be+ve);be*=xe,ve*=xe,S(be+ve>0)}G.thm[2].s[te][Le]=Math.min(G.thm[2].s[te][Le],be),G.thm[3].s[te][Le]=Math.min(G.thm[3].s[te][Le],ve)}}function Ae(G,W,ie,ce,pe){var te,he,be=0,ve=0;for(te=he=0;te<b.SBMAX_s;++he,++te){for(var Ie=G.bo_s[te],xe=G.npart_s,Le=Ie<xe?Ie:xe;he<Le;)S(W[he]>=0),S(ie[he]>=0),be+=W[he],ve+=ie[he],he++;if(G.en[ce].s[te][pe]=be,G.thm[ce].s[te][pe]=ve,he>=xe){++te;break}S(W[he]>=0),S(ie[he]>=0);{var et=G.PSY.bo_s_weight[te],xt=1-et;be=et*W[he],ve=et*ie[he],G.en[ce].s[te][pe]+=be,G.thm[ce].s[te][pe]+=ve,be=xt*W[he],ve=xt*ie[he]}}for(;te<b.SBMAX_s;++te)G.en[ce].s[te][pe]=0,G.thm[ce].s[te][pe]=0}function Me(G,W,ie,ce){var pe,te,he=0,be=0;for(pe=te=0;pe<b.SBMAX_l;++te,++pe){for(var ve=G.bo_l[pe],Ie=G.npart_l,xe=ve<Ie?ve:Ie;te<xe;)S(W[te]>=0),S(ie[te]>=0),he+=W[te],be+=ie[te],te++;if(G.en[ce].l[pe]=he,G.thm[ce].l[pe]=be,te>=Ie){++pe;break}S(W[te]>=0),S(ie[te]>=0);{var Le=G.PSY.bo_l_weight[pe],et=1-Le;he=Le*W[te],be=Le*ie[te],G.en[ce].l[pe]+=he,G.thm[ce].l[pe]+=be,he=et*W[te],be=et*ie[te]}}for(;pe<b.SBMAX_l;++pe)G.en[ce].l[pe]=0,G.thm[ce].l[pe]=0}function Ce(G,W,ie,ce,pe,te){var he=G.internal_flags,be,ve;for(ve=be=0;ve<he.npart_s;++ve){for(var Ie=0,xe=he.numlines_s[ve],Le=0;Le<xe;++Le,++be){var et=W[te][be];Ie+=et}ie[ve]=Ie}for(S(ve==he.npart_s),S(be==129),be=ve=0;ve<he.npart_s;ve++){var xt=he.s3ind_s[ve][0],ze=he.s3_ss[be++]*ie[xt];for(++xt;xt<=he.s3ind_s[ve][1];)ze+=he.s3_ss[be]*ie[xt],++be,++xt;{var Tt=Y*he.nb_s1[pe][ve];ce[ve]=Math.min(ze,Tt)}if(he.blocktype_old[pe&1]==b.SHORT_TYPE){var Tt=A*he.nb_s2[pe][ve],Be=ce[ve];ce[ve]=Math.min(Tt,Be)}he.nb_s2[pe][ve]=he.nb_s1[pe][ve],he.nb_s1[pe][ve]=ze,S(ce[ve]>=0)}for(;ve<=b.CBANDS;++ve)ie[ve]=0,ce[ve]=0}function He(G,W,ie,ce){var pe=G.internal_flags;G.short_blocks==e.short_block_coupled&&!(W[0]!=0&&W[1]!=0)&&(W[0]=W[1]=0);for(var te=0;te<pe.channels_out;te++)ce[te]=b.NORM_TYPE,G.short_blocks==e.short_block_dispensed&&(W[te]=1),G.short_blocks==e.short_block_forced&&(W[te]=0),W[te]!=0?(S(pe.blocktype_old[te]!=b.START_TYPE),pe.blocktype_old[te]==b.SHORT_TYPE&&(ce[te]=b.STOP_TYPE)):(ce[te]=b.SHORT_TYPE,pe.blocktype_old[te]==b.NORM_TYPE&&(pe.blocktype_old[te]=b.START_TYPE),pe.blocktype_old[te]==b.STOP_TYPE&&(pe.blocktype_old[te]=b.SHORT_TYPE)),ie[te]=pe.blocktype_old[te],pe.blocktype_old[te]=ce[te]}function lt(G,W,ie){return ie>=1?G:ie<=0?W:W>0?Math.pow(G/W,ie)*W:0}var Mt=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function I(G,W){for(var ie=309.07,ce=0;ce<b.SBMAX_s-1;ce++)for(var pe=0;pe<3;pe++){var te=G.thm.s[ce][pe];if(S(ce<Mt.length),te>0){var he=te*W,be=G.en.s[ce][pe];be>he&&(be>he*1e10?ie+=Mt[ce]*(10*w):(S(he>0),ie+=Mt[ce]*f.FAST_LOG10(be/he)))}}return ie}var X=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function Ne(G,W){for(var ie=281.0575,ce=0;ce<b.SBMAX_l-1;ce++){var pe=G.thm.l[ce];if(S(ce<X.length),pe>0){var te=pe*W,he=G.en.l[ce];he>te&&(he>te*1e10?ie+=X[ce]*(10*w):(S(te>0),ie+=X[ce]*f.FAST_LOG10(he/te)))}}return ie}function Te(G,W,ie,ce,pe){var te,he;for(te=he=0;te<G.npart_l;++te){var be=0,ve=0,Ie;for(Ie=0;Ie<G.numlines_l[te];++Ie,++he){var xe=W[he];S(xe>=0),be+=xe,ve<xe&&(ve=xe)}ie[te]=be,ce[te]=ve,pe[te]=be*G.rnumlines_l[te],S(G.rnumlines_l[te]>=0),S(be>=0),S(ie[te]>=0),S(ce[te]>=0),S(pe[te]>=0)}}function Fe(G,W,ie,ce){var pe=o.length-1,te=0,he=ie[te]+ie[te+1];if(S(he>=0),he>0){var be=W[te];be<W[te+1]&&(be=W[te+1]),S(G.numlines_l[te]+G.numlines_l[te+1]-1>0),he=20*(be*2-he)/(he*(G.numlines_l[te]+G.numlines_l[te+1]-1));var ve=0|he;ve>pe&&(ve=pe),ce[te]=ve}else ce[te]=0;for(te=1;te<G.npart_l-1;te++)if(he=ie[te-1]+ie[te]+ie[te+1],S(he>=0),he>0){var be=W[te-1];be<W[te]&&(be=W[te]),be<W[te+1]&&(be=W[te+1]),S(G.numlines_l[te-1]+G.numlines_l[te]+G.numlines_l[te+1]-1>0),he=20*(be*3-he)/(he*(G.numlines_l[te-1]+G.numlines_l[te]+G.numlines_l[te+1]-1));var ve=0|he;ve>pe&&(ve=pe),ce[te]=ve}else ce[te]=0;if(S(te>0),S(te==G.npart_l-1),he=ie[te-1]+ie[te],S(he>=0),he>0){var be=W[te-1];be<W[te]&&(be=W[te]),S(G.numlines_l[te-1]+G.numlines_l[te]-1>0),he=20*(be*2-he)/(he*(G.numlines_l[te-1]+G.numlines_l[te]-1));var ve=0|he;ve>pe&&(ve=pe),ce[te]=ve}else ce[te]=0;S(te==G.npart_l-1)}var Ge=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(G,W,ie,ce,pe,te,he,be,ve,Ie){var xe=G.internal_flags,Le=E([2,b.BLKSIZE]),et=E([2,3,b.BLKSIZE_s]),xt=v(b.CBANDS+1),ze=v(b.CBANDS+1),Tt=v(b.CBANDS+2),Be=y(2),ge=y(2),Pe,de,fe,ye,Je,dt,Qe,St,Ct=E([2,576]),ne,K=y(b.CBANDS+2),le=y(b.CBANDS+2);for(d.fill(le,0),Pe=xe.channels_out,G.mode==MPEGMode.JOINT_STEREO&&(Pe=4),G.VBR==n.vbr_off?ne=xe.ResvMax==0?0:xe.ResvSize/xe.ResvMax*.5:G.VBR==n.vbr_rh||G.VBR==n.vbr_mtrh||G.VBR==n.vbr_mt?ne=.6:ne=1,de=0;de<xe.channels_out;de++){var je=W[de],ot=ie+576-350-q+192;for(S(Ge.length==(q-1)/2),ye=0;ye<576;ye++){var qe,Rt;for(qe=je[ot+ye+10],Rt=0,Je=0;Je<(q-1)/2-1;Je+=2)qe+=Ge[Je]*(je[ot+ye+Je]+je[ot+ye+q-Je]),Rt+=Ge[Je+1]*(je[ot+ye+Je+1]+je[ot+ye+q-Je-1]);Ct[de][ye]=qe+Rt}pe[ce][de].en.assign(xe.en[de]),pe[ce][de].thm.assign(xe.thm[de]),Pe>2&&(te[ce][de].en.assign(xe.en[de+2]),te[ce][de].thm.assign(xe.thm[de+2]))}for(de=0;de<Pe;de++){var jt,At,ht=v(12),Bt=[0,0,0,0],Lt=v(12),Dt=1,Pt,Yt=v(b.CBANDS),zt=v(b.CBANDS),pt=[0,0,0,0],Kt=v(b.HBLKSIZE),er=E([3,b.HBLKSIZE_s]);for(S(xe.npart_s<=b.CBANDS),S(xe.npart_l<=b.CBANDS),ye=0;ye<3;ye++)ht[ye]=xe.nsPsy.last_en_subshort[de][ye+6],S(xe.nsPsy.last_en_subshort[de][ye+4]>0),Lt[ye]=ht[ye]/xe.nsPsy.last_en_subshort[de][ye+4],Bt[0]+=ht[ye];if(de==2)for(ye=0;ye<576;ye++){var Jt,rr;Jt=Ct[0][ye],rr=Ct[1][ye],Ct[0][ye]=Jt+rr,Ct[1][ye]=Jt-rr}{var nr=Ct[de&1],Ht=0;for(ye=0;ye<9;ye++){for(var Ft=Ht+64,Ut=1;Ht<Ft;Ht++)Ut<Math.abs(nr[Ht])&&(Ut=Math.abs(nr[Ht]));xe.nsPsy.last_en_subshort[de][ye]=ht[ye+3]=Ut,Bt[1+ye/3]+=Ut,Ut>ht[ye+3-2]?(S(ht[ye+3-2]>0),Ut=Ut/ht[ye+3-2]):ht[ye+3-2]>Ut*10?(S(Ut>0),Ut=ht[ye+3-2]/(Ut*10)):Ut=0,Lt[ye+3]=Ut}}if(G.analysis){var lr=Lt[0];for(ye=1;ye<12;ye++)lr<Lt[ye]&&(lr=Lt[ye]);xe.pinfo.ers[ce][de]=xe.pinfo.ers_save[de],xe.pinfo.ers_save[de]=lr}for(Pt=de==3?xe.nsPsy.attackthre_s:xe.nsPsy.attackthre,ye=0;ye<12;ye++)pt[ye/3]==0&&Lt[ye]>Pt&&(pt[ye/3]=ye%3+1);for(ye=1;ye<4;ye++){var fr;Bt[ye-1]>Bt[ye]?(S(Bt[ye]>0),fr=Bt[ye-1]/Bt[ye]):(S(Bt[ye-1]>0),fr=Bt[ye]/Bt[ye-1]),fr<1.7&&(pt[ye]=0,ye==1&&(pt[0]=0))}for(pt[0]!=0&&xe.nsPsy.lastAttacks[de]!=0&&(pt[0]=0),(xe.nsPsy.lastAttacks[de]==3||pt[0]+pt[1]+pt[2]+pt[3]!=0)&&(Dt=0,pt[1]!=0&&pt[0]!=0&&(pt[1]=0),pt[2]!=0&&pt[1]!=0&&(pt[2]=0),pt[3]!=0&&pt[2]!=0&&(pt[3]=0)),de<2?ge[de]=Dt:Dt==0&&(ge[0]=ge[1]=0),ve[de]=xe.tot_ener[de],At=et,jt=Le,x(G,Kt,er,jt,de&1,At,de&1,ce,de,W,ie),Te(xe,Kt,xt,Yt,zt),Fe(xe,Yt,zt,K),St=0;St<3;St++){var sr,Zt;for(Ce(G,er,ze,Tt,de,St),Ae(xe,ze,Tt,de,St),Qe=0;Qe<b.SBMAX_s;Qe++){if(Zt=xe.thm[de].s[Qe][St],Zt*=F,pt[St]>=2||pt[St+1]==1){var cr=St!=0?St-1:2,Ut=lt(xe.thm[de].s[Qe][cr],Zt,k*ne);Zt=Math.min(Zt,Ut)}if(pt[St]==1){var cr=St!=0?St-1:2,Ut=lt(xe.thm[de].s[Qe][cr],Zt,_*ne);Zt=Math.min(Zt,Ut)}else if(St!=0&&pt[St-1]==3||St==0&&xe.nsPsy.lastAttacks[de]==3){var cr=St!=2?St+1:0,Ut=lt(xe.thm[de].s[Qe][cr],Zt,_*ne);Zt=Math.min(Zt,Ut)}sr=ht[St*3+3]+ht[St*3+4]+ht[St*3+5],ht[St*3+5]*6<sr&&(Zt*=.5,ht[St*3+4]*6<sr&&(Zt*=.5)),xe.thm[de].s[Qe][St]=Zt}}for(xe.nsPsy.lastAttacks[de]=pt[2],dt=0,fe=0;fe<xe.npart_l;fe++){for(var Wt=xe.s3ind[fe][0],ar=xt[Wt]*o[K[Wt]],ur=xe.s3_ll[dt++]*ar;++Wt<=xe.s3ind[fe][1];)ar=xt[Wt]*o[K[Wt]],ur=C(ur,xe.s3_ll[dt++]*ar,Wt,Wt-fe,xe,0);ur*=.158489319246111,xe.blocktype_old[de&1]==b.SHORT_TYPE?Tt[fe]=ur:Tt[fe]=lt(Math.min(ur,Math.min(h*xe.nb_1[de][fe],N*xe.nb_2[de][fe])),ur,ne),xe.nb_2[de][fe]=xe.nb_1[de][fe],xe.nb_1[de][fe]=ur}for(;fe<=b.CBANDS;++fe)xt[fe]=0,Tt[fe]=0;Me(xe,xt,Tt,de)}if((G.mode==MPEGMode.STEREO||G.mode==MPEGMode.JOINT_STEREO)&&G.interChRatio>0&&$(G,G.interChRatio),G.mode==MPEGMode.JOINT_STEREO){var dr;se(xe),dr=G.msfix,Math.abs(dr)>0&&Ee(xe,dr,G.ATHlower*xe.ATH.adjust)}for(He(G,ge,Ie,Be),de=0;de<Pe;de++){var $t,tr=0,_t,vr;de>1?($t=be,tr=-2,_t=b.NORM_TYPE,(Ie[0]==b.SHORT_TYPE||Ie[1]==b.SHORT_TYPE)&&(_t=b.SHORT_TYPE),vr=te[ce][de-2]):($t=he,tr=0,_t=Ie[de],vr=pe[ce][de]),_t==b.SHORT_TYPE?$t[tr+de]=I(vr,xe.masking_lower):$t[tr+de]=Ne(vr,xe.masking_lower),G.analysis&&(xe.pinfo.pe[ce][de]=$t[tr+de])}return 0};function _e(G,W,ie,ce,pe,te,he,be){var ve=G.internal_flags;if(ce<2)B.fft_long(ve,he[be],ce,W,ie);else if(ce==2)for(var Ie=b.BLKSIZE-1;Ie>=0;--Ie){var xe=he[be+0][Ie],Le=he[be+1][Ie];he[be+0][Ie]=(xe+Le)*f.SQRT2*.5,he[be+1][Ie]=(xe-Le)*f.SQRT2*.5}te[0]=he[be+0][0],te[0]*=te[0];for(var Ie=b.BLKSIZE/2-1;Ie>=0;--Ie){var et=he[be+0][b.BLKSIZE/2-Ie],xt=he[be+0][b.BLKSIZE/2+Ie];te[b.BLKSIZE/2-Ie]=(et*et+xt*xt)*.5}{for(var ze=0,Ie=11;Ie<b.HBLKSIZE;Ie++)ze+=te[Ie];ve.tot_ener[ce]=ze}if(G.analysis){for(var Ie=0;Ie<b.HBLKSIZE;Ie++)ve.pinfo.energy[pe][ce][Ie]=ve.pinfo.energy_save[ce][Ie],ve.pinfo.energy_save[ce][Ie]=te[Ie];ve.pinfo.pe[pe][ce]=ve.pe[ce]}}function We(G,W,ie,ce,pe,te,he,be){var ve=G.internal_flags;if(pe==0&&ce<2&&B.fft_short(ve,he[be],ce,W,ie),ce==2)for(var Ie=b.BLKSIZE_s-1;Ie>=0;--Ie){var xe=he[be+0][pe][Ie],Le=he[be+1][pe][Ie];he[be+0][pe][Ie]=(xe+Le)*f.SQRT2*.5,he[be+1][pe][Ie]=(xe-Le)*f.SQRT2*.5}te[pe][0]=he[be+0][pe][0],te[pe][0]*=te[pe][0];for(var Ie=b.BLKSIZE_s/2-1;Ie>=0;--Ie){var et=he[be+0][pe][b.BLKSIZE_s/2-Ie],xt=he[be+0][pe][b.BLKSIZE_s/2+Ie];te[pe][b.BLKSIZE_s/2-Ie]=(et*et+xt*xt)*.5}}function st(G,W,ie,ce){var pe=G.internal_flags;G.athaa_loudapprox==2&&ie<2&&(pe.loudness_sq[W][ie]=pe.loudness_sq_save[ie],pe.loudness_sq_save[ie]=ue(ce,pe))}var ct=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function Ke(G,W,ie,ce,pe,te,he,be,ve,Ie){for(var xe=E([2,576]),Le=G.internal_flags,et=Le.channels_out,xt=G.mode==MPEGMode.JOINT_STEREO?4:et,ze=0;ze<et;ze++){firbuf=W[ze];var Tt=ie+576-350-q+192;S(ct.length==(q-1)/2);for(var Be=0;Be<576;Be++){var ge,Pe;ge=firbuf[Tt+Be+10],Pe=0;for(var de=0;de<(q-1)/2-1;de+=2)ge+=ct[de]*(firbuf[Tt+Be+de]+firbuf[Tt+Be+q-de]),Pe+=ct[de+1]*(firbuf[Tt+Be+de+1]+firbuf[Tt+Be+q-de-1]);xe[ze][Be]=ge+Pe}pe[ce][ze].en.assign(Le.en[ze]),pe[ce][ze].thm.assign(Le.thm[ze]),xt>2&&(te[ce][ze].en.assign(Le.en[ze+2]),te[ce][ze].thm.assign(Le.thm[ze+2]))}for(var ze=0;ze<xt;ze++){var fe=v(12),ye=v(12),Je=[0,0,0,0],dt=xe[ze&1],Qe=0,St=ze==3?Le.nsPsy.attackthre_s:Le.nsPsy.attackthre,Ct=1;if(ze==2)for(var Be=0,de=576;de>0;++Be,--de){var ne=xe[0][Be],K=xe[1][Be];xe[0][Be]=ne+K,xe[1][Be]=ne-K}for(var Be=0;Be<3;Be++)ye[Be]=Le.nsPsy.last_en_subshort[ze][Be+6],S(Le.nsPsy.last_en_subshort[ze][Be+4]>0),fe[Be]=ye[Be]/Le.nsPsy.last_en_subshort[ze][Be+4],Je[0]+=ye[Be];for(var Be=0;Be<9;Be++){for(var le=Qe+64,je=1;Qe<le;Qe++)je<Math.abs(dt[Qe])&&(je=Math.abs(dt[Qe]));Le.nsPsy.last_en_subshort[ze][Be]=ye[Be+3]=je,Je[1+Be/3]+=je,je>ye[Be+3-2]?(S(ye[Be+3-2]>0),je=je/ye[Be+3-2]):ye[Be+3-2]>je*10?(S(je>0),je=ye[Be+3-2]/(je*10)):je=0,fe[Be+3]=je}for(var Be=0;Be<3;++Be){var ot=ye[Be*3+3]+ye[Be*3+4]+ye[Be*3+5],qe=1;ye[Be*3+5]*6<ot&&(qe*=.5,ye[Be*3+4]*6<ot&&(qe*=.5)),be[ze][Be]=qe}if(G.analysis){for(var Rt=fe[0],Be=1;Be<12;Be++)Rt<fe[Be]&&(Rt=fe[Be]);Le.pinfo.ers[ce][ze]=Le.pinfo.ers_save[ze],Le.pinfo.ers_save[ze]=Rt}for(var Be=0;Be<12;Be++)ve[ze][Be/3]==0&&fe[Be]>St&&(ve[ze][Be/3]=Be%3+1);for(var Be=1;Be<4;Be++){var jt=Je[Be-1],At=Je[Be],ht=Math.max(jt,At);ht<4e4&&jt<1.7*At&&At<1.7*jt&&(Be==1&&ve[ze][0]<=ve[ze][Be]&&(ve[ze][0]=0),ve[ze][Be]=0)}ve[ze][0]<=Le.nsPsy.lastAttacks[ze]&&(ve[ze][0]=0),(Le.nsPsy.lastAttacks[ze]==3||ve[ze][0]+ve[ze][1]+ve[ze][2]+ve[ze][3]!=0)&&(Ct=0,ve[ze][1]!=0&&ve[ze][0]!=0&&(ve[ze][1]=0),ve[ze][2]!=0&&ve[ze][1]!=0&&(ve[ze][2]=0),ve[ze][3]!=0&&ve[ze][2]!=0&&(ve[ze][3]=0)),ze<2?Ie[ze]=Ct:Ct==0&&(Ie[0]=Ie[1]=0),he[ze]=Le.tot_ener[ze]}}function Et(G,W,ie){if(ie==0)for(var ce=0;ce<G.npart_s;ce++)G.nb_s2[W][ce]=G.nb_s1[W][ce],G.nb_s1[W][ce]=0}function $e(G,W){for(var ie=0;ie<G.npart_l;ie++)G.nb_2[W][ie]=G.nb_1[W][ie],G.nb_1[W][ie]=0}function tt(G,W,ie,ce){var pe=o.length-1,te=0,he=ie[te]+ie[te+1];if(S(he>=0),he>0){var be=W[te];be<W[te+1]&&(be=W[te+1]),S(G.numlines_s[te]+G.numlines_s[te+1]-1>0),he=20*(be*2-he)/(he*(G.numlines_s[te]+G.numlines_s[te+1]-1));var ve=0|he;ve>pe&&(ve=pe),ce[te]=ve}else ce[te]=0;for(te=1;te<G.npart_s-1;te++)if(he=ie[te-1]+ie[te]+ie[te+1],S(te+1<G.npart_s),S(he>=0),he>0){var be=W[te-1];be<W[te]&&(be=W[te]),be<W[te+1]&&(be=W[te+1]),S(G.numlines_s[te-1]+G.numlines_s[te]+G.numlines_s[te+1]-1>0),he=20*(be*3-he)/(he*(G.numlines_s[te-1]+G.numlines_s[te]+G.numlines_s[te+1]-1));var ve=0|he;ve>pe&&(ve=pe),ce[te]=ve}else ce[te]=0;if(S(te>0),S(te==G.npart_s-1),he=ie[te-1]+ie[te],S(he>=0),he>0){var be=W[te-1];be<W[te]&&(be=W[te]),S(G.numlines_s[te-1]+G.numlines_s[te]-1>0),he=20*(be*2-he)/(he*(G.numlines_s[te-1]+G.numlines_s[te]-1));var ve=0|he;ve>pe&&(ve=pe),ce[te]=ve}else ce[te]=0;S(te==G.npart_s-1)}function Ze(G,W,ie,ce,pe,te){var he=G.internal_flags,be=new float[b.CBANDS],ve=v(b.CBANDS),Ie,xe,Le,et=new int[b.CBANDS];for(Le=xe=0;Le<he.npart_s;++Le){var xt=0,ze=0,Tt=he.numlines_s[Le];for(Ie=0;Ie<Tt;++Ie,++xe){var Be=W[te][xe];xt+=Be,ze<Be&&(ze=Be)}ie[Le]=xt,S(xt>=0),be[Le]=ze,S(Tt>0),ve[Le]=xt/Tt,S(ve[Le]>=0)}for(S(Le==he.npart_s),S(xe==129);Le<b.CBANDS;++Le)be[Le]=0,ve[Le]=0;for(tt(he,be,ve,et),xe=Le=0;Le<he.npart_s;Le++){var ge=he.s3ind_s[Le][0],Pe=he.s3ind_s[Le][1],de,fe,ye,Je,dt;for(de=et[ge],fe=1,Je=he.s3_ss[xe]*ie[ge]*o[et[ge]],++xe,++ge;ge<=Pe;)de+=et[ge],fe+=1,ye=he.s3_ss[xe]*ie[ge]*o[et[ge]],Je=V(Je,ye,ge-Le),++xe,++ge;de=(1+2*de)/(2*fe),dt=o[de]*.5,Je*=dt,ce[Le]=Je,he.nb_s2[pe][Le]=he.nb_s1[pe][Le],he.nb_s1[pe][Le]=Je,ye=be[Le],ye*=he.minval_s[Le],ye*=dt,ce[Le]>ye&&(ce[Le]=ye),he.masking_lower>1&&(ce[Le]*=he.masking_lower),ce[Le]>ie[Le]&&(ce[Le]=ie[Le]),he.masking_lower<1&&(ce[Le]*=he.masking_lower),S(ce[Le]>=0)}for(;Le<b.CBANDS;++Le)ie[Le]=0,ce[Le]=0}function rt(G,W,ie,ce,pe){var te=v(b.CBANDS),he=v(b.CBANDS),be=y(b.CBANDS+2),ve;Te(G,W,ie,te,he),Fe(G,te,he,be);var Ie=0;for(ve=0;ve<G.npart_l;ve++){var xe,Le,et,xt,ze=G.s3ind[ve][0],Tt=G.s3ind[ve][1],Be=0,ge=0;for(Be=be[ze],ge+=1,Le=G.s3_ll[Ie]*ie[ze]*o[be[ze]],++Ie,++ze;ze<=Tt;)Be+=be[ze],ge+=1,xe=G.s3_ll[Ie]*ie[ze]*o[be[ze]],xt=V(Le,xe,ze-ve),Le=xt,++Ie,++ze;if(Be=(1+2*Be)/(2*ge),et=o[Be]*.5,Le*=et,G.blocktype_old[pe&1]==b.SHORT_TYPE){var Pe=h*G.nb_1[pe][ve];Pe>0?ce[ve]=Math.min(Le,Pe):ce[ve]=Math.min(Le,ie[ve]*_)}else{var de=N*G.nb_2[pe][ve],fe=h*G.nb_1[pe][ve],Pe;de<=0&&(de=Le),fe<=0&&(fe=Le),G.blocktype_old[pe&1]==b.NORM_TYPE?Pe=Math.min(fe,de):Pe=fe,ce[ve]=Math.min(Le,Pe)}G.nb_2[pe][ve]=G.nb_1[pe][ve],G.nb_1[pe][ve]=Le,xe=te[ve],xe*=G.minval_l[ve],xe*=et,ce[ve]>xe&&(ce[ve]=xe),G.masking_lower>1&&(ce[ve]*=G.masking_lower),ce[ve]>ie[ve]&&(ce[ve]=ie[ve]),G.masking_lower<1&&(ce[ve]*=G.masking_lower),S(ce[ve]>=0)}for(;ve<b.CBANDS;++ve)ie[ve]=0,ce[ve]=0}function at(G,W){var ie=G.internal_flags;G.short_blocks==e.short_block_coupled&&!(W[0]!=0&&W[1]!=0)&&(W[0]=W[1]=0);for(var ce=0;ce<ie.channels_out;ce++)G.short_blocks==e.short_block_dispensed&&(W[ce]=1),G.short_blocks==e.short_block_forced&&(W[ce]=0)}function we(G,W,ie){for(var ce=G.internal_flags,pe=0;pe<ce.channels_out;pe++){var te=b.NORM_TYPE;W[pe]!=0?(S(ce.blocktype_old[pe]!=b.START_TYPE),ce.blocktype_old[pe]==b.SHORT_TYPE&&(te=b.STOP_TYPE)):(te=b.SHORT_TYPE,ce.blocktype_old[pe]==b.NORM_TYPE&&(ce.blocktype_old[pe]=b.START_TYPE),ce.blocktype_old[pe]==b.STOP_TYPE&&(ce.blocktype_old[pe]=b.SHORT_TYPE)),ie[pe]=ce.blocktype_old[pe],ce.blocktype_old[pe]=te}}function it(G,W,ie,ce,pe,te,he){for(var be=te*2,ve=te>0?Math.pow(10,pe):1,Ie,xe,Le=0;Le<he;++Le){var et=G[2][Le],xt=G[3][Le],ze=W[0][Le],Tt=W[1][Le],Be=W[2][Le],ge=W[3][Le];if(ze<=1.58*Tt&&Tt<=1.58*ze){var Pe=ie[Le]*xt,de=ie[Le]*et;xe=Math.max(Be,Math.min(ge,Pe)),Ie=Math.max(ge,Math.min(Be,de))}else xe=Be,Ie=ge;if(te>0){var fe,ye,Je=ce[Le]*ve;if(fe=Math.min(Math.max(ze,Je),Math.max(Tt,Je)),Be=Math.max(xe,Je),ge=Math.max(Ie,Je),ye=Be+ge,ye>0&&fe*be<ye){var dt=fe*be/ye;Be*=dt,ge*=dt,S(ye>0)}xe=Math.min(Be,xe),Ie=Math.min(ge,Ie)}xe>et&&(xe=et),Ie>xt&&(Ie=xt),W[2][Le]=xe,W[3][Le]=Ie}}this.L3psycho_anal_vbr=function(G,W,ie,ce,pe,te,he,be,ve,Ie){var xe=G.internal_flags,Le,et,xt=v(b.HBLKSIZE),ze=E([3,b.HBLKSIZE_s]),Tt=E([2,b.BLKSIZE]),Be=E([2,3,b.BLKSIZE_s]),ge=E([4,b.CBANDS]),Pe=E([4,b.CBANDS]),de=E([4,3]),fe=.6,ye=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Je=y(2),dt=G.mode==MPEGMode.JOINT_STEREO?4:xe.channels_out;Ke(G,W,ie,ce,pe,te,ve,de,ye,Je),at(G,Je);{for(var Qe=0;Qe<dt;Qe++){var St=Qe&1;Le=Tt,_e(G,W,ie,Qe,ce,xt,Le,St),st(G,ce,Qe,xt),Je[St]!=0?rt(xe,xt,ge[Qe],Pe[Qe],Qe):$e(xe,Qe)}Je[0]+Je[1]==2&&G.mode==MPEGMode.JOINT_STEREO&&it(ge,Pe,xe.mld_cb_l,xe.ATH.cb_l,G.ATHlower*xe.ATH.adjust,G.msfix,xe.npart_l);for(var Qe=0;Qe<dt;Qe++){var St=Qe&1;Je[St]!=0&&Me(xe,ge[Qe],Pe[Qe],Qe)}}{for(var Ct=0;Ct<3;Ct++){for(var Qe=0;Qe<dt;++Qe){var St=Qe&1;Je[St]!=0?Et(xe,Qe,Ct):(et=Be,We(G,W,ie,Qe,Ct,ze,et,St),Ze(G,ze,ge[Qe],Pe[Qe],Qe,Ct))}Je[0]+Je[1]==0&&G.mode==MPEGMode.JOINT_STEREO&&it(ge,Pe,xe.mld_cb_s,xe.ATH.cb_s,G.ATHlower*xe.ATH.adjust,G.msfix,xe.npart_s);for(var Qe=0;Qe<dt;++Qe){var St=Qe&1;Je[St]==0&&Ae(xe,ge[Qe],Pe[Qe],Qe,Ct)}}for(var Qe=0;Qe<dt;Qe++){var St=Qe&1;if(Je[St]==0)for(var ne=0;ne<b.SBMAX_s;ne++){for(var K=v(3),Ct=0;Ct<3;Ct++){var le=xe.thm[Qe].s[ne][Ct];if(le*=F,ye[Qe][Ct]>=2||ye[Qe][Ct+1]==1){var je=Ct!=0?Ct-1:2,ot=lt(xe.thm[Qe].s[ne][je],le,k*fe);le=Math.min(le,ot)}else if(ye[Qe][Ct]==1){var je=Ct!=0?Ct-1:2,ot=lt(xe.thm[Qe].s[ne][je],le,_*fe);le=Math.min(le,ot)}else if(Ct!=0&&ye[Qe][Ct-1]==3||Ct==0&&xe.nsPsy.lastAttacks[Qe]==3){var je=Ct!=2?Ct+1:0,ot=lt(xe.thm[Qe].s[ne][je],le,_*fe);le=Math.min(le,ot)}le*=de[Qe][Ct],K[Ct]=le}for(var Ct=0;Ct<3;Ct++)xe.thm[Qe].s[ne][Ct]=K[Ct]}}}for(var Qe=0;Qe<dt;Qe++)xe.nsPsy.lastAttacks[Qe]=ye[Qe][2];we(G,Je,Ie);for(var Qe=0;Qe<dt;Qe++){var qe,Rt,jt,At;Qe>1?(qe=be,Rt=-2,jt=b.NORM_TYPE,(Ie[0]==b.SHORT_TYPE||Ie[1]==b.SHORT_TYPE)&&(jt=b.SHORT_TYPE),At=te[ce][Qe-2]):(qe=he,Rt=0,jt=Ie[Qe],At=pe[ce][Qe]),jt==b.SHORT_TYPE?qe[Rt+Qe]=I(At,xe.masking_lower):qe[Rt+Qe]=Ne(At,xe.masking_lower),G.analysis&&(xe.pinfo.pe[ce][Qe]=qe[Rt+Qe])}return 0};function ut(G,W){var ie=G,ce;return ie>=0?ce=-ie*27:ce=ie*W,ce<=-72?0:Math.exp(ce*re)}function gt(G){var W=0,ie=0;{var ce=0,pe,te;for(ce=0;ut(ce,G)>1e-20;ce-=1);for(pe=ce,te=0;Math.abs(te-pe)>1e-12;)ce=(te+pe)/2,ut(ce,G)>0?te=ce:pe=ce;W=pe}{var ce=0,pe,te;for(ce=0;ut(ce,G)>1e-20;ce+=1);for(pe=0,te=ce;Math.abs(te-pe)>1e-12;)ce=(te+pe)/2,ut(ce,G)>0?pe=ce:te=ce;ie=te}{var he=0,be=1e3,ve;for(ve=0;ve<=be;++ve){var ce=W+ve*(ie-W)/be,Ie=ut(ce,G);he+=Ie}{var xe=(be+1)/(he*(ie-W));return xe}}}function Ot(G){var W,ie,ce,pe;return W=G,W>=0?W*=3:W*=1.5,W>=.5&&W<=2.5?(pe=W-.5,ie=8*(pe*pe-2*pe)):ie=0,W+=.474,ce=15.811389+7.5*W-17.5*Math.sqrt(1+W*W),ce<=-60?0:(W=Math.exp((ie+ce)*re),W/=.6609193,W)}function wt(G){return G<0&&(G=0),G=G*.001,13*Math.atan(.76*G)+3.5*Math.atan(G*G/(7.5*7.5))}function Se(G,W,ie,ce,pe,te,he,be,ve,Ie,xe,Le){var et=v(b.CBANDS+1),xt=be/(Le>15?2*576:2*192),ze=y(b.HBLKSIZE),Tt;be/=ve;var Be=0,ge=0;for(Tt=0;Tt<b.CBANDS;Tt++){var Pe,de;for(Pe=wt(be*Be),et[Tt]=be*Be,de=Be;wt(be*de)-Pe<L&&de<=ve/2;de++);for(G[Tt]=de-Be,ge=Tt+1;Be<de;)S(Be<b.HBLKSIZE),ze[Be++]=Tt;if(Be>ve/2){Be=ve/2,++Tt;break}}S(Tt<b.CBANDS),et[Tt]=be*Be;for(var fe=0;fe<Le;fe++){var ye,Je,dt,Qe,St;dt=Ie[fe],Qe=Ie[fe+1],ye=0|Math.floor(.5+xe*(dt-.5)),ye<0&&(ye=0),Je=0|Math.floor(.5+xe*(Qe-.5)),Je>ve/2&&(Je=ve/2),ie[fe]=(ze[ye]+ze[Je])/2,W[fe]=ze[Je];var Ct=xt*Qe;he[fe]=(Ct-et[W[fe]])/(et[W[fe]+1]-et[W[fe]]),he[fe]<0?he[fe]=0:he[fe]>1&&(he[fe]=1),St=wt(be*Ie[fe]*xe),St=Math.min(St,15.5)/15.5,te[fe]=Math.pow(10,1.25*(1-Math.cos(Math.PI*St))-2.5)}Be=0;for(var ne=0;ne<ge;ne++){var K=G[ne],Pe,le;Pe=wt(be*Be),le=wt(be*(Be+K-1)),ce[ne]=.5*(Pe+le),Pe=wt(be*(Be-.5)),le=wt(be*(Be+K-.5)),pe[ne]=le-Pe,Be+=K}return ge}function me(G,W,ie,ce,pe,te){var he=E([b.CBANDS,b.CBANDS]),be,ve=0;if(te)for(var Ie=0;Ie<W;Ie++)for(be=0;be<W;be++){var xe=Ot(ie[Ie]-ie[be])*ce[be];he[Ie][be]=xe*pe[Ie]}else for(be=0;be<W;be++)for(var Le=15+Math.min(21/ie[be],12),et=gt(Le),Ie=0;Ie<W;Ie++){var xe=et*ut(ie[Ie]-ie[be],Le)*ce[be];he[Ie][be]=xe*pe[Ie]}for(var Ie=0;Ie<W;Ie++){for(be=0;be<W&&!(he[Ie][be]>0);be++);for(G[Ie][0]=be,be=W-1;be>0&&!(he[Ie][be]>0);be--);G[Ie][1]=be,ve+=G[Ie][1]-G[Ie][0]+1}for(var xt=v(ve),ze=0,Ie=0;Ie<W;Ie++)for(be=G[Ie][0];be<=G[Ie][1];be++)xt[ze++]=he[Ie][be];return xt}function Re(G){var W=wt(G);return W=Math.min(W,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*W))-2.5)}this.psymodel_init=function(G){var W=G.internal_flags,ie,ce=!0,pe=13,te=24,he=0,be=0,ve=-8.25,Ie=-4.5,xe=v(b.CBANDS),Le=v(b.CBANDS),et=v(b.CBANDS),xt=G.out_samplerate;switch(G.experimentalZ){default:case 0:ce=!0;break;case 1:ce=!(G.VBR==n.vbr_mtrh||G.VBR==n.vbr_mt);break;case 2:ce=!1;break;case 3:pe=8,he=-1.75,be=-.0125,ve=-8.25,Ie=-2.25;break}for(W.ms_ener_ratio_old=.25,W.blocktype_old[0]=W.blocktype_old[1]=b.NORM_TYPE,ie=0;ie<4;++ie){for(var Be=0;Be<b.CBANDS;++Be)W.nb_1[ie][Be]=1e20,W.nb_2[ie][Be]=1e20,W.nb_s1[ie][Be]=W.nb_s2[ie][Be]=1;for(var ze=0;ze<b.SBMAX_l;ze++)W.en[ie].l[ze]=1e20,W.thm[ie].l[ze]=1e20;for(var Be=0;Be<3;++Be){for(var ze=0;ze<b.SBMAX_s;ze++)W.en[ie].s[ze][Be]=1e20,W.thm[ie].s[ze][Be]=1e20;W.nsPsy.lastAttacks[ie]=0}for(var Be=0;Be<9;Be++)W.nsPsy.last_en_subshort[ie][Be]=10}for(W.loudness_sq_save[0]=W.loudness_sq_save[1]=0,W.npart_l=Se(W.numlines_l,W.bo_l,W.bm_l,xe,Le,W.mld_l,W.PSY.bo_l_weight,xt,b.BLKSIZE,W.scalefac_band.l,b.BLKSIZE/(2*576),b.SBMAX_l),S(W.npart_l<b.CBANDS),ie=0;ie<W.npart_l;ie++){var Tt=he;xe[ie]>=pe&&(Tt=be*(xe[ie]-pe)/(te-pe)+he*(te-xe[ie])/(te-pe)),et[ie]=Math.pow(10,Tt/10),W.numlines_l[ie]>0?W.rnumlines_l[ie]=1/W.numlines_l[ie]:W.rnumlines_l[ie]=0}W.s3_ll=me(W.s3ind,W.npart_l,xe,Le,et,ce);var Be=0;for(ie=0;ie<W.npart_l;ie++){var ge;ge=s.MAX_VALUE;for(var Pe=0;Pe<W.numlines_l[ie];Pe++,Be++){var de=xt*Be/(1e3*b.BLKSIZE),fe;fe=this.ATHformula(de*1e3,G)-20,fe=Math.pow(10,.1*fe),fe*=W.numlines_l[ie],ge>fe&&(ge=fe)}W.ATH.cb_l[ie]=ge,ge=-20+xe[ie]*20/10,ge>6&&(ge=100),ge<-15&&(ge=-15),ge-=8,W.minval_l[ie]=Math.pow(10,ge/10)*W.numlines_l[ie]}for(W.npart_s=Se(W.numlines_s,W.bo_s,W.bm_s,xe,Le,W.mld_s,W.PSY.bo_s_weight,xt,b.BLKSIZE_s,W.scalefac_band.s,b.BLKSIZE_s/(2*192),b.SBMAX_s),S(W.npart_s<b.CBANDS),Be=0,ie=0;ie<W.npart_s;ie++){var ge,Tt=ve;xe[ie]>=pe&&(Tt=Ie*(xe[ie]-pe)/(te-pe)+ve*(te-xe[ie])/(te-pe)),et[ie]=Math.pow(10,Tt/10),ge=s.MAX_VALUE;for(var Pe=0;Pe<W.numlines_s[ie];Pe++,Be++){var de=xt*Be/(1e3*b.BLKSIZE_s),fe;fe=this.ATHformula(de*1e3,G)-20,fe=Math.pow(10,.1*fe),fe*=W.numlines_s[ie],ge>fe&&(ge=fe)}W.ATH.cb_s[ie]=ge,ge=-7+xe[ie]*7/12,xe[ie]>12&&(ge*=1+Math.log(1+ge)*3.1),xe[ie]<12&&(ge*=1+Math.log(1-ge)*2.3),ge<-15&&(ge=-15),ge-=8,W.minval_s[ie]=Math.pow(10,ge/10)*W.numlines_s[ie]}W.s3_ss=me(W.s3ind_s,W.npart_s,xe,Le,et,ce),u(),B.init_fft(W),W.decay=Math.exp(-1*w/(a*xt/192));{var ye;ye=ee,(G.exp_nspsytune&2)!=0&&(ye=1),Math.abs(G.msfix)>0&&(ye=G.msfix),G.msfix=ye;for(var Je=0;Je<W.npart_l;Je++)W.s3ind[Je][1]>W.npart_l-1&&(W.s3ind[Je][1]=W.npart_l-1)}var dt=576*W.mode_gr/xt;if(W.ATH.decay=Math.pow(10,-12/10*dt),W.ATH.adjust=.01,W.ATH.adjustLimit=1,S(W.bo_l[b.SBMAX_l-1]<=W.npart_l),S(W.bo_s[b.SBMAX_s-1]<=W.npart_s),G.ATHtype!=-1){var de,Qe=G.out_samplerate/b.BLKSIZE,St=0;for(de=0,ie=0;ie<b.BLKSIZE/2;++ie)de+=Qe,W.ATH.eql_w[ie]=1/Math.pow(10,this.ATHformula(de,G)/10),St+=W.ATH.eql_w[ie];for(St=1/St,ie=b.BLKSIZE/2;--ie>=0;)W.ATH.eql_w[ie]*=St}{for(var Je=Be=0;Je<W.npart_s;++Je)for(ie=0;ie<W.numlines_s[Je];++ie)++Be;S(Be==129);for(var Je=Be=0;Je<W.npart_l;++Je)for(ie=0;ie<W.numlines_l[Je];++ie)++Be;S(Be==513)}for(Be=0,ie=0;ie<W.npart_l;ie++){var de=xt*(Be+W.numlines_l[ie]/2)/(1*b.BLKSIZE);W.mld_cb_l[ie]=Re(de),Be+=W.numlines_l[ie]}for(;ie<b.CBANDS;++ie)W.mld_cb_l[ie]=1;for(Be=0,ie=0;ie<W.npart_s;ie++){var de=xt*(Be+W.numlines_s[ie]/2)/(1*b.BLKSIZE_s);W.mld_cb_s[ie]=Re(de),Be+=W.numlines_s[ie]}for(;ie<b.CBANDS;++ie)W.mld_cb_s[ie]=1;return 0};function Ue(G,W){G<-.3&&(G=3410),G/=1e3,G=Math.max(.1,G);var ie=3.64*Math.pow(G,-.8)-6.8*Math.exp(-.6*Math.pow(G-3.4,2))+6*Math.exp(-.15*Math.pow(G-8.7,2))+(.6+.04*W)*.001*Math.pow(G,4);return ie}this.ATHformula=function(G,W){var ie;switch(W.ATHtype){case 0:ie=Ue(G,9);break;case 1:ie=Ue(G,-1);break;case 2:ie=Ue(G,0);break;case 3:ie=Ue(G,1)+6;break;case 4:ie=Ue(G,W.ATHcurve);break;default:ie=Ue(G,0);break}return ie}}m.exports=g},"2532":function(m,T,t){var r=t("23e7"),n=t("e330"),s=t("5a34"),e=t("1d80"),f=t("577e"),d=t("ab13"),v=n("".indexOf);r({target:"String",proto:!0,forced:!d("includes")},{includes:function(y){return!!~v(f(e(this)),f(s(y)),arguments.length>1?arguments[1]:void 0)}})},"254c":function(m,T,t){T.__esModule=!0,T.inherits=r;function r(n,s){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=Object.create(n.prototype);for(var d in e)f[d]=e[d];return f.constructor=s,s.prototype=f,s}},"25a1":function(m,T,t){var r=t("ebb5"),n=t("d58f").right,s=r.aTypedArray,e=r.exportTypedArrayMethod;e("reduceRight",function(d){var v=arguments.length;return n(s(this),d,v,v>1?arguments[1]:void 0)})},"25f0":function(m,T,t){var r=t("e330"),n=t("5e77").PROPER,s=t("6eeb"),e=t("825a"),f=t("3a9b"),d=t("577e"),v=t("d039"),E=t("ad6d"),y="toString",S=RegExp.prototype,O=S[y],b=r(E),g=v(function(){return O.call({source:"a",flags:"b"})!="/a/b"}),B=n&&O.name!=y;(g||B)&&s(RegExp.prototype,y,function(){var h=e(this),N=d(h.source),Y=h.flags,A=d(Y===void 0&&f(S,h)&&!("flags"in S)?b(h):Y);return"/"+N+"/"+A},{unsafe:!0})},"2626":function(m,T,t){var r=t("d066"),n=t("9bf2"),s=t("b622"),e=t("83ab"),f=s("species");m.exports=function(d){var v=r(d),E=n.f;e&&v&&!v[f]&&E(v,f,{configurable:!0,get:function(){return this}})}},"2695":function(m,T,t){var r=t("0206");r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n;var n=r.new_int;r.new_int_n,r.assert;var s=t("f3b5");function e(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[n(4),n(4)];for(var f=0;f<2;f++)for(var d=0;d<2;d++)this.tt[f][d]=new s}m.exports=e},"277d":function(m,T,t){var r=t("23e7"),n=t("e8b5");r({target:"Array",stat:!0},{isArray:n})},"2954":function(m,T,t){var r=t("ebb5"),n=t("b6b7"),s=t("d039"),e=t("f36a"),f=r.aTypedArray,d=r.exportTypedArrayMethod,v=s(function(){new Int8Array(1).slice()});d("slice",function(y,S){for(var O=e(f(this),y,S),b=n(this),g=0,B=O.length,w=new b(B);B>g;)w[g]=O[g++];return w},v)},"2a62":function(m,T,t){var r=t("c65b"),n=t("825a"),s=t("dc4a");m.exports=function(e,f,d){var v,E;n(e);try{if(v=s(e,"return"),!v){if(f==="throw")throw d;return d}v=r(v,e)}catch(y){E=!0,v=y}if(f==="throw")throw d;if(E)throw v;return n(v),d}},"2b3d":function(m,T,t){t("3ca3");var r=t("23e7"),n=t("83ab"),s=t("0d3b"),e=t("da84"),f=t("0366"),d=t("e330"),v=t("37e8").f,E=t("6eeb"),y=t("19aa"),S=t("1a2d"),O=t("60da"),b=t("4df4"),g=t("4dae"),B=t("6547").codeAt,w=t("5fb2"),h=t("577e"),N=t("d44e"),Y=t("d6d6"),A=t("9861"),L=t("69f3"),D=L.set,a=L.getterFor("URL"),F=A.URLSearchParams,k=A.getState,_=e.URL,ee=e.TypeError,q=e.parseInt,re=Math.floor,Oe=Math.pow,ue=d("".charAt),x=d(/./.exec),Q=d([].join),p=d(1 .toString),j=d([].pop),H=d([].push),Z=d("".replace),P=d([].shift),o=d("".split),u=d("".slice),c=d("".toLowerCase),R=d([].unshift),U="Invalid authority",C="Invalid scheme",z="Invalid host",V="Invalid port",$=/[a-z]/i,se=/[\d+-.a-z]/i,Ee=/\d/,Ae=/^0x/i,Me=/^[0-7]+$/,Ce=/^\d+$/,He=/^[\da-f]+$/i,lt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Mt=/[\0\t\n\r #/:<>?@[\\\]^|]/,I=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,X=/[\t\n\r]/g,Ne,Te=function(ge){var Pe=o(ge,"."),de,fe,ye,Je,dt,Qe,St;if(Pe.length&&Pe[Pe.length-1]==""&&Pe.length--,de=Pe.length,de>4)return ge;for(fe=[],ye=0;ye<de;ye++){if(Je=Pe[ye],Je=="")return ge;if(dt=10,Je.length>1&&ue(Je,0)=="0"&&(dt=x(Ae,Je)?16:8,Je=u(Je,dt==8?1:2)),Je==="")Qe=0;else{if(!x(dt==10?Ce:dt==8?Me:He,Je))return ge;Qe=q(Je,dt)}H(fe,Qe)}for(ye=0;ye<de;ye++)if(Qe=fe[ye],ye==de-1){if(Qe>=Oe(256,5-de))return null}else if(Qe>255)return null;for(St=j(fe),ye=0;ye<fe.length;ye++)St+=fe[ye]*Oe(256,3-ye);return St},Fe=function(ge){var Pe=[0,0,0,0,0,0,0,0],de=0,fe=null,ye=0,Je,dt,Qe,St,Ct,ne,K,le=function(){return ue(ge,ye)};if(le()==":"){if(ue(ge,1)!=":")return;ye+=2,de++,fe=de}for(;le();){if(de==8)return;if(le()==":"){if(fe!==null)return;ye++,de++,fe=de;continue}for(Je=dt=0;dt<4&&x(He,le());)Je=Je*16+q(le(),16),ye++,dt++;if(le()=="."){if(dt==0||(ye-=dt,de>6))return;for(Qe=0;le();){if(St=null,Qe>0)if(le()=="."&&Qe<4)ye++;else return;if(!x(Ee,le()))return;for(;x(Ee,le());){if(Ct=q(le(),10),St===null)St=Ct;else{if(St==0)return;St=St*10+Ct}if(St>255)return;ye++}Pe[de]=Pe[de]*256+St,Qe++,(Qe==2||Qe==4)&&de++}if(Qe!=4)return;break}else if(le()==":"){if(ye++,!le())return}else if(le())return;Pe[de++]=Je}if(fe!==null)for(ne=de-fe,de=7;de!=0&&ne>0;)K=Pe[de],Pe[de--]=Pe[fe+ne-1],Pe[fe+--ne]=K;else if(de!=8)return;return Pe},Ge=function(ge){for(var Pe=null,de=1,fe=null,ye=0,Je=0;Je<8;Je++)ge[Je]!==0?(ye>de&&(Pe=fe,de=ye),fe=null,ye=0):(fe===null&&(fe=Je),++ye);return ye>de&&(Pe=fe,de=ye),Pe},_e=function(ge){var Pe,de,fe,ye;if(typeof ge=="number"){for(Pe=[],de=0;de<4;de++)R(Pe,ge%256),ge=re(ge/256);return Q(Pe,".")}else if(typeof ge=="object"){for(Pe="",fe=Ge(ge),de=0;de<8;de++)ye&&ge[de]===0||(ye&&(ye=!1),fe===de?(Pe+=de?":":"::",ye=!0):(Pe+=p(ge[de],16),de<7&&(Pe+=":")));return"["+Pe+"]"}return ge},We={},st=O({},We,{" ":1,'"':1,"<":1,">":1,"`":1}),ct=O({},st,{"#":1,"?":1,"{":1,"}":1}),Ke=O({},ct,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Et=function(ge,Pe){var de=B(ge,0);return de>32&&de<127&&!S(Pe,ge)?ge:encodeURIComponent(ge)},$e={ftp:21,file:null,http:80,https:443,ws:80,wss:443},tt=function(ge,Pe){var de;return ge.length==2&&x($,ue(ge,0))&&((de=ue(ge,1))==":"||!Pe&&de=="|")},Ze=function(ge){var Pe;return ge.length>1&&tt(u(ge,0,2))&&(ge.length==2||(Pe=ue(ge,2))==="/"||Pe==="\\"||Pe==="?"||Pe==="#")},rt=function(ge){return ge==="."||c(ge)==="%2e"},at=function(ge){return ge=c(ge),ge===".."||ge==="%2e."||ge===".%2e"||ge==="%2e%2e"},we={},it={},ut={},gt={},Ot={},wt={},Se={},me={},Re={},Ue={},G={},W={},ie={},ce={},pe={},te={},he={},be={},ve={},Ie={},xe={},Le=function(ge,Pe,de){var fe=h(ge),ye,Je,dt;if(Pe){if(Je=this.parse(fe),Je)throw ee(Je);this.searchParams=null}else{if(de!==void 0&&(ye=new Le(de,!0)),Je=this.parse(fe,null,ye),Je)throw ee(Je);dt=k(new F),dt.bindURL(this),this.searchParams=dt}};Le.prototype={type:"URL",parse:function(ge,Pe,de){var fe=this,ye=Pe||we,Je=0,dt="",Qe=!1,St=!1,Ct=!1,ne,K,le,je;for(ge=h(ge),Pe||(fe.scheme="",fe.username="",fe.password="",fe.host=null,fe.port=null,fe.path=[],fe.query=null,fe.fragment=null,fe.cannotBeABaseURL=!1,ge=Z(ge,I,"")),ge=Z(ge,X,""),ne=b(ge);Je<=ne.length;){switch(K=ne[Je],ye){case we:if(K&&x($,K))dt+=c(K),ye=it;else{if(Pe)return C;ye=ut;continue}break;case it:if(K&&(x(se,K)||K=="+"||K=="-"||K=="."))dt+=c(K);else if(K==":"){if(Pe&&(fe.isSpecial()!=S($e,dt)||dt=="file"&&(fe.includesCredentials()||fe.port!==null)||fe.scheme=="file"&&!fe.host))return;if(fe.scheme=dt,Pe){fe.isSpecial()&&$e[fe.scheme]==fe.port&&(fe.port=null);return}dt="",fe.scheme=="file"?ye=ce:fe.isSpecial()&&de&&de.scheme==fe.scheme?ye=gt:fe.isSpecial()?ye=me:ne[Je+1]=="/"?(ye=Ot,Je++):(fe.cannotBeABaseURL=!0,H(fe.path,""),ye=ve)}else{if(Pe)return C;dt="",ye=ut,Je=0;continue}break;case ut:if(!de||de.cannotBeABaseURL&&K!="#")return C;if(de.cannotBeABaseURL&&K=="#"){fe.scheme=de.scheme,fe.path=g(de.path),fe.query=de.query,fe.fragment="",fe.cannotBeABaseURL=!0,ye=xe;break}ye=de.scheme=="file"?ce:wt;continue;case gt:if(K=="/"&&ne[Je+1]=="/")ye=Re,Je++;else{ye=wt;continue}break;case Ot:if(K=="/"){ye=Ue;break}else{ye=be;continue}case wt:if(fe.scheme=de.scheme,K==Ne)fe.username=de.username,fe.password=de.password,fe.host=de.host,fe.port=de.port,fe.path=g(de.path),fe.query=de.query;else if(K=="/"||K=="\\"&&fe.isSpecial())ye=Se;else if(K=="?")fe.username=de.username,fe.password=de.password,fe.host=de.host,fe.port=de.port,fe.path=g(de.path),fe.query="",ye=Ie;else if(K=="#")fe.username=de.username,fe.password=de.password,fe.host=de.host,fe.port=de.port,fe.path=g(de.path),fe.query=de.query,fe.fragment="",ye=xe;else{fe.username=de.username,fe.password=de.password,fe.host=de.host,fe.port=de.port,fe.path=g(de.path),fe.path.length--,ye=be;continue}break;case Se:if(fe.isSpecial()&&(K=="/"||K=="\\"))ye=Re;else if(K=="/")ye=Ue;else{fe.username=de.username,fe.password=de.password,fe.host=de.host,fe.port=de.port,ye=be;continue}break;case me:if(ye=Re,K!="/"||ue(dt,Je+1)!="/")continue;Je++;break;case Re:if(K!="/"&&K!="\\"){ye=Ue;continue}break;case Ue:if(K=="@"){Qe&&(dt="%40"+dt),Qe=!0,le=b(dt);for(var ot=0;ot<le.length;ot++){var qe=le[ot];if(qe==":"&&!Ct){Ct=!0;continue}var Rt=Et(qe,Ke);Ct?fe.password+=Rt:fe.username+=Rt}dt=""}else if(K==Ne||K=="/"||K=="?"||K=="#"||K=="\\"&&fe.isSpecial()){if(Qe&&dt=="")return U;Je-=b(dt).length+1,dt="",ye=G}else dt+=K;break;case G:case W:if(Pe&&fe.scheme=="file"){ye=te;continue}else if(K==":"&&!St){if(dt=="")return z;if(je=fe.parseHost(dt),je)return je;if(dt="",ye=ie,Pe==W)return}else if(K==Ne||K=="/"||K=="?"||K=="#"||K=="\\"&&fe.isSpecial()){if(fe.isSpecial()&&dt=="")return z;if(Pe&&dt==""&&(fe.includesCredentials()||fe.port!==null))return;if(je=fe.parseHost(dt),je)return je;if(dt="",ye=he,Pe)return;continue}else K=="["?St=!0:K=="]"&&(St=!1),dt+=K;break;case ie:if(x(Ee,K))dt+=K;else if(K==Ne||K=="/"||K=="?"||K=="#"||K=="\\"&&fe.isSpecial()||Pe){if(dt!=""){var jt=q(dt,10);if(jt>65535)return V;fe.port=fe.isSpecial()&&jt===$e[fe.scheme]?null:jt,dt=""}if(Pe)return;ye=he;continue}else return V;break;case ce:if(fe.scheme="file",K=="/"||K=="\\")ye=pe;else if(de&&de.scheme=="file")if(K==Ne)fe.host=de.host,fe.path=g(de.path),fe.query=de.query;else if(K=="?")fe.host=de.host,fe.path=g(de.path),fe.query="",ye=Ie;else if(K=="#")fe.host=de.host,fe.path=g(de.path),fe.query=de.query,fe.fragment="",ye=xe;else{Ze(Q(g(ne,Je),""))||(fe.host=de.host,fe.path=g(de.path),fe.shortenPath()),ye=be;continue}else{ye=be;continue}break;case pe:if(K=="/"||K=="\\"){ye=te;break}de&&de.scheme=="file"&&!Ze(Q(g(ne,Je),""))&&(tt(de.path[0],!0)?H(fe.path,de.path[0]):fe.host=de.host),ye=be;continue;case te:if(K==Ne||K=="/"||K=="\\"||K=="?"||K=="#"){if(!Pe&&tt(dt))ye=be;else if(dt==""){if(fe.host="",Pe)return;ye=he}else{if(je=fe.parseHost(dt),je)return je;if(fe.host=="localhost"&&(fe.host=""),Pe)return;dt="",ye=he}continue}else dt+=K;break;case he:if(fe.isSpecial()){if(ye=be,K!="/"&&K!="\\")continue}else if(!Pe&&K=="?")fe.query="",ye=Ie;else if(!Pe&&K=="#")fe.fragment="",ye=xe;else if(K!=Ne&&(ye=be,K!="/"))continue;break;case be:if(K==Ne||K=="/"||K=="\\"&&fe.isSpecial()||!Pe&&(K=="?"||K=="#")){if(at(dt)?(fe.shortenPath(),K!="/"&&!(K=="\\"&&fe.isSpecial())&&H(fe.path,"")):rt(dt)?K!="/"&&!(K=="\\"&&fe.isSpecial())&&H(fe.path,""):(fe.scheme=="file"&&!fe.path.length&&tt(dt)&&(fe.host&&(fe.host=""),dt=ue(dt,0)+":"),H(fe.path,dt)),dt="",fe.scheme=="file"&&(K==Ne||K=="?"||K=="#"))for(;fe.path.length>1&&fe.path[0]==="";)P(fe.path);K=="?"?(fe.query="",ye=Ie):K=="#"&&(fe.fragment="",ye=xe)}else dt+=Et(K,ct);break;case ve:K=="?"?(fe.query="",ye=Ie):K=="#"?(fe.fragment="",ye=xe):K!=Ne&&(fe.path[0]+=Et(K,We));break;case Ie:!Pe&&K=="#"?(fe.fragment="",ye=xe):K!=Ne&&(K=="'"&&fe.isSpecial()?fe.query+="%27":K=="#"?fe.query+="%23":fe.query+=Et(K,We));break;case xe:K!=Ne&&(fe.fragment+=Et(K,st));break}Je++}},parseHost:function(ge){var Pe,de,fe;if(ue(ge,0)=="["){if(ue(ge,ge.length-1)!="]"||(Pe=Fe(u(ge,1,-1)),!Pe))return z;this.host=Pe}else if(this.isSpecial()){if(ge=w(ge),x(lt,ge)||(Pe=Te(ge),Pe===null))return z;this.host=Pe}else{if(x(Mt,ge))return z;for(Pe="",de=b(ge),fe=0;fe<de.length;fe++)Pe+=Et(de[fe],We);this.host=Pe}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return S($e,this.scheme)},shortenPath:function(){var ge=this.path,Pe=ge.length;Pe&&(this.scheme!="file"||Pe!=1||!tt(ge[0],!0))&&ge.length--},serialize:function(){var ge=this,Pe=ge.scheme,de=ge.username,fe=ge.password,ye=ge.host,Je=ge.port,dt=ge.path,Qe=ge.query,St=ge.fragment,Ct=Pe+":";return ye!==null?(Ct+="//",ge.includesCredentials()&&(Ct+=de+(fe?":"+fe:"")+"@"),Ct+=_e(ye),Je!==null&&(Ct+=":"+Je)):Pe=="file"&&(Ct+="//"),Ct+=ge.cannotBeABaseURL?dt[0]:dt.length?"/"+Q(dt,"/"):"",Qe!==null&&(Ct+="?"+Qe),St!==null&&(Ct+="#"+St),Ct},setHref:function(ge){var Pe=this.parse(ge);if(Pe)throw ee(Pe);this.searchParams.update()},getOrigin:function(){var ge=this.scheme,Pe=this.port;if(ge=="blob")try{return new et(ge.path[0]).origin}catch{return"null"}return ge=="file"||!this.isSpecial()?"null":ge+"://"+_e(this.host)+(Pe!==null?":"+Pe:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(ge){this.parse(h(ge)+":",we)},getUsername:function(){return this.username},setUsername:function(ge){var Pe=b(h(ge));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var de=0;de<Pe.length;de++)this.username+=Et(Pe[de],Ke)}},getPassword:function(){return this.password},setPassword:function(ge){var Pe=b(h(ge));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var de=0;de<Pe.length;de++)this.password+=Et(Pe[de],Ke)}},getHost:function(){var ge=this.host,Pe=this.port;return ge===null?"":Pe===null?_e(ge):_e(ge)+":"+Pe},setHost:function(ge){this.cannotBeABaseURL||this.parse(ge,G)},getHostname:function(){var ge=this.host;return ge===null?"":_e(ge)},setHostname:function(ge){this.cannotBeABaseURL||this.parse(ge,W)},getPort:function(){var ge=this.port;return ge===null?"":h(ge)},setPort:function(ge){this.cannotHaveUsernamePasswordPort()||(ge=h(ge),ge==""?this.port=null:this.parse(ge,ie))},getPathname:function(){var ge=this.path;return this.cannotBeABaseURL?ge[0]:ge.length?"/"+Q(ge,"/"):""},setPathname:function(ge){this.cannotBeABaseURL||(this.path=[],this.parse(ge,he))},getSearch:function(){var ge=this.query;return ge?"?"+ge:""},setSearch:function(ge){ge=h(ge),ge==""?this.query=null:(ue(ge,0)=="?"&&(ge=u(ge,1)),this.query="",this.parse(ge,Ie)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var ge=this.fragment;return ge?"#"+ge:""},setHash:function(ge){if(ge=h(ge),ge==""){this.fragment=null;return}ue(ge,0)=="#"&&(ge=u(ge,1)),this.fragment="",this.parse(ge,xe)},update:function(){this.query=this.searchParams.serialize()||null}};var et=function(Pe){var de=y(this,xt),fe=Y(arguments.length,1)>1?arguments[1]:void 0,ye=D(de,new Le(Pe,!1,fe));n||(de.href=ye.serialize(),de.origin=ye.getOrigin(),de.protocol=ye.getProtocol(),de.username=ye.getUsername(),de.password=ye.getPassword(),de.host=ye.getHost(),de.hostname=ye.getHostname(),de.port=ye.getPort(),de.pathname=ye.getPathname(),de.search=ye.getSearch(),de.searchParams=ye.getSearchParams(),de.hash=ye.getHash())},xt=et.prototype,ze=function(ge,Pe){return{get:function(){return a(this)[ge]()},set:Pe&&function(de){return a(this)[Pe](de)},configurable:!0,enumerable:!0}};if(n&&v(xt,{href:ze("serialize","setHref"),origin:ze("getOrigin"),protocol:ze("getProtocol","setProtocol"),username:ze("getUsername","setUsername"),password:ze("getPassword","setPassword"),host:ze("getHost","setHost"),hostname:ze("getHostname","setHostname"),port:ze("getPort","setPort"),pathname:ze("getPathname","setPathname"),search:ze("getSearch","setSearch"),searchParams:ze("getSearchParams"),hash:ze("getHash","setHash")}),E(xt,"toJSON",function(){return a(this).serialize()},{enumerable:!0}),E(xt,"toString",function(){return a(this).serialize()},{enumerable:!0}),_){var Tt=_.createObjectURL,Be=_.revokeObjectURL;Tt&&E(et,"createObjectURL",f(Tt,_)),Be&&E(et,"revokeObjectURL",f(Be,_))}N(et,"URL"),r({global:!0,forced:!s,sham:!n},{URL:et})},"2ba4":function(m,T,t){var r=t("40d5"),n=Function.prototype,s=n.apply,e=n.call;m.exports=typeof Reflect=="object"&&Reflect.apply||(r?e.bind(s):function(){return e.apply(s,arguments)})},"2c3e":function(m,T,t){var r=t("da84"),n=t("83ab"),s=t("9f7f").MISSED_STICKY,e=t("c6b6"),f=t("9bf2").f,d=t("69f3").get,v=RegExp.prototype,E=r.TypeError;n&&s&&f(v,"sticky",{configurable:!0,get:function(){if(this!==v){if(e(this)==="RegExp")return!!d(this).sticky;throw E("Incompatible receiver, RegExp required")}}})},"2ca0":function(m,T,t){var r=t("23e7"),n=t("e330"),s=t("06cf").f,e=t("50c4"),f=t("577e"),d=t("5a34"),v=t("1d80"),E=t("ab13"),y=t("c430"),S=n("".startsWith),O=n("".slice),b=Math.min,g=E("startsWith"),B=!y&&!g&&!!function(){var w=s(String.prototype,"startsWith");return w&&!w.writable}();r({target:"String",proto:!0,forced:!B&&!g},{startsWith:function(h){var N=f(v(this));d(h);var Y=e(b(arguments.length>1?arguments[1]:void 0,N.length)),A=f(h);return S?S(N,A,Y):O(N,Y,Y+A.length)===A}})},"2cf4":function(m,T,t){var r=t("da84"),n=t("2ba4"),s=t("0366"),e=t("1626"),f=t("1a2d"),d=t("d039"),v=t("1be4"),E=t("f36a"),y=t("cc12"),S=t("d6d6"),O=t("1cdc"),b=t("605d"),g=r.setImmediate,B=r.clearImmediate,w=r.process,h=r.Dispatch,N=r.Function,Y=r.MessageChannel,A=r.String,L=0,D={},a="onreadystatechange",F,k,_,ee;try{F=r.location}catch{}var q=function(x){if(f(D,x)){var Q=D[x];delete D[x],Q()}},re=function(x){return function(){q(x)}},Oe=function(x){q(x.data)},ue=function(x){r.postMessage(A(x),F.protocol+"//"+F.host)};(!g||!B)&&(g=function(Q){S(arguments.length,1);var p=e(Q)?Q:N(Q),j=E(arguments,1);return D[++L]=function(){n(p,void 0,j)},k(L),L},B=function(Q){delete D[Q]},b?k=function(x){w.nextTick(re(x))}:h&&h.now?k=function(x){h.now(re(x))}:Y&&!O?(_=new Y,ee=_.port2,_.port1.onmessage=Oe,k=s(ee.postMessage,ee)):r.addEventListener&&e(r.postMessage)&&!r.importScripts&&F&&F.protocol!=="file:"&&!d(ue)?(k=ue,r.addEventListener("message",Oe,!1)):a in y("script")?k=function(x){v.appendChild(y("script"))[a]=function(){v.removeChild(this),q(x)}}:k=function(x){setTimeout(re(x),0)}),m.exports={set:g,clear:B}},"2d00":function(m,T,t){var r=t("da84"),n=t("342f"),s=r.process,e=r.Deno,f=s&&s.versions||e&&e.version,d=f&&f.v8,v,E;d&&(v=d.split("."),E=v[0]>0&&v[0]<4?1:+(v[0]+v[1])),!E&&n&&(v=n.match(/Edge\/(\d+)/),(!v||v[1]>=74)&&(v=n.match(/Chrome\/(\d+)/),v&&(E=+v[1]))),m.exports=E},"2d78":function(m,T,t){T.__esModule=!0,T.tokenize=T.test=T.scanner=T.parser=T.options=T.inherits=T.find=void 0;var r=t("254c"),n=t("316e"),s=E(n),e=t("b7fe"),f=E(e),d=t("4128"),v=E(d);function E(b){if(b&&b.__esModule)return b;var g={};if(b!=null)for(var B in b)Object.prototype.hasOwnProperty.call(b,B)&&(g[B]=b[B]);return g.default=b,g}Array.isArray||(Array.isArray=function(b){return Object.prototype.toString.call(b)==="[object Array]"});var y=function(g){return v.run(f.run(g))},S=function(g){for(var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=y(g),h=[],N=0;N<w.length;N++){var Y=w[N];Y.isLink&&(!B||Y.type===B)&&h.push(Y.toObject())}return h},O=function(g){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=y(g);return w.length===1&&w[0].isLink&&(!B||w[0].type===B)};T.find=S,T.inherits=r.inherits,T.options=s,T.parser=v,T.scanner=f,T.test=O,T.tokenize=y},"2f21":function(m,T,t){var r=t("0206"),n=r.System;r.VbrMode,r.Float,r.ShortBlock,r.Util;var s=r.Arrays;r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert,e.STEPS_per_dB=100,e.MAX_dB=120,e.GAIN_NOT_ENOUGH_SAMPLES=-24601,e.GAIN_ANALYSIS_ERROR=0,e.GAIN_ANALYSIS_OK=1,e.INIT_GAIN_ANALYSIS_ERROR=0,e.INIT_GAIN_ANALYSIS_OK=1,e.YULE_ORDER=10,e.MAX_ORDER=e.YULE_ORDER,e.MAX_SAMP_FREQ=48e3,e.RMS_WINDOW_TIME_NUMERATOR=1,e.RMS_WINDOW_TIME_DENOMINATOR=20,e.MAX_SAMPLES_PER_WINDOW=e.MAX_SAMP_FREQ*e.RMS_WINDOW_TIME_NUMERATOR/e.RMS_WINDOW_TIME_DENOMINATOR+1;function e(){var f=64.82;e.YULE_ORDER;var d=.95;e.MAX_SAMP_FREQ;var v=e.RMS_WINDOW_TIME_NUMERATOR,E=e.RMS_WINDOW_TIME_DENOMINATOR;e.MAX_SAMPLES_PER_WINDOW;var y=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],S=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function O(h,N,Y,A,L,D){for(;L--!=0;)Y[A]=1e-10+h[N+0]*D[0]-Y[A-1]*D[1]+h[N-1]*D[2]-Y[A-2]*D[3]+h[N-2]*D[4]-Y[A-3]*D[5]+h[N-3]*D[6]-Y[A-4]*D[7]+h[N-4]*D[8]-Y[A-5]*D[9]+h[N-5]*D[10]-Y[A-6]*D[11]+h[N-6]*D[12]-Y[A-7]*D[13]+h[N-7]*D[14]-Y[A-8]*D[15]+h[N-8]*D[16]-Y[A-9]*D[17]+h[N-9]*D[18]-Y[A-10]*D[19]+h[N-10]*D[20],++A,++N}function b(h,N,Y,A,L,D){for(;L--!=0;)Y[A]=h[N+0]*D[0]-Y[A-1]*D[1]+h[N-1]*D[2]-Y[A-2]*D[3]+h[N-2]*D[4],++A,++N}function g(h,N){for(var Y=0;Y<MAX_ORDER;Y++)h.linprebuf[Y]=h.lstepbuf[Y]=h.loutbuf[Y]=h.rinprebuf[Y]=h.rstepbuf[Y]=h.routbuf[Y]=0;switch(0|N){case 48e3:h.reqindex=0;break;case 44100:h.reqindex=1;break;case 32e3:h.reqindex=2;break;case 24e3:h.reqindex=3;break;case 22050:h.reqindex=4;break;case 16e3:h.reqindex=5;break;case 12e3:h.reqindex=6;break;case 11025:h.reqindex=7;break;case 8e3:h.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return h.sampleWindow=0|(N*v+E-1)/E,h.lsum=0,h.rsum=0,h.totsamp=0,s.ill(h.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(h,N){return g(h,N)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(h.linpre=MAX_ORDER,h.rinpre=MAX_ORDER,h.lstep=MAX_ORDER,h.rstep=MAX_ORDER,h.lout=MAX_ORDER,h.rout=MAX_ORDER,s.fill(h.B,0),INIT_GAIN_ANALYSIS_OK)};function B(h){return h*h}this.AnalyzeSamples=function(h,N,Y,A,L,D,a){var F,k,_,ee,q,re,Oe;if(D==0)return GAIN_ANALYSIS_OK;switch(Oe=0,q=D,a){case 1:A=N,L=Y;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(D<MAX_ORDER?(n.arraycopy(N,Y,h.linprebuf,MAX_ORDER,D),n.arraycopy(A,L,h.rinprebuf,MAX_ORDER,D)):(n.arraycopy(N,Y,h.linprebuf,MAX_ORDER,MAX_ORDER),n.arraycopy(A,L,h.rinprebuf,MAX_ORDER,MAX_ORDER));q>0;){re=q>h.sampleWindow-h.totsamp?h.sampleWindow-h.totsamp:q,Oe<MAX_ORDER?(F=h.linpre+Oe,k=h.linprebuf,_=h.rinpre+Oe,ee=h.rinprebuf,re>MAX_ORDER-Oe&&(re=MAX_ORDER-Oe)):(F=Y+Oe,k=N,_=L+Oe,ee=A),O(k,F,h.lstepbuf,h.lstep+h.totsamp,re,y[h.reqindex]),O(ee,_,h.rstepbuf,h.rstep+h.totsamp,re,y[h.reqindex]),b(h.lstepbuf,h.lstep+h.totsamp,h.loutbuf,h.lout+h.totsamp,re,S[h.reqindex]),b(h.rstepbuf,h.rstep+h.totsamp,h.routbuf,h.rout+h.totsamp,re,S[h.reqindex]),F=h.lout+h.totsamp,k=h.loutbuf,_=h.rout+h.totsamp,ee=h.routbuf;for(var ue=re%8;ue--!=0;)h.lsum+=B(k[F++]),h.rsum+=B(ee[_++]);for(ue=re/8;ue--!=0;)h.lsum+=B(k[F+0])+B(k[F+1])+B(k[F+2])+B(k[F+3])+B(k[F+4])+B(k[F+5])+B(k[F+6])+B(k[F+7]),F+=8,h.rsum+=B(ee[_+0])+B(ee[_+1])+B(ee[_+2])+B(ee[_+3])+B(ee[_+4])+B(ee[_+5])+B(ee[_+6])+B(ee[_+7]),_+=8;if(q-=re,Oe+=re,h.totsamp+=re,h.totsamp==h.sampleWindow){var x=e.STEPS_per_dB*10*Math.log10((h.lsum+h.rsum)/h.totsamp*.5+1e-37),Q=x<=0?0:0|x;Q>=h.A.length&&(Q=h.A.length-1),h.A[Q]++,h.lsum=h.rsum=0,n.arraycopy(h.loutbuf,h.totsamp,h.loutbuf,0,MAX_ORDER),n.arraycopy(h.routbuf,h.totsamp,h.routbuf,0,MAX_ORDER),n.arraycopy(h.lstepbuf,h.totsamp,h.lstepbuf,0,MAX_ORDER),n.arraycopy(h.rstepbuf,h.totsamp,h.rstepbuf,0,MAX_ORDER),h.totsamp=0}if(h.totsamp>h.sampleWindow)return GAIN_ANALYSIS_ERROR}return D<MAX_ORDER?(n.arraycopy(h.linprebuf,D,h.linprebuf,0,MAX_ORDER-D),n.arraycopy(h.rinprebuf,D,h.rinprebuf,0,MAX_ORDER-D),n.arraycopy(N,Y,h.linprebuf,MAX_ORDER-D,D),n.arraycopy(A,L,h.rinprebuf,MAX_ORDER-D,D)):(n.arraycopy(N,Y+D-MAX_ORDER,h.linprebuf,0,MAX_ORDER),n.arraycopy(A,L+D-MAX_ORDER,h.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function w(h,N){var Y,A=0;for(Y=0;Y<N;Y++)A+=h[Y];if(A==0)return GAIN_NOT_ENOUGH_SAMPLES;var L=0|Math.ceil(A*(1-d));for(Y=N;Y-- >0&&!((L-=h[Y])<=0););return f-Y/e.STEPS_per_dB}this.GetTitleGain=function(h){for(var N=w(h.A,h.A.length),Y=0;Y<h.A.length;Y++)h.B[Y]+=h.A[Y],h.A[Y]=0;for(var Y=0;Y<MAX_ORDER;Y++)h.linprebuf[Y]=h.lstepbuf[Y]=h.loutbuf[Y]=h.rinprebuf[Y]=h.rstepbuf[Y]=h.routbuf[Y]=0;return h.totsamp=0,h.lsum=h.rsum=0,N}}m.exports=e},"316e":function(m,T,t){T.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},n={defaultProtocol:"http",events:null,format:f,formatHref:f,nl2br:!1,tagName:"a",target:d,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};T.defaults=n,T.Options=s,T.contains=e;function s(v){v=v||{},this.defaultProtocol=v.hasOwnProperty("defaultProtocol")?v.defaultProtocol:n.defaultProtocol,this.events=v.hasOwnProperty("events")?v.events:n.events,this.format=v.hasOwnProperty("format")?v.format:n.format,this.formatHref=v.hasOwnProperty("formatHref")?v.formatHref:n.formatHref,this.nl2br=v.hasOwnProperty("nl2br")?v.nl2br:n.nl2br,this.tagName=v.hasOwnProperty("tagName")?v.tagName:n.tagName,this.target=v.hasOwnProperty("target")?v.target:n.target,this.validate=v.hasOwnProperty("validate")?v.validate:n.validate,this.ignoreTags=[],this.attributes=v.attributes||v.linkAttributes||n.attributes,this.className=v.hasOwnProperty("className")?v.className:v.linkClass||n.className;for(var E=v.hasOwnProperty("ignoreTags")?v.ignoreTags:n.ignoreTags,y=0;y<E.length;y++)this.ignoreTags.push(E[y].toUpperCase())}s.prototype={resolve:function(E){var y=E.toHref(this.defaultProtocol);return{formatted:this.get("format",E.toString(),E),formattedHref:this.get("formatHref",y,E),tagName:this.get("tagName",y,E),className:this.get("className",y,E),target:this.get("target",y,E),events:this.getObject("events",y,E),attributes:this.getObject("attributes",y,E)}},check:function(E){return this.get("validate",E.toString(),E)},get:function(E,y,S){var O=void 0,b=this[E];if(!b)return b;switch(typeof b=="undefined"?"undefined":r(b)){case"function":return b(y,S.type);case"object":return O=b.hasOwnProperty(S.type)?b[S.type]:n[E],typeof O=="function"?O(y,S.type):O}return b},getObject:function(E,y,S){var O=this[E];return typeof O=="function"?O(y,S.type):O}};function e(v,E){for(var y=0;y<v.length;y++)if(v[y]===E)return!0;return!1}function f(v){return v}function d(v,E){return E==="url"?"_blank":null}},"3280":function(m,T,t){var r=t("ebb5"),n=t("2ba4"),s=t("e58c"),e=r.aTypedArray,f=r.exportTypedArrayMethod;f("lastIndexOf",function(v){var E=arguments.length;return n(s,e(this),E>1?[v,arguments[1]]:[v])})},"342f":function(m,T,t){var r=t("d066");m.exports=r("navigator","userAgent")||""},"35a1":function(m,T,t){var r=t("f5df"),n=t("dc4a"),s=t("3f8c"),e=t("b622"),f=e("iterator");m.exports=function(d){if(d!=null)return n(d,f)||n(d,"@@iterator")||s[r(d)]}},"37e8":function(m,T,t){var r=t("83ab"),n=t("aed9"),s=t("9bf2"),e=t("825a"),f=t("fc6a"),d=t("df75");T.f=r&&!n?Object.defineProperties:function(E,y){e(E);for(var S=f(y),O=d(y),b=O.length,g=0,B;b>g;)s.f(E,B=O[g++],S[B]);return E}},"3967":function(m,T,t){var r=t("0206");r.System;var n=r.VbrMode;r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert;function s(){function e(g,B,w,h,N,Y,A,L,D,a,F,k,_,ee,q){this.vbr_q=g,this.quant_comp=B,this.quant_comp_s=w,this.expY=h,this.st_lrm=N,this.st_s=Y,this.masking_adj=A,this.masking_adj_short=L,this.ath_lower=D,this.ath_curve=a,this.ath_sensitivity=F,this.interch=k,this.safejoint=_,this.sfb21mod=ee,this.msfix=q}function f(g,B,w,h,N,Y,A,L,D,a,F,k,_,ee){this.quant_comp=B,this.quant_comp_s=w,this.safejoint=h,this.nsmsfix=N,this.st_lrm=Y,this.st_s=A,this.nsbass=L,this.scale=D,this.masking_adj=a,this.ath_lower=F,this.ath_curve=k,this.interch=_,this.sfscale=ee}var d;this.setModules=function(g){d=g};var v=[new e(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new e(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new e(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new e(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new e(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new e(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new e(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new e(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new e(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],E=[new e(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new e(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new e(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new e(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new e(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new e(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new e(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new e(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new e(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function y(g,B,w){var h=g.VBR==n.vbr_rh?v:E,N=g.VBR_q_frac,Y=h[B],A=h[B+1],L=Y;Y.st_lrm=Y.st_lrm+N*(A.st_lrm-Y.st_lrm),Y.st_s=Y.st_s+N*(A.st_s-Y.st_s),Y.masking_adj=Y.masking_adj+N*(A.masking_adj-Y.masking_adj),Y.masking_adj_short=Y.masking_adj_short+N*(A.masking_adj_short-Y.masking_adj_short),Y.ath_lower=Y.ath_lower+N*(A.ath_lower-Y.ath_lower),Y.ath_curve=Y.ath_curve+N*(A.ath_curve-Y.ath_curve),Y.ath_sensitivity=Y.ath_sensitivity+N*(A.ath_sensitivity-Y.ath_sensitivity),Y.interch=Y.interch+N*(A.interch-Y.interch),Y.msfix=Y.msfix+N*(A.msfix-Y.msfix),b(g,L.vbr_q),w!=0?g.quant_comp=L.quant_comp:Math.abs(g.quant_comp- -1)>0||(g.quant_comp=L.quant_comp),w!=0?g.quant_comp_short=L.quant_comp_s:Math.abs(g.quant_comp_short- -1)>0||(g.quant_comp_short=L.quant_comp_s),L.expY!=0&&(g.experimentalY=L.expY!=0),w!=0?g.internal_flags.nsPsy.attackthre=L.st_lrm:Math.abs(g.internal_flags.nsPsy.attackthre- -1)>0||(g.internal_flags.nsPsy.attackthre=L.st_lrm),w!=0?g.internal_flags.nsPsy.attackthre_s=L.st_s:Math.abs(g.internal_flags.nsPsy.attackthre_s- -1)>0||(g.internal_flags.nsPsy.attackthre_s=L.st_s),w!=0?g.maskingadjust=L.masking_adj:Math.abs(g.maskingadjust-0)>0||(g.maskingadjust=L.masking_adj),w!=0?g.maskingadjust_short=L.masking_adj_short:Math.abs(g.maskingadjust_short-0)>0||(g.maskingadjust_short=L.masking_adj_short),w!=0?g.ATHlower=-L.ath_lower/10:Math.abs(-g.ATHlower*10-0)>0||(g.ATHlower=-L.ath_lower/10),w!=0?g.ATHcurve=L.ath_curve:Math.abs(g.ATHcurve- -1)>0||(g.ATHcurve=L.ath_curve),w!=0?g.athaa_sensitivity=L.ath_sensitivity:Math.abs(g.athaa_sensitivity- -1)>0||(g.athaa_sensitivity=L.ath_sensitivity),L.interch>0&&(w!=0?g.interChRatio=L.interch:Math.abs(g.interChRatio- -1)>0||(g.interChRatio=L.interch)),L.safejoint>0&&(g.exp_nspsytune=g.exp_nspsytune|L.safejoint),L.sfb21mod>0&&(g.exp_nspsytune=g.exp_nspsytune|L.sfb21mod<<20),w!=0?g.msfix=L.msfix:Math.abs(g.msfix- -1)>0||(g.msfix=L.msfix),w==0&&(g.VBR_q=B,g.VBR_q_frac=N)}var S=[new f(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new f(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new f(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new f(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new f(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new f(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new f(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new f(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new f(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new f(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new f(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new f(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new f(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new f(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new f(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new f(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new f(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function O(g,B,w){var h=B,N=d.nearestBitrateFullIndex(B);if(g.VBR=n.vbr_abr,g.VBR_mean_bitrate_kbps=h,g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,320),g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,8),g.brate=g.VBR_mean_bitrate_kbps,g.VBR_mean_bitrate_kbps>320&&(g.disable_reservoir=!0),S[N].safejoint>0&&(g.exp_nspsytune=g.exp_nspsytune|2),S[N].sfscale>0&&(g.internal_flags.noise_shaping=2),Math.abs(S[N].nsbass)>0){var Y=int(S[N].nsbass*4);Y<0&&(Y+=64),g.exp_nspsytune=g.exp_nspsytune|Y<<2}return w!=0?g.quant_comp=S[N].quant_comp:Math.abs(g.quant_comp- -1)>0||(g.quant_comp=S[N].quant_comp),w!=0?g.quant_comp_short=S[N].quant_comp_s:Math.abs(g.quant_comp_short- -1)>0||(g.quant_comp_short=S[N].quant_comp_s),w!=0?g.msfix=S[N].nsmsfix:Math.abs(g.msfix- -1)>0||(g.msfix=S[N].nsmsfix),w!=0?g.internal_flags.nsPsy.attackthre=S[N].st_lrm:Math.abs(g.internal_flags.nsPsy.attackthre- -1)>0||(g.internal_flags.nsPsy.attackthre=S[N].st_lrm),w!=0?g.internal_flags.nsPsy.attackthre_s=S[N].st_s:Math.abs(g.internal_flags.nsPsy.attackthre_s- -1)>0||(g.internal_flags.nsPsy.attackthre_s=S[N].st_s),w!=0?g.scale=S[N].scale:Math.abs(g.scale- -1)>0||(g.scale=S[N].scale),w!=0?g.maskingadjust=S[N].masking_adj:Math.abs(g.maskingadjust-0)>0||(g.maskingadjust=S[N].masking_adj),S[N].masking_adj>0?w!=0?g.maskingadjust_short=S[N].masking_adj*.9:Math.abs(g.maskingadjust_short-0)>0||(g.maskingadjust_short=S[N].masking_adj*.9):w!=0?g.maskingadjust_short=S[N].masking_adj*1.1:Math.abs(g.maskingadjust_short-0)>0||(g.maskingadjust_short=S[N].masking_adj*1.1),w!=0?g.ATHlower=-S[N].ath_lower/10:Math.abs(-g.ATHlower*10-0)>0||(g.ATHlower=-S[N].ath_lower/10),w!=0?g.ATHcurve=S[N].ath_curve:Math.abs(g.ATHcurve- -1)>0||(g.ATHcurve=S[N].ath_curve),w!=0?g.interChRatio=S[N].interch:Math.abs(g.interChRatio- -1)>0||(g.interChRatio=S[N].interch),B}this.apply_preset=function(g,B,w){switch(B){case Lame.R3MIX:{B=Lame.V3,g.VBR=n.vbr_mtrh;break}case Lame.MEDIUM:{B=Lame.V4,g.VBR=n.vbr_rh;break}case Lame.MEDIUM_FAST:{B=Lame.V4,g.VBR=n.vbr_mtrh;break}case Lame.STANDARD:{B=Lame.V2,g.VBR=n.vbr_rh;break}case Lame.STANDARD_FAST:{B=Lame.V2,g.VBR=n.vbr_mtrh;break}case Lame.EXTREME:{B=Lame.V0,g.VBR=n.vbr_rh;break}case Lame.EXTREME_FAST:{B=Lame.V0,g.VBR=n.vbr_mtrh;break}case Lame.INSANE:return B=320,g.preset=B,O(g,B,w),g.VBR=n.vbr_off,B}switch(g.preset=B,B){case Lame.V9:return y(g,9,w),B;case Lame.V8:return y(g,8,w),B;case Lame.V7:return y(g,7,w),B;case Lame.V6:return y(g,6,w),B;case Lame.V5:return y(g,5,w),B;case Lame.V4:return y(g,4,w),B;case Lame.V3:return y(g,3,w),B;case Lame.V2:return y(g,2,w),B;case Lame.V1:return y(g,1,w),B;case Lame.V0:return y(g,0,w),B}return 8<=B&&B<=320?O(g,B,w):(g.preset=0,B)};function b(g,B){var w=0;return 0>B&&(w=-1,B=0),9<B&&(w=-1,B=9),g.VBR_q=B,g.VBR_q_frac=0,w}}m.exports=s},"3a7b":function(m,T,t){var r=t("ebb5"),n=t("b727").findIndex,s=r.aTypedArray,e=r.exportTypedArrayMethod;e("findIndex",function(d){return n(s(this),d,arguments.length>1?arguments[1]:void 0)})},"3a9b":function(m,T,t){var r=t("e330");m.exports=r({}.isPrototypeOf)},"3bbe":function(m,T,t){var r=t("da84"),n=t("1626"),s=r.String,e=r.TypeError;m.exports=function(f){if(typeof f=="object"||n(f))return f;throw e("Can't set "+s(f)+" as a prototype")}},"3c5d":function(m,T,t){var r=t("da84"),n=t("c65b"),s=t("ebb5"),e=t("07fa"),f=t("182d"),d=t("7b0b"),v=t("d039"),E=r.RangeError,y=r.Int8Array,S=y&&y.prototype,O=S&&S.set,b=s.aTypedArray,g=s.exportTypedArrayMethod,B=!v(function(){var h=new Uint8ClampedArray(2);return n(O,h,{length:1,0:3},1),h[1]!==3}),w=B&&s.NATIVE_ARRAY_BUFFER_VIEWS&&v(function(){var h=new y(2);return h.set(1),h.set("2",1),h[0]!==0||h[1]!==2});g("set",function(N){b(this);var Y=f(arguments.length>1?arguments[1]:void 0,1),A=d(N);if(B)return n(O,this,A,Y);var L=this.length,D=e(A),a=0;if(D+Y>L)throw E("Wrong length");for(;a<D;)this[Y+a]=A[a++]},!B||w)},"3ca3":function(m,T,t){var r=t("6547").charAt,n=t("577e"),s=t("69f3"),e=t("7dd0"),f="String Iterator",d=s.set,v=s.getterFor(f);e(String,"String",function(E){d(this,{type:f,string:n(E),index:0})},function(){var y=v(this),S=y.string,O=y.index,b;return O>=S.length?{value:void 0,done:!0}:(b=r(S,O),y.index+=b.length,{value:b,done:!1})})},"3f8c":function(m,T){m.exports={}},"3fcc":function(m,T,t){var r=t("ebb5"),n=t("b727").map,s=t("b6b7"),e=r.aTypedArray,f=r.exportTypedArrayMethod;f("map",function(v){return n(e(this),v,arguments.length>1?arguments[1]:void 0,function(E,y){return new(s(E))(y)})})},"408a":function(m,T,t){var r=t("e330");m.exports=r(1 .valueOf)},"40d5":function(m,T,t){var r=t("d039");m.exports=!r(function(){var n=function(){}.bind();return typeof n!="function"||n.hasOwnProperty("prototype")})},"4128":function(m,T,t){T.__esModule=!0,T.start=T.run=T.TOKENS=T.State=void 0;var r=t("1652"),n=t("bea1"),s=f(n),e=t("7656");function f($){if($&&$.__esModule)return $;var se={};if($!=null)for(var Ee in $)Object.prototype.hasOwnProperty.call($,Ee)&&(se[Ee]=$[Ee]);return se.default=$,se}var d=function(se){return new r.TokenState(se)},v=d(),E=d(),y=d(),S=d(),O=d(),b=d(),g=d(),B=d(n.URL),w=d(),h=d(n.URL),N=d(n.URL),Y=d(),A=d(),L=d(),D=d(),a=d(),F=d(n.URL),k=d(n.URL),_=d(n.URL),ee=d(n.URL),q=d(),re=d(),Oe=d(),ue=d(),x=d(),Q=d(),p=d(n.EMAIL),j=d(),H=d(n.EMAIL),Z=d(n.MAILTOEMAIL),P=d(),o=d(),u=d(),c=d(),R=d(n.NL);v.on(e.NL,R).on(e.PROTOCOL,E).on(e.MAILTO,y).on(e.SLASH,S),E.on(e.SLASH,S),S.on(e.SLASH,O),v.on(e.TLD,b).on(e.DOMAIN,b).on(e.LOCALHOST,B).on(e.NUM,b),O.on(e.TLD,N).on(e.DOMAIN,N).on(e.NUM,N).on(e.LOCALHOST,N),b.on(e.DOT,g),x.on(e.DOT,Q),g.on(e.TLD,B).on(e.DOMAIN,b).on(e.NUM,b).on(e.LOCALHOST,b),Q.on(e.TLD,p).on(e.DOMAIN,x).on(e.NUM,x).on(e.LOCALHOST,x),B.on(e.DOT,g),p.on(e.DOT,Q),B.on(e.COLON,w).on(e.SLASH,N),w.on(e.NUM,h),h.on(e.SLASH,N),p.on(e.COLON,j),j.on(e.NUM,H);var U=[e.DOMAIN,e.AT,e.LOCALHOST,e.NUM,e.PLUS,e.POUND,e.PROTOCOL,e.SLASH,e.TLD,e.UNDERSCORE,e.SYM,e.AMPERSAND],C=[e.COLON,e.DOT,e.QUERY,e.PUNCTUATION,e.CLOSEBRACE,e.CLOSEBRACKET,e.CLOSEANGLEBRACKET,e.CLOSEPAREN,e.OPENBRACE,e.OPENBRACKET,e.OPENANGLEBRACKET,e.OPENPAREN];N.on(e.OPENBRACE,A).on(e.OPENBRACKET,L).on(e.OPENANGLEBRACKET,D).on(e.OPENPAREN,a),Y.on(e.OPENBRACE,A).on(e.OPENBRACKET,L).on(e.OPENANGLEBRACKET,D).on(e.OPENPAREN,a),A.on(e.CLOSEBRACE,N),L.on(e.CLOSEBRACKET,N),D.on(e.CLOSEANGLEBRACKET,N),a.on(e.CLOSEPAREN,N),F.on(e.CLOSEBRACE,N),k.on(e.CLOSEBRACKET,N),_.on(e.CLOSEANGLEBRACKET,N),ee.on(e.CLOSEPAREN,N),q.on(e.CLOSEBRACE,N),re.on(e.CLOSEBRACKET,N),Oe.on(e.CLOSEANGLEBRACKET,N),ue.on(e.CLOSEPAREN,N),A.on(U,F),L.on(U,k),D.on(U,_),a.on(U,ee),A.on(C,q),L.on(C,re),D.on(C,Oe),a.on(C,ue),F.on(U,F),k.on(U,k),_.on(U,_),ee.on(U,ee),F.on(C,F),k.on(C,k),_.on(C,_),ee.on(C,ee),q.on(U,F),re.on(U,k),Oe.on(U,_),ue.on(U,ee),q.on(C,q),re.on(C,re),Oe.on(C,Oe),ue.on(C,ue),N.on(U,N),Y.on(U,N),N.on(C,Y),Y.on(C,Y),y.on(e.TLD,Z).on(e.DOMAIN,Z).on(e.NUM,Z).on(e.LOCALHOST,Z),Z.on(U,Z).on(C,P),P.on(U,Z).on(C,P);var z=[e.DOMAIN,e.NUM,e.PLUS,e.POUND,e.QUERY,e.UNDERSCORE,e.SYM,e.AMPERSAND,e.TLD];b.on(z,o).on(e.AT,u),B.on(z,o).on(e.AT,u),g.on(z,o),o.on(z,o).on(e.AT,u).on(e.DOT,c),c.on(z,o),u.on(e.TLD,x).on(e.DOMAIN,x).on(e.LOCALHOST,p);var V=function(se){for(var Ee=se.length,Ae=0,Me=[],Ce=[];Ae<Ee;){for(var He=v,lt=null,Mt=null,I=0,X=null,Ne=-1;Ae<Ee&&!(lt=He.next(se[Ae]));)Ce.push(se[Ae++]);for(;Ae<Ee&&(Mt=lt||He.next(se[Ae]));)lt=null,He=Mt,He.accepts()?(Ne=0,X=He):Ne>=0&&Ne++,Ae++,I++;if(Ne<0)for(var Te=Ae-I;Te<Ae;Te++)Ce.push(se[Te]);else{Ce.length>0&&(Me.push(new n.TEXT(Ce)),Ce=[]),Ae-=Ne,I-=Ne;var Fe=X.emit();Me.push(new Fe(se.slice(Ae-I,Ae)))}}return Ce.length>0&&Me.push(new n.TEXT(Ce)),Me};T.State=r.TokenState,T.TOKENS=s,T.run=V,T.start=v},"4160":function(m,T,t){var r=t("23e7"),n=t("17c2");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"428f":function(m,T,t){var r=t("da84");m.exports=r},"44ad":function(m,T,t){var r=t("da84"),n=t("e330"),s=t("d039"),e=t("c6b6"),f=r.Object,d=n("".split);m.exports=s(function(){return!f("z").propertyIsEnumerable(0)})?function(v){return e(v)=="String"?d(v,""):f(v)}:f},"44d2":function(m,T,t){var r=t("b622"),n=t("7c73"),s=t("9bf2"),e=r("unscopables"),f=Array.prototype;f[e]==null&&s.f(f,e,{configurable:!0,value:n(null)}),m.exports=function(d){f[e][d]=!0}},"44de":function(m,T,t){var r=t("da84");m.exports=function(n,s){var e=r.console;e&&e.error&&(arguments.length==1?e.error(n):e.error(n,s))}},"44e7":function(m,T,t){var r=t("861d"),n=t("c6b6"),s=t("b622"),e=s("match");m.exports=function(f){var d;return r(f)&&((d=f[e])!==void 0?!!d:n(f)=="RegExp")}},"45fc":function(m,T,t){var r=t("23e7"),n=t("b727").some,s=t("a640"),e=s("some");r({target:"Array",proto:!0,forced:!e},{some:function(d){return n(this,d,arguments.length>1?arguments[1]:void 0)}})},"466d":function(m,T,t){var r=t("c65b"),n=t("d784"),s=t("825a"),e=t("50c4"),f=t("577e"),d=t("1d80"),v=t("dc4a"),E=t("8aa5"),y=t("14c3");n("match",function(S,O,b){return[function(B){var w=d(this),h=B==null?void 0:v(B,S);return h?r(h,B,w):new RegExp(B)[S](f(w))},function(g){var B=s(this),w=f(g),h=b(O,B,w);if(h.done)return h.value;if(!B.global)return y(B,w);var N=B.unicode;B.lastIndex=0;for(var Y=[],A=0,L;(L=y(B,w))!==null;){var D=f(L[0]);Y[A]=D,D===""&&(B.lastIndex=E(w,e(B.lastIndex),N)),A++}return A===0?null:Y}]})},"46f3":function(m,T,t){T.__esModule=!0;function r(){return function(n){n&&(this.v=n)}}T.createTokenClass=r},"4795":function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("2ba4"),e=t("1626"),f=t("342f"),d=t("f36a"),v=t("d6d6"),E=/MSIE .\./.test(f),y=n.Function,S=function(O){return function(b,g){var B=v(arguments.length,1)>2,w=e(b)?b:y(b),h=B?d(arguments,2):void 0;return O(B?function(){s(w,this,h)}:w,g)}};r({global:!0,bind:!0,forced:E},{setTimeout:S(n.setTimeout),setInterval:S(n.setInterval)})},"4840":function(m,T,t){var r=t("825a"),n=t("5087"),s=t("b622"),e=s("species");m.exports=function(f,d){var v=r(f).constructor,E;return v===void 0||(E=r(v)[e])==null?d:n(E)}},"485a":function(m,T,t){var r=t("da84"),n=t("c65b"),s=t("1626"),e=t("861d"),f=r.TypeError;m.exports=function(d,v){var E,y;if(v==="string"&&s(E=d.toString)&&!e(y=n(E,d))||s(E=d.valueOf)&&!e(y=n(E,d))||v!=="string"&&s(E=d.toString)&&!e(y=n(E,d)))return y;throw f("Can't convert object to primitive value")}},"4930":function(m,T,t){var r=t("2d00"),n=t("d039");m.exports=!!Object.getOwnPropertySymbols&&!n(function(){var s=Symbol();return!String(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&r&&r<41})},"498a":function(m,T,t){var r=t("23e7"),n=t("58a8").trim,s=t("c8d2");r({target:"String",proto:!0,forced:s("trim")},{trim:function(){return n(this)}})},"4a65":function(m,T,t){var r=t("0206");r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var n=r.new_float;r.new_float_n;var s=r.new_int;r.new_int_n;var e=r.assert,f=t("f052"),d=t("4b5e"),v=t("9828"),E=t("bd8b");function y(S){var O=S;this.quantize=O,this.iteration_loop=function(b,g,B,w){var h=b.internal_flags,N=n(v.SFBMAX),Y=n(576),A=s(2),L=0,D,a=h.l3_side,F=new f(L);this.quantize.rv.ResvFrameBegin(b,F),L=F.bits;for(var k=0;k<h.mode_gr;k++){D=this.quantize.qupvt.on_pe(b,g,A,L,k,k),h.mode_ext==d.MPG_MD_MS_LR&&(this.quantize.ms_convert(h.l3_side,k),this.quantize.qupvt.reduce_side(A,B[k],L,D));for(var _=0;_<h.channels_out;_++){var ee,q,re=a.tt[k][_];re.block_type!=d.SHORT_TYPE?(ee=0,q=h.PSY.mask_adjust-ee):(ee=0,q=h.PSY.mask_adjust_short-ee),h.masking_lower=Math.pow(10,q*.1),this.quantize.init_outer_loop(h,re),this.quantize.init_xrpow(h,re,Y)&&(this.quantize.qupvt.calc_xmin(b,w[k][_],re,N),this.quantize.outer_loop(b,re,N,Y,_,A[_])),this.quantize.iteration_finish_one(h,k,_),e(re.part2_3_length<=E.MAX_BITS_PER_CHANNEL),e(re.part2_3_length<=A[_])}}this.quantize.rv.ResvFrameEnd(h,L)}}m.exports=y},"4b5e":function(m,T,t){var r=t("0206"),n=r.System,s=r.VbrMode;r.Float,r.ShortBlock,r.Util,r.Arrays;var e=r.new_array_n;r.new_byte,r.new_double;var f=r.new_float,d=r.new_float_n,v=r.new_int;r.new_int_n;var E=r.assert;y.ENCDELAY=576,y.POSTDELAY=1152,y.MDCTDELAY=48,y.FFTOFFSET=224+y.MDCTDELAY,y.DECDELAY=528,y.SBLIMIT=32,y.CBANDS=64,y.SBPSY_l=21,y.SBPSY_s=12,y.SBMAX_l=22,y.SBMAX_s=13,y.PSFB21=6,y.PSFB12=6,y.BLKSIZE=1024,y.HBLKSIZE=y.BLKSIZE/2+1,y.BLKSIZE_s=256,y.HBLKSIZE_s=y.BLKSIZE_s/2+1,y.NORM_TYPE=0,y.START_TYPE=1,y.SHORT_TYPE=2,y.STOP_TYPE=3,y.MPG_MD_LR_LR=0,y.MPG_MD_LR_I=1,y.MPG_MD_MS_LR=2,y.MPG_MD_MS_I=3,y.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function y(){var S=t("f3e2"),O=t("f26d"),b=y.FFTOFFSET,g=y.MPG_MD_MS_LR,B=null;this.psy=null;var w=null,h=null,N=null;this.setModules=function(a,F,k,_){B=a,this.psy=F,w=F,h=_,N=k};var Y=new S;function A(a){var F,k;if(a.ATH.useAdjust==0){a.ATH.adjust=1;return}if(k=a.loudness_sq[0][0],F=a.loudness_sq[1][0],a.channels_out==2?(k+=a.loudness_sq[0][1],F+=a.loudness_sq[1][1]):(k+=k,F+=F),a.mode_gr==2&&(k=Math.max(k,F)),k*=.5,k*=a.ATH.aaSensitivityP,k>.03125)a.ATH.adjust>=1?a.ATH.adjust=1:a.ATH.adjust<a.ATH.adjustLimit&&(a.ATH.adjust=a.ATH.adjustLimit),a.ATH.adjustLimit=1;else{var _=31.98*k+625e-6;a.ATH.adjust>=_?(a.ATH.adjust*=_*.075+.925,a.ATH.adjust<_&&(a.ATH.adjust=_)):a.ATH.adjustLimit>=_?a.ATH.adjust=_:a.ATH.adjust<a.ATH.adjustLimit&&(a.ATH.adjust=a.ATH.adjustLimit),a.ATH.adjustLimit=_}}function L(a){var F,k;for(E(0<=a.bitrate_index&&a.bitrate_index<16),E(0<=a.mode_ext&&a.mode_ext<4),a.bitrate_stereoMode_Hist[a.bitrate_index][4]++,a.bitrate_stereoMode_Hist[15][4]++,a.channels_out==2&&(a.bitrate_stereoMode_Hist[a.bitrate_index][a.mode_ext]++,a.bitrate_stereoMode_Hist[15][a.mode_ext]++),F=0;F<a.mode_gr;++F)for(k=0;k<a.channels_out;++k){var _=a.l3_side.tt[F][k].block_type|0;a.l3_side.tt[F][k].mixed_block_flag!=0&&(_=4),a.bitrate_blockType_Hist[a.bitrate_index][_]++,a.bitrate_blockType_Hist[a.bitrate_index][5]++,a.bitrate_blockType_Hist[15][_]++,a.bitrate_blockType_Hist[15][5]++}}function D(a,F){var k=a.internal_flags,_,ee;if(k.lame_encode_frame_init==0){var q,re,Oe=f(2014),ue=f(286+1152+576);for(k.lame_encode_frame_init=1,q=0,re=0;q<286+576*(1+k.mode_gr);++q)q<576*k.mode_gr?(Oe[q]=0,k.channels_out==2&&(ue[q]=0)):(Oe[q]=F[0][re],k.channels_out==2&&(ue[q]=F[1][re]),++re);for(ee=0;ee<k.mode_gr;ee++)for(_=0;_<k.channels_out;_++)k.l3_side.tt[ee][_].block_type=y.SHORT_TYPE;Y.mdct_sub48(k,Oe,ue),E(576>=y.FFTOFFSET),E(k.mf_size>=y.BLKSIZE+a.framesize-y.FFTOFFSET),E(k.mf_size>=512+a.framesize-32)}}this.lame_encode_mp3_frame=function(a,F,k,_,ee,q){var re,Oe=e([2,2]);Oe[0][0]=new O,Oe[0][1]=new O,Oe[1][0]=new O,Oe[1][1]=new O;var ue=e([2,2]);ue[0][0]=new O,ue[0][1]=new O,ue[1][0]=new O,ue[1][1]=new O;var x,Q=[null,null],p=a.internal_flags,j=d([2,4]),H=[.5,.5],Z=[[0,0],[0,0]],P=[[0,0],[0,0]],o,u,c;if(Q[0]=F,Q[1]=k,p.lame_encode_frame_init==0&&D(a,Q),p.padding=0,(p.slot_lag-=p.frac_SpF)<0&&(p.slot_lag+=a.out_samplerate,p.padding=1),p.psymodel!=0){var R,U=[null,null],C=0,z=v(2);for(c=0;c<p.mode_gr;c++){for(u=0;u<p.channels_out;u++)U[u]=Q[u],C=576+c*576-y.FFTOFFSET;if(a.VBR==s.vbr_mtrh||a.VBR==s.vbr_mt?R=w.L3psycho_anal_vbr(a,U,C,c,Oe,ue,Z[c],P[c],j[c],z):R=w.L3psycho_anal_ns(a,U,C,c,Oe,ue,Z[c],P[c],j[c],z),R!=0)return-4;for(a.mode==MPEGMode.JOINT_STEREO&&(H[c]=j[c][2]+j[c][3],H[c]>0&&(H[c]=j[c][3]/H[c])),u=0;u<p.channels_out;u++){var V=p.l3_side.tt[c][u];V.block_type=z[u],V.mixed_block_flag=0}}}else for(c=0;c<p.mode_gr;c++)for(u=0;u<p.channels_out;u++)p.l3_side.tt[c][u].block_type=y.NORM_TYPE,p.l3_side.tt[c][u].mixed_block_flag=0,P[c][u]=Z[c][u]=700;if(A(p),Y.mdct_sub48(p,Q[0],Q[1]),p.mode_ext=y.MPG_MD_LR_LR,a.force_ms)p.mode_ext=y.MPG_MD_MS_LR;else if(a.mode==MPEGMode.JOINT_STEREO){var $=0,se=0;for(c=0;c<p.mode_gr;c++)for(u=0;u<p.channels_out;u++)$+=P[c][u],se+=Z[c][u];if($<=1*se){var Ee=p.l3_side.tt[0],Ae=p.l3_side.tt[p.mode_gr-1];Ee[0].block_type==Ee[1].block_type&&Ae[0].block_type==Ae[1].block_type&&(p.mode_ext=y.MPG_MD_MS_LR)}}if(p.mode_ext==g?(x=ue,o=P):(x=Oe,o=Z),a.analysis&&p.pinfo!=null)for(c=0;c<p.mode_gr;c++)for(u=0;u<p.channels_out;u++)p.pinfo.ms_ratio[c]=p.ms_ratio[c],p.pinfo.ms_ener_ratio[c]=H[c],p.pinfo.blocktype[c][u]=p.l3_side.tt[c][u].block_type,p.pinfo.pe[c][u]=o[c][u],n.arraycopy(p.l3_side.tt[c][u].xr,0,p.pinfo.xr[c][u],0,576),p.mode_ext==g&&(p.pinfo.ers[c][u]=p.pinfo.ers[c][u+2],n.arraycopy(p.pinfo.energy[c][u+2],0,p.pinfo.energy[c][u],0,p.pinfo.energy[c][u].length));if(a.VBR==s.vbr_off||a.VBR==s.vbr_abr){var Me,Ce;for(Me=0;Me<18;Me++)p.nsPsy.pefirbuf[Me]=p.nsPsy.pefirbuf[Me+1];for(Ce=0,c=0;c<p.mode_gr;c++)for(u=0;u<p.channels_out;u++)Ce+=o[c][u];for(p.nsPsy.pefirbuf[18]=Ce,Ce=p.nsPsy.pefirbuf[9],Me=0;Me<9;Me++)Ce+=(p.nsPsy.pefirbuf[Me]+p.nsPsy.pefirbuf[18-Me])*y.fircoef[Me];for(Ce=670*5*p.mode_gr*p.channels_out/Ce,c=0;c<p.mode_gr;c++)for(u=0;u<p.channels_out;u++)o[c][u]*=Ce}if(p.iteration_loop.iteration_loop(a,o,H,x),B.format_bitstream(a),re=B.copy_buffer(p,_,ee,q,1),a.bWriteVbrTag&&h.addVbrFrame(a),a.analysis&&p.pinfo!=null){for(u=0;u<p.channels_out;u++){var He;for(He=0;He<b;He++)p.pinfo.pcmdata[u][He]=p.pinfo.pcmdata[u][He+a.framesize];for(He=b;He<1600;He++)p.pinfo.pcmdata[u][He]=Q[u][He-b]}N.set_frame_pinfo(a,x)}return L(p),re}}m.exports=y},"4c1d":function(m,T,t){t.r(T),t.d(T,"roomsValidation",function(){return n}),t.d(T,"partcipantsValidation",function(){return s}),t.d(T,"messagesValidation",function(){return e});var r=t("53ca");t("a623"),t("d3b7"),t("277d"),t("7db0"),t("d9e2"),t("d401");function n(d){var v=[{key:"roomId",type:["string","number"]},{key:"roomName",type:["string"]},{key:"users",type:["array"]}],E=function(S,O){return O.every(function(b){var g=!1;return(b.type[0]==="array"&&Array.isArray(S[b.key])||b.type.find(function(B){return B===Object(r.a)(S[b.key])}))&&(g=!0),g&&f(S,b.key)})};if(!E(d,v))throw new Error("Rooms object is not valid! Must contain roomId[String, Number], roomName[String] and users[Array]")}function s(d){var v=[{key:"_id",type:["string","number"]},{key:"username",type:["string"]}],E=function(S,O){return O.every(function(b){var g=b.type.find(function(B){return B===Object(r.a)(S[b.key])});return g&&f(S,b.key)})};if(!E(d,v))throw new Error("Participants object is not valid! Must contain _id[String, Number] and username[String]")}function e(d){var v=[{key:"_id",type:["string","number"]},{key:"content",type:["string","number"]},{key:"senderId",type:["string","number"]}],E=function(S,O){return O.every(function(b){var g=b.type.find(function(B){return B===Object(r.a)(S[b.key])});return g&&f(S,b.key)})};if(!E(d,v))throw new Error("Messages object is not valid! Must contain _id[String, Number], content[String, Number] and senderId[String, Number]")}function f(d,v){return Object.prototype.hasOwnProperty.call(d,v)&&d[v]!==null&&d[v]!==void 0}},"4d63":function(m,T,t){var r=t("83ab"),n=t("da84"),s=t("e330"),e=t("94ca"),f=t("7156"),d=t("9112"),v=t("9bf2").f,E=t("241c").f,y=t("3a9b"),S=t("44e7"),O=t("577e"),b=t("ad6d"),g=t("9f7f"),B=t("6eeb"),w=t("d039"),h=t("1a2d"),N=t("69f3").enforce,Y=t("2626"),A=t("b622"),L=t("fce3"),D=t("107c"),a=A("match"),F=n.RegExp,k=F.prototype,_=n.SyntaxError,ee=s(b),q=s(k.exec),re=s("".charAt),Oe=s("".replace),ue=s("".indexOf),x=s("".slice),Q=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,p=/a/g,j=/a/g,H=new F(p)!==p,Z=g.MISSED_STICKY,P=g.UNSUPPORTED_Y,o=r&&(!H||Z||L||D||w(function(){return j[a]=!1,F(p)!=p||F(j)==j||F(p,"i")!="/a/i"})),u=function(V){for(var $=V.length,se=0,Ee="",Ae=!1,Me;se<=$;se++){if(Me=re(V,se),Me==="\\"){Ee+=Me+re(V,++se);continue}!Ae&&Me==="."?Ee+="[\\s\\S]":(Me==="["?Ae=!0:Me==="]"&&(Ae=!1),Ee+=Me)}return Ee},c=function(V){for(var $=V.length,se=0,Ee="",Ae=[],Me={},Ce=!1,He=!1,lt=0,Mt="",I;se<=$;se++){if(I=re(V,se),I==="\\")I=I+re(V,++se);else if(I==="]")Ce=!1;else if(!Ce)switch(!0){case I==="[":Ce=!0;break;case I==="(":q(Q,x(V,se+1))&&(se+=2,He=!0),Ee+=I,lt++;continue;case(I===">"&&He):if(Mt===""||h(Me,Mt))throw new _("Invalid capture group name");Me[Mt]=!0,Ae[Ae.length]=[Mt,lt],He=!1,Mt="";continue}He?Mt+=I:Ee+=I}return[Ee,Ae]};if(e("RegExp",o)){for(var R=function($,se){var Ee=y(k,this),Ae=S($),Me=se===void 0,Ce=[],He=$,lt,Mt,I,X,Ne,Te;if(!Ee&&Ae&&Me&&$.constructor===R)return $;if((Ae||y(k,$))&&($=$.source,Me&&(se="flags"in He?He.flags:ee(He))),$=$===void 0?"":O($),se=se===void 0?"":O(se),He=$,L&&"dotAll"in p&&(Mt=!!se&&ue(se,"s")>-1,Mt&&(se=Oe(se,/s/g,""))),lt=se,Z&&"sticky"in p&&(I=!!se&&ue(se,"y")>-1,I&&P&&(se=Oe(se,/y/g,""))),D&&(X=c($),$=X[0],Ce=X[1]),Ne=f(F($,se),Ee?this:k,R),(Mt||I||Ce.length)&&(Te=N(Ne),Mt&&(Te.dotAll=!0,Te.raw=R(u($),lt)),I&&(Te.sticky=!0),Ce.length&&(Te.groups=Ce)),$!==He)try{d(Ne,"source",He===""?"(?:)":He)}catch{}return Ne},U=function(V){V in R||v(R,V,{configurable:!0,get:function(){return F[V]},set:function($){F[V]=$}})},C=E(F),z=0;C.length>z;)U(C[z++]);k.constructor=R,R.prototype=k,B(n,"RegExp",R)}Y("RegExp")},"4d64":function(m,T,t){var r=t("fc6a"),n=t("23cb"),s=t("07fa"),e=function(f){return function(d,v,E){var y=r(d),S=s(y),O=n(E,S),b;if(f&&v!=v){for(;S>O;)if(b=y[O++],b!=b)return!0}else for(;S>O;O++)if((f||O in y)&&y[O]===v)return f||O||0;return!f&&-1}};m.exports={includes:e(!0),indexOf:e(!1)}},"4dae":function(m,T,t){var r=t("da84"),n=t("23cb"),s=t("07fa"),e=t("8418"),f=r.Array,d=Math.max;m.exports=function(v,E,y){for(var S=s(v),O=n(E,S),b=n(y===void 0?S:y,S),g=f(d(b-O,0)),B=0;O<b;O++,B++)e(g,B,v[O]);return g.length=B,g}},"4de4":function(m,T,t){var r=t("23e7"),n=t("b727").filter,s=t("1dde"),e=s("filter");r({target:"Array",proto:!0,forced:!e},{filter:function(d){return n(this,d,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(m,T,t){var r=t("da84"),n=t("0366"),s=t("c65b"),e=t("7b0b"),f=t("9bdd"),d=t("e95a"),v=t("68ee"),E=t("07fa"),y=t("8418"),S=t("9a1f"),O=t("35a1"),b=r.Array;m.exports=function(B){var w=e(B),h=v(this),N=arguments.length,Y=N>1?arguments[1]:void 0,A=Y!==void 0;A&&(Y=n(Y,N>2?arguments[2]:void 0));var L=O(w),D=0,a,F,k,_,ee,q;if(L&&!(this==b&&d(L)))for(_=S(w,L),ee=_.next,F=h?new this:[];!(k=s(ee,_)).done;D++)q=A?f(_,Y,[k.value,D],!0):k.value,y(F,D,q);else for(a=E(w),F=h?new this(a):b(a);a>D;D++)q=A?Y(w[D],D):w[D],y(F,D,q);return F.length=D,F}},"4e82":function(m,T,t){var r=t("23e7"),n=t("e330"),s=t("59ed"),e=t("7b0b"),f=t("07fa"),d=t("577e"),v=t("d039"),E=t("addb"),y=t("a640"),S=t("04d1"),O=t("d998"),b=t("2d00"),g=t("512c"),B=[],w=n(B.sort),h=n(B.push),N=v(function(){B.sort(void 0)}),Y=v(function(){B.sort(null)}),A=y("sort"),L=!v(function(){if(b)return b<70;if(!(S&&S>3)){if(O)return!0;if(g)return g<603;var F="",k,_,ee,q;for(k=65;k<76;k++){switch(_=String.fromCharCode(k),k){case 66:case 69:case 70:case 72:ee=3;break;case 68:case 71:ee=4;break;default:ee=2}for(q=0;q<47;q++)B.push({k:_+q,v:ee})}for(B.sort(function(re,Oe){return Oe.v-re.v}),q=0;q<B.length;q++)_=B[q].k.charAt(0),F.charAt(F.length-1)!==_&&(F+=_);return F!=="DGBEFHACIJK"}}),D=N||!Y||!A||!L,a=function(F){return function(k,_){return _===void 0?-1:k===void 0?1:F!==void 0?+F(k,_)||0:d(k)>d(_)?1:-1}};r({target:"Array",proto:!0,forced:D},{sort:function(k){k!==void 0&&s(k);var _=e(this);if(L)return k===void 0?w(_):w(_,k);var ee=[],q=f(_),re,Oe;for(Oe=0;Oe<q;Oe++)Oe in _&&h(ee,_[Oe]);for(E(ee,a(k)),re=ee.length,Oe=0;Oe<re;)_[Oe]=ee[Oe++];for(;Oe<q;)delete _[Oe++];return _}})},"4fad":function(m,T,t){var r=t("23e7"),n=t("6f53").entries;r({target:"Object",stat:!0},{entries:function(e){return n(e)}})},"4fadd":function(m,T,t){var r=t("d039"),n=t("861d"),s=t("c6b6"),e=t("d86b"),f=Object.isExtensible,d=r(function(){});m.exports=d||e?function(E){return!n(E)||e&&s(E)=="ArrayBuffer"?!1:f?f(E):!0}:f},"5087":function(m,T,t){var r=t("da84"),n=t("68ee"),s=t("0d51"),e=r.TypeError;m.exports=function(f){if(n(f))return f;throw e(s(f)+" is not a constructor")}},"50c4":function(m,T,t){var r=t("5926"),n=Math.min;m.exports=function(s){return s>0?n(r(s),9007199254740991):0}},"512c":function(m,T,t){var r=t("342f"),n=r.match(/AppleWebKit\/(\d+)\./);m.exports=!!n&&+n[1]},"5319":function(m,T,t){var r=t("2ba4"),n=t("c65b"),s=t("e330"),e=t("d784"),f=t("d039"),d=t("825a"),v=t("1626"),E=t("5926"),y=t("50c4"),S=t("577e"),O=t("1d80"),b=t("8aa5"),g=t("dc4a"),B=t("0cb2"),w=t("14c3"),h=t("b622"),N=h("replace"),Y=Math.max,A=Math.min,L=s([].concat),D=s([].push),a=s("".indexOf),F=s("".slice),k=function(re){return re===void 0?re:String(re)},_=function(){return"a".replace(/./,"$0")==="$0"}(),ee=function(){return/./[N]?/./[N]("a","$0")==="":!1}(),q=!f(function(){var re=/./;return re.exec=function(){var Oe=[];return Oe.groups={a:"7"},Oe},"".replace(re,"$<a>")!=="7"});e("replace",function(re,Oe,ue){var x=ee?"$":"$0";return[function(p,j){var H=O(this),Z=p==null?void 0:g(p,N);return Z?n(Z,p,H,j):n(Oe,S(H),p,j)},function(Q,p){var j=d(this),H=S(Q);if(typeof p=="string"&&a(p,x)===-1&&a(p,"$<")===-1){var Z=ue(Oe,j,H,p);if(Z.done)return Z.value}var P=v(p);P||(p=S(p));var o=j.global;if(o){var u=j.unicode;j.lastIndex=0}for(var c=[];;){var R=w(j,H);if(R===null||(D(c,R),!o))break;var U=S(R[0]);U===""&&(j.lastIndex=b(H,y(j.lastIndex),u))}for(var C="",z=0,V=0;V<c.length;V++){R=c[V];for(var $=S(R[0]),se=Y(A(E(R.index),H.length),0),Ee=[],Ae=1;Ae<R.length;Ae++)D(Ee,k(R[Ae]));var Me=R.groups;if(P){var Ce=L([$],Ee,se,H);Me!==void 0&&D(Ce,Me);var He=S(r(p,void 0,Ce))}else He=B($,H,se,Ee,Me,p);se>=z&&(C+=F(H,z,se)+He,z=se+$.length)}return C+F(H,z)}]},!q||!_||ee)},"53ca":function(m,T,t){t.d(T,"a",function(){return r}),t("a4d3"),t("e01a"),t("d3b7"),t("d28b"),t("e260"),t("3ca3"),t("ddb0");function r(n){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r(n)}},"5692":function(m,T,t){var r=t("c430"),n=t("c6cd");(m.exports=function(s,e){return n[s]||(n[s]=e!==void 0?e:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(m,T,t){var r=t("d066"),n=t("e330"),s=t("241c"),e=t("7418"),f=t("825a"),d=n([].concat);m.exports=r("Reflect","ownKeys")||function(E){var y=s.f(f(E)),S=e.f;return S?d(y,S(E)):y}},"577e":function(m,T,t){var r=t("da84"),n=t("f5df"),s=r.String;m.exports=function(e){if(n(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},"5899":function(m,T){m.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},"58a8":function(m,T,t){var r=t("e330"),n=t("1d80"),s=t("577e"),e=t("5899"),f=r("".replace),d="["+e+"]",v=RegExp("^"+d+d+"*"),E=RegExp(d+d+"*$"),y=function(S){return function(O){var b=s(n(O));return S&1&&(b=f(b,v,"")),S&2&&(b=f(b,E,"")),b}};m.exports={start:y(1),end:y(2),trim:y(3)}},"58b1":function(m,T,t){var r=t("0206"),n=r.assert;function s(){var e;this.setModules=function(f){e=f},this.ResvFrameBegin=function(f,d){var v=f.internal_flags,E,y=v.l3_side,S=e.getframebits(f);d.bits=(S-v.sideinfo_len*8)/v.mode_gr;var O=8*256*v.mode_gr-8;f.brate>320?E=8*int(f.brate*1e3/(f.out_samplerate/1152)/8+.5):(E=8*1440,f.strict_ISO&&(E=8*int(32e4/(f.out_samplerate/1152)/8+.5))),v.ResvMax=E-S,v.ResvMax>O&&(v.ResvMax=O),(v.ResvMax<0||f.disable_reservoir)&&(v.ResvMax=0);var b=d.bits*v.mode_gr+Math.min(v.ResvSize,v.ResvMax);return b>E&&(b=E),n(v.ResvMax%8==0),n(v.ResvMax>=0),y.resvDrain_pre=0,v.pinfo!=null&&(v.pinfo.mean_bits=d.bits/2,v.pinfo.resvsize=v.ResvSize),b},this.ResvMaxBits=function(f,d,v,E){var y=f.internal_flags,S,O=y.ResvSize,b=y.ResvMax;E!=0&&(O+=d),(y.substep_shaping&1)!=0&&(b*=.9),v.bits=d,O*10>b*9?(S=O-b*9/10,v.bits+=S,y.substep_shaping|=128):(S=0,y.substep_shaping&=127,!f.disable_reservoir&&(y.substep_shaping&1)==0&&(v.bits-=.1*d));var g=O<y.ResvMax*6/10?O:y.ResvMax*6/10;return g-=S,g<0&&(g=0),g},this.ResvAdjust=function(f,d){f.ResvSize-=d.part2_3_length+d.part2_length},this.ResvFrameEnd=function(f,d){var v,E=f.l3_side;f.ResvSize+=d*f.mode_gr;var y=0;E.resvDrain_post=0,E.resvDrain_pre=0,(v=f.ResvSize%8)!=0&&(y+=v),v=f.ResvSize-y-f.ResvMax,v>0&&(n(v%8==0),n(v>=0),y+=v);{var S=Math.min(E.main_data_begin*8,y)/8;E.resvDrain_pre+=8*S,y-=8*S,f.ResvSize-=8*S,E.main_data_begin-=S}E.resvDrain_post+=y,f.ResvSize-=y}}m.exports=s},"5926":function(m,T){var t=Math.ceil,r=Math.floor;m.exports=function(n){var s=+n;return s!==s||s===0?0:(s>0?r:t)(s)}},"59ed":function(m,T,t){var r=t("da84"),n=t("1626"),s=t("0d51"),e=r.TypeError;m.exports=function(f){if(n(f))return f;throw e(s(f)+" is not a function")}},"5a34":function(m,T,t){var r=t("da84"),n=t("44e7"),s=r.TypeError;m.exports=function(e){if(n(e))throw s("The method doesn't accept regular expressions");return e}},"5b81":function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("c65b"),e=t("e330"),f=t("1d80"),d=t("1626"),v=t("44e7"),E=t("577e"),y=t("dc4a"),S=t("ad6d"),O=t("0cb2"),b=t("b622"),g=t("c430"),B=b("replace"),w=RegExp.prototype,h=n.TypeError,N=e(S),Y=e("".indexOf),A=e("".replace),L=e("".slice),D=Math.max,a=function(F,k,_){return _>F.length?-1:k===""?_:Y(F,k,_)};r({target:"String",proto:!0},{replaceAll:function(k,_){var ee=f(this),q,re,Oe,ue,x,Q,p,j,H,Z=0,P=0,o="";if(k!=null){if(q=v(k),q&&(re=E(f("flags"in w?k.flags:N(k))),!~Y(re,"g")))throw h("`.replaceAll` does not allow non-global regexes");if(Oe=y(k,B),Oe)return s(Oe,k,ee,_);if(g&&q)return A(E(ee),k,_)}for(ue=E(ee),x=E(k),Q=d(_),Q||(_=E(_)),p=x.length,j=D(1,p),Z=a(ue,x,0);Z!==-1;)H=Q?E(_(x,Z,ue)):O(x,ue,Z,[],void 0,_),o+=L(ue,P,Z)+H,P=Z+p,Z=a(ue,x,Z+j);return P<ue.length&&(o+=L(ue,P)),o}})},"5c6c":function(m,T){m.exports=function(t,r){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:r}}},"5e77":function(m,T,t){var r=t("83ab"),n=t("1a2d"),s=Function.prototype,e=r&&Object.getOwnPropertyDescriptor,f=n(s,"name"),d=f&&function(){}.name==="something",v=f&&(!r||r&&e(s,"name").configurable);m.exports={EXISTS:f,PROPER:d,CONFIGURABLE:v}},"5f84":function(m,T){function t(n,s,e,f){this.xlen=n,this.linmax=s,this.table=e,this.hlen=f}var r={};r.t1HB=[1,1,1,0],r.t2HB=[1,2,1,3,1,1,3,2,0],r.t3HB=[3,2,1,1,1,1,3,2,0],r.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],r.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],r.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],r.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],r.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],r.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],r.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],r.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],r.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],r.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],r.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],r.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],r.t32HB=[1<<0,5<<1,4<<1,5<<2,6<<1,5<<2,4<<2,4<<3,7<<1,3<<2,6<<2,0<<3,7<<2,2<<3,3<<3,1<<4],r.t33HB=[15<<0,14<<1,13<<1,12<<2,11<<1,10<<2,9<<2,8<<3,7<<1,6<<2,5<<2,4<<3,3<<2,2<<3,1<<3,0<<4],r.t1l=[1,4,3,5],r.t2l=[1,4,7,4,5,7,6,7,8],r.t3l=[2,3,7,4,4,7,6,7,8],r.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],r.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],r.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],r.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],r.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],r.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],r.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],r.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],r.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],r.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],r.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],r.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],r.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],r.t32l=[1+0,4+1,4+1,5+2,4+1,6+2,5+2,6+3,4+1,5+2,5+2,6+3,5+2,6+3,6+3,6+4],r.t33l=[4+0,4+1,4+1,4+2,4+1,4+2,4+2,4+3,4+1,4+2,4+2,4+3,4+2,4+3,4+3,4+4],r.ht=[new t(0,0,null,null),new t(2,0,r.t1HB,r.t1l),new t(3,0,r.t2HB,r.t2l),new t(3,0,r.t3HB,r.t3l),new t(0,0,null,null),new t(4,0,r.t5HB,r.t5l),new t(4,0,r.t6HB,r.t6l),new t(6,0,r.t7HB,r.t7l),new t(6,0,r.t8HB,r.t8l),new t(6,0,r.t9HB,r.t9l),new t(8,0,r.t10HB,r.t10l),new t(8,0,r.t11HB,r.t11l),new t(8,0,r.t12HB,r.t12l),new t(16,0,r.t13HB,r.t13l),new t(0,0,null,r.t16_5l),new t(16,0,r.t15HB,r.t15l),new t(1,1,r.t16HB,r.t16l),new t(2,3,r.t16HB,r.t16l),new t(3,7,r.t16HB,r.t16l),new t(4,15,r.t16HB,r.t16l),new t(6,63,r.t16HB,r.t16l),new t(8,255,r.t16HB,r.t16l),new t(10,1023,r.t16HB,r.t16l),new t(13,8191,r.t16HB,r.t16l),new t(4,15,r.t24HB,r.t24l),new t(5,31,r.t24HB,r.t24l),new t(6,63,r.t24HB,r.t24l),new t(7,127,r.t24HB,r.t24l),new t(8,255,r.t24HB,r.t24l),new t(9,511,r.t24HB,r.t24l),new t(11,2047,r.t24HB,r.t24l),new t(13,8191,r.t24HB,r.t24l),new t(0,0,r.t32HB,r.t32l),new t(0,0,r.t33HB,r.t33l)],r.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],r.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],r.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],r.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],r.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],r.scfsi_band=[0,6,11,16,21],m.exports=r},"5f96":function(m,T,t){var r=t("ebb5"),n=t("e330"),s=r.aTypedArray,e=r.exportTypedArrayMethod,f=n([].join);e("join",function(v){return f(s(this),v)})},"5fb2":function(m,T,t){var r=t("da84"),n=t("e330"),s=2147483647,e=36,f=1,d=26,v=38,E=700,y=72,S=128,O="-",b=/[^\0-\u007E]/,g=/[.\u3002\uFF0E\uFF61]/g,B="Overflow: input needs wider integers to process",w=e-f,h=r.RangeError,N=n(g.exec),Y=Math.floor,A=String.fromCharCode,L=n("".charCodeAt),D=n([].join),a=n([].push),F=n("".replace),k=n("".split),_=n("".toLowerCase),ee=function(ue){for(var x=[],Q=0,p=ue.length;Q<p;){var j=L(ue,Q++);if(j>=55296&&j<=56319&&Q<p){var H=L(ue,Q++);(H&64512)==56320?a(x,((j&1023)<<10)+(H&1023)+65536):(a(x,j),Q--)}else a(x,j)}return x},q=function(ue){return ue+22+75*(ue<26)},re=function(ue,x,Q){var p=0;for(ue=Q?Y(ue/E):ue>>1,ue+=Y(ue/x);ue>w*d>>1;)ue=Y(ue/w),p+=e;return Y(p+(w+1)*ue/(ue+v))},Oe=function(ue){var x=[];ue=ee(ue);var Q=ue.length,p=S,j=0,H=y,Z,P;for(Z=0;Z<ue.length;Z++)P=ue[Z],P<128&&a(x,A(P));var o=x.length,u=o;for(o&&a(x,O);u<Q;){var c=s;for(Z=0;Z<ue.length;Z++)P=ue[Z],P>=p&&P<c&&(c=P);var R=u+1;if(c-p>Y((s-j)/R))throw h(B);for(j+=(c-p)*R,p=c,Z=0;Z<ue.length;Z++){if(P=ue[Z],P<p&&++j>s)throw h(B);if(P==p){for(var U=j,C=e;;){var z=C<=H?f:C>=H+d?d:C-H;if(U<z)break;var V=U-z,$=e-z;a(x,A(q(z+V%$))),U=Y(V/$),C+=e}a(x,A(q(U))),H=re(j,R,u==o),j=0,u++}}j++,p++}return D(x,"")};m.exports=function(ue){var x=[],Q=k(F(_(ue),g,"."),"."),p,j;for(p=0;p<Q.length;p++)j=Q[p],a(x,N(b,j)?"xn--"+Oe(j):j);return D(x,".")}},"605d":function(m,T,t){var r=t("c6b6"),n=t("da84");m.exports=r(n.process)=="process"},"6062":function(m,T,t){var r=t("6d61"),n=t("6566");r("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},n)},"6069":function(m,T){m.exports=typeof window=="object"},"60bd":function(m,T,t){var r=t("da84"),n=t("d039"),s=t("e330"),e=t("ebb5"),f=t("e260"),d=t("b622"),v=d("iterator"),E=r.Uint8Array,y=s(f.values),S=s(f.keys),O=s(f.entries),b=e.aTypedArray,g=e.exportTypedArrayMethod,B=E&&E.prototype,w=!n(function(){B[v].call([1])}),h=!!B&&B.values&&B[v]===B.values&&B.values.name==="values",N=function(){return y(b(this))};g("entries",function(){return O(b(this))},w),g("keys",function(){return S(b(this))},w),g("values",N,w||!h,{name:"values"}),g(v,N,w||!h,{name:"values"})},"60da":function(m,T,t){var r=t("83ab"),n=t("e330"),s=t("c65b"),e=t("d039"),f=t("df75"),d=t("7418"),v=t("d1e7"),E=t("7b0b"),y=t("44ad"),S=Object.assign,O=Object.defineProperty,b=n([].concat);m.exports=!S||e(function(){if(r&&S({b:1},S(O({},"a",{enumerable:!0,get:function(){O(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var g={},B={},w=Symbol(),h="abcdefghijklmnopqrst";return g[w]=7,h.split("").forEach(function(N){B[N]=N}),S({},g)[w]!=7||f(S({},B)).join("")!=h})?function(B,w){for(var h=E(B),N=arguments.length,Y=1,A=d.f,L=v.f;N>Y;)for(var D=y(arguments[Y++]),a=A?b(f(D),A(D)):f(D),F=a.length,k=0,_;F>k;)_=a[k++],(!r||s(L,D,_))&&(h[_]=D[_]);return h}:S},"621a":function(m,T,t){var r=t("da84"),n=t("e330"),s=t("83ab"),e=t("a981"),f=t("5e77"),d=t("9112"),v=t("e2cc"),E=t("d039"),y=t("19aa"),S=t("5926"),O=t("50c4"),b=t("0b25"),g=t("77a7"),B=t("e163"),w=t("d2bb"),h=t("241c").f,N=t("9bf2").f,Y=t("81d5"),A=t("4dae"),L=t("d44e"),D=t("69f3"),a=f.PROPER,F=f.CONFIGURABLE,k=D.get,_=D.set,ee="ArrayBuffer",q="DataView",re="prototype",Oe="Wrong length",ue="Wrong index",x=r[ee],Q=x,p=Q&&Q[re],j=r[q],H=j&&j[re],Z=Object.prototype,P=r.Array,o=r.RangeError,u=n(Y),c=n([].reverse),R=g.pack,U=g.unpack,C=function(Te){return[Te&255]},z=function(Te){return[Te&255,Te>>8&255]},V=function(Te){return[Te&255,Te>>8&255,Te>>16&255,Te>>24&255]},$=function(Te){return Te[3]<<24|Te[2]<<16|Te[1]<<8|Te[0]},se=function(Te){return R(Te,23,4)},Ee=function(Te){return R(Te,52,8)},Ae=function(Te,Fe){N(Te[re],Fe,{get:function(){return k(this)[Fe]}})},Me=function(Te,Fe,Ge,_e){var We=b(Ge),st=k(Te);if(We+Fe>st.byteLength)throw o(ue);var ct=k(st.buffer).bytes,Ke=We+st.byteOffset,Et=A(ct,Ke,Ke+Fe);return _e?Et:c(Et)},Ce=function(Te,Fe,Ge,_e,We,st){var ct=b(Ge),Ke=k(Te);if(ct+Fe>Ke.byteLength)throw o(ue);for(var Et=k(Ke.buffer).bytes,$e=ct+Ke.byteOffset,tt=_e(+We),Ze=0;Ze<Fe;Ze++)Et[$e+Ze]=tt[st?Ze:Fe-Ze-1]};if(!e)Q=function(Fe){y(this,p);var Ge=b(Fe);_(this,{bytes:u(P(Ge),0),byteLength:Ge}),s||(this.byteLength=Ge)},p=Q[re],j=function(Fe,Ge,_e){y(this,H),y(Fe,p);var We=k(Fe).byteLength,st=S(Ge);if(st<0||st>We)throw o("Wrong offset");if(_e=_e===void 0?We-st:O(_e),st+_e>We)throw o(Oe);_(this,{buffer:Fe,byteLength:_e,byteOffset:st}),s||(this.buffer=Fe,this.byteLength=_e,this.byteOffset=st)},H=j[re],s&&(Ae(Q,"byteLength"),Ae(j,"buffer"),Ae(j,"byteLength"),Ae(j,"byteOffset")),v(H,{getInt8:function(Fe){return Me(this,1,Fe)[0]<<24>>24},getUint8:function(Fe){return Me(this,1,Fe)[0]},getInt16:function(Fe){var Ge=Me(this,2,Fe,arguments.length>1?arguments[1]:void 0);return(Ge[1]<<8|Ge[0])<<16>>16},getUint16:function(Fe){var Ge=Me(this,2,Fe,arguments.length>1?arguments[1]:void 0);return Ge[1]<<8|Ge[0]},getInt32:function(Fe){return $(Me(this,4,Fe,arguments.length>1?arguments[1]:void 0))},getUint32:function(Fe){return $(Me(this,4,Fe,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(Fe){return U(Me(this,4,Fe,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(Fe){return U(Me(this,8,Fe,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(Fe,Ge){Ce(this,1,Fe,C,Ge)},setUint8:function(Fe,Ge){Ce(this,1,Fe,C,Ge)},setInt16:function(Fe,Ge){Ce(this,2,Fe,z,Ge,arguments.length>2?arguments[2]:void 0)},setUint16:function(Fe,Ge){Ce(this,2,Fe,z,Ge,arguments.length>2?arguments[2]:void 0)},setInt32:function(Fe,Ge){Ce(this,4,Fe,V,Ge,arguments.length>2?arguments[2]:void 0)},setUint32:function(Fe,Ge){Ce(this,4,Fe,V,Ge,arguments.length>2?arguments[2]:void 0)},setFloat32:function(Fe,Ge){Ce(this,4,Fe,se,Ge,arguments.length>2?arguments[2]:void 0)},setFloat64:function(Fe,Ge){Ce(this,8,Fe,Ee,Ge,arguments.length>2?arguments[2]:void 0)}});else{var He=a&&x.name!==ee;if(!E(function(){x(1)})||!E(function(){new x(-1)})||E(function(){return new x,new x(1.5),new x(NaN),He&&!F})){Q=function(Fe){return y(this,p),new x(b(Fe))},Q[re]=p;for(var lt=h(x),Mt=0,I;lt.length>Mt;)(I=lt[Mt++])in Q||d(Q,I,x[I]);p.constructor=Q}else He&&F&&d(x,"name",ee);w&&B(H)!==Z&&w(H,Z);var X=new j(new Q(2)),Ne=n(H.setInt8);X.setInt8(0,2147483648),X.setInt8(1,2147483649),(X.getInt8(0)||!X.getInt8(1))&&v(H,{setInt8:function(Fe,Ge){Ne(this,Fe,Ge<<24>>24)},setUint8:function(Fe,Ge){Ne(this,Fe,Ge<<24>>24)}},{unsafe:!0})}L(Q,ee),L(j,q),m.exports={ArrayBuffer:Q,DataView:j}},"649e":function(m,T,t){var r=t("ebb5"),n=t("b727").some,s=r.aTypedArray,e=r.exportTypedArrayMethod;e("some",function(d){return n(s(this),d,arguments.length>1?arguments[1]:void 0)})},"64e5":function(m,T,t){var r=t("da84"),n=t("e330"),s=t("d039"),e=t("0ccb").start,f=r.RangeError,d=Math.abs,v=Date.prototype,E=v.toISOString,y=n(v.getTime),S=n(v.getUTCDate),O=n(v.getUTCFullYear),b=n(v.getUTCHours),g=n(v.getUTCMilliseconds),B=n(v.getUTCMinutes),w=n(v.getUTCMonth),h=n(v.getUTCSeconds);m.exports=s(function(){return E.call(new Date(-5e13-1))!="0385-07-25T07:06:39.999Z"})||!s(function(){E.call(new Date(NaN))})?function(){if(!isFinite(y(this)))throw f("Invalid time value");var Y=this,A=O(Y),L=g(Y),D=A<0?"-":A>9999?"+":"";return D+e(d(A),D?6:4,0)+"-"+e(w(Y)+1,2,0)+"-"+e(S(Y),2,0)+"T"+e(b(Y),2,0)+":"+e(B(Y),2,0)+":"+e(h(Y),2,0)+"."+e(L,3,0)+"Z"}:E},"6547":function(m,T,t){var r=t("e330"),n=t("5926"),s=t("577e"),e=t("1d80"),f=r("".charAt),d=r("".charCodeAt),v=r("".slice),E=function(y){return function(S,O){var b=s(e(S)),g=n(O),B=b.length,w,h;return g<0||g>=B?y?"":void 0:(w=d(b,g),w<55296||w>56319||g+1===B||(h=d(b,g+1))<56320||h>57343?y?f(b,g):w:y?v(b,g,g+2):(w-55296<<10)+(h-56320)+65536)}};m.exports={codeAt:E(!1),charAt:E(!0)}},"6566":function(m,T,t){var r=t("9bf2").f,n=t("7c73"),s=t("e2cc"),e=t("0366"),f=t("19aa"),d=t("2266"),v=t("7dd0"),E=t("2626"),y=t("83ab"),S=t("f183").fastKey,O=t("69f3"),b=O.set,g=O.getterFor;m.exports={getConstructor:function(B,w,h,N){var Y=B(function(F,k){f(F,A),b(F,{type:w,index:n(null),first:void 0,last:void 0,size:0}),y||(F.size=0),k!=null&&d(k,F[N],{that:F,AS_ENTRIES:h})}),A=Y.prototype,L=g(w),D=function(F,k,_){var ee=L(F),q=a(F,k),re,Oe;return q?q.value=_:(ee.last=q={index:Oe=S(k,!0),key:k,value:_,previous:re=ee.last,next:void 0,removed:!1},ee.first||(ee.first=q),re&&(re.next=q),y?ee.size++:F.size++,Oe!=="F"&&(ee.index[Oe]=q)),F},a=function(F,k){var _=L(F),ee=S(k),q;if(ee!=="F")return _.index[ee];for(q=_.first;q;q=q.next)if(q.key==k)return q};return s(A,{clear:function(){for(var k=this,_=L(k),ee=_.index,q=_.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=void 0),delete ee[q.index],q=q.next;_.first=_.last=void 0,y?_.size=0:k.size=0},delete:function(F){var k=this,_=L(k),ee=a(k,F);if(ee){var q=ee.next,re=ee.previous;delete _.index[ee.index],ee.removed=!0,re&&(re.next=q),q&&(q.previous=re),_.first==ee&&(_.first=q),_.last==ee&&(_.last=re),y?_.size--:k.size--}return!!ee},forEach:function(k){for(var _=L(this),ee=e(k,arguments.length>1?arguments[1]:void 0),q;q=q?q.next:_.first;)for(ee(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(k){return!!a(this,k)}}),s(A,h?{get:function(k){var _=a(this,k);return _&&_.value},set:function(k,_){return D(this,k===0?0:k,_)}}:{add:function(k){return D(this,k=k===0?0:k,k)}}),y&&r(A,"size",{get:function(){return L(this).size}}),Y},setStrong:function(B,w,h){var N=w+" Iterator",Y=g(w),A=g(N);v(B,w,function(L,D){b(this,{type:N,target:L,state:Y(L),kind:D,last:void 0})},function(){for(var L=A(this),D=L.kind,a=L.last;a&&a.removed;)a=a.previous;return!L.target||!(L.last=a=a?a.next:L.state.first)?(L.target=void 0,{value:void 0,done:!0}):D=="keys"?{value:a.key,done:!1}:D=="values"?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}},h?"entries":"values",!h,!0),E(w)}}},"65f0":function(m,T,t){var r=t("0b42");m.exports=function(n,s){return new(r(n))(s===0?0:s)}},"67b2":function(m,T){function t(r){var n=r;this.ordinal=function(){return n}}t.STEREO=new t(0),t.JOINT_STEREO=new t(1),t.DUAL_CHANNEL=new t(2),t.MONO=new t(3),t.NOT_SET=new t(4),m.exports=t},"68ee":function(m,T,t){var r=t("e330"),n=t("d039"),s=t("1626"),e=t("f5df"),f=t("d066"),d=t("8925"),v=function(){},E=[],y=f("Reflect","construct"),S=/^\s*(?:class|function)\b/,O=r(S.exec),b=!S.exec(v),g=function(h){if(!s(h))return!1;try{return y(v,E,h),!0}catch{return!1}},B=function(h){if(!s(h))return!1;switch(e(h)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return b||!!O(S,d(h))}catch{return!0}};B.sham=!0,m.exports=!y||n(function(){var w;return g(g.call)||!g(Object)||!g(function(){w=!0})||w})?B:g},"69b2":function(m,T,t){var r=t("0206"),n=r.System;r.VbrMode,r.Float,r.ShortBlock,r.Util;var s=r.Arrays;r.new_array_n;var e=r.new_byte;r.new_double,r.new_float;var f=r.new_float_n,d=r.new_int;r.new_int_n;var v=r.assert,E=t("d9be"),y=t("5f84"),S=t("4b5e"),O=t("bd8b");b.EQ=function(g,B){return Math.abs(g)>Math.abs(B)?Math.abs(g-B)<=Math.abs(g)*1e-6:Math.abs(g-B)<=Math.abs(B)*1e-6},b.NEQ=function(g,B){return!b.EQ(g,B)};function b(){var g=this,B=32773,w=32,h=null,N=null,Y=null,A=null;this.setModules=function(o,u,c,R){h=o,N=u,Y=c,A=R};var L=null,D=0,a=0,F=0;this.getframebits=function(o){var u=o.internal_flags,c;u.bitrate_index!=0?c=y.bitrate_table[o.version][u.bitrate_index]:c=o.brate,v(8<=c&&c<=640);var R=0|(o.version+1)*72e3*c/o.out_samplerate+u.padding;return 8*R};function k(o){n.arraycopy(o.header[o.w_ptr].buf,0,L,a,o.sideinfo_len),a+=o.sideinfo_len,D+=o.sideinfo_len*8,o.w_ptr=o.w_ptr+1&O.MAX_HEADER_BUF-1}function _(o,u,c){for(v(c<w-2);c>0;){var R;F==0&&(F=8,a++,v(a<Lame.LAME_MAXMP3BUFFER),v(o.header[o.w_ptr].write_timing>=D),o.header[o.w_ptr].write_timing==D&&k(o),L[a]=0),R=Math.min(c,F),c-=R,F-=R,v(c<w),v(F<w),L[a]|=u>>c<<F,D+=R}}function ee(o,u,c){for(v(c<w-2);c>0;){var R;F==0&&(F=8,a++,v(a<Lame.LAME_MAXMP3BUFFER),L[a]=0),R=Math.min(c,F),c-=R,F-=R,v(c<w),v(F<w),L[a]|=u>>c<<F,D+=R}}function q(o,u){var c=o.internal_flags,R;if(v(u>=0),u>=8&&(_(c,76,8),u-=8),u>=8&&(_(c,65,8),u-=8),u>=8&&(_(c,77,8),u-=8),u>=8&&(_(c,69,8),u-=8),u>=32){var U=Y.getLameShortVersion();if(u>=32)for(R=0;R<U.length&&u>=8;++R)u-=8,_(c,U.charAt(R),8)}for(;u>=1;u-=1)_(c,c.ancillary_flag,1),c.ancillary_flag^=o.disable_reservoir?0:1;v(u==0)}function re(o,u,c){for(var R=o.header[o.h_ptr].ptr;c>0;){var U=Math.min(c,8-(R&7));c-=U,v(c<w),o.header[o.h_ptr].buf[R>>3]|=u>>c<<8-(R&7)-U,R+=U}o.header[o.h_ptr].ptr=R}function Oe(o,u){o<<=8;for(var c=0;c<8;c++)o<<=1,u<<=1,((u^o)&65536)!=0&&(u^=B);return u}this.CRC_writeheader=function(o,u){var c=65535;c=Oe(u[2]&255,c),c=Oe(u[3]&255,c);for(var R=6;R<o.sideinfo_len;R++)c=Oe(u[R]&255,c);u[4]=byte(c>>8),u[5]=byte(c&255)};function ue(o,u){var c=o.internal_flags,R,U,C;if(R=c.l3_side,c.header[c.h_ptr].ptr=0,s.fill(c.header[c.h_ptr].buf,0,c.sideinfo_len,0),o.out_samplerate<16e3?re(c,4094,12):re(c,4095,12),re(c,o.version,1),re(c,4-3,2),re(c,o.error_protection?0:1,1),re(c,c.bitrate_index,4),re(c,c.samplerate_index,2),re(c,c.padding,1),re(c,o.extension,1),re(c,o.mode.ordinal(),2),re(c,c.mode_ext,2),re(c,o.copyright,1),re(c,o.original,1),re(c,o.emphasis,2),o.error_protection&&re(c,0,16),o.version==1){for(v(R.main_data_begin>=0),re(c,R.main_data_begin,9),c.channels_out==2?re(c,R.private_bits,3):re(c,R.private_bits,5),C=0;C<c.channels_out;C++){var z;for(z=0;z<4;z++)re(c,R.scfsi[C][z],1)}for(U=0;U<2;U++)for(C=0;C<c.channels_out;C++){var V=R.tt[U][C];re(c,V.part2_3_length+V.part2_length,12),re(c,V.big_values/2,9),re(c,V.global_gain,8),re(c,V.scalefac_compress,4),V.block_type!=S.NORM_TYPE?(re(c,1,1),re(c,V.block_type,2),re(c,V.mixed_block_flag,1),V.table_select[0]==14&&(V.table_select[0]=16),re(c,V.table_select[0],5),V.table_select[1]==14&&(V.table_select[1]=16),re(c,V.table_select[1],5),re(c,V.subblock_gain[0],3),re(c,V.subblock_gain[1],3),re(c,V.subblock_gain[2],3)):(re(c,0,1),V.table_select[0]==14&&(V.table_select[0]=16),re(c,V.table_select[0],5),V.table_select[1]==14&&(V.table_select[1]=16),re(c,V.table_select[1],5),V.table_select[2]==14&&(V.table_select[2]=16),re(c,V.table_select[2],5),v(0<=V.region0_count&&V.region0_count<16),v(0<=V.region1_count&&V.region1_count<8),re(c,V.region0_count,4),re(c,V.region1_count,3)),re(c,V.preflag,1),re(c,V.scalefac_scale,1),re(c,V.count1table_select,1)}}else for(v(R.main_data_begin>=0),re(c,R.main_data_begin,8),re(c,R.private_bits,c.channels_out),U=0,C=0;C<c.channels_out;C++){var V=R.tt[U][C];re(c,V.part2_3_length+V.part2_length,12),re(c,V.big_values/2,9),re(c,V.global_gain,8),re(c,V.scalefac_compress,9),V.block_type!=S.NORM_TYPE?(re(c,1,1),re(c,V.block_type,2),re(c,V.mixed_block_flag,1),V.table_select[0]==14&&(V.table_select[0]=16),re(c,V.table_select[0],5),V.table_select[1]==14&&(V.table_select[1]=16),re(c,V.table_select[1],5),re(c,V.subblock_gain[0],3),re(c,V.subblock_gain[1],3),re(c,V.subblock_gain[2],3)):(re(c,0,1),V.table_select[0]==14&&(V.table_select[0]=16),re(c,V.table_select[0],5),V.table_select[1]==14&&(V.table_select[1]=16),re(c,V.table_select[1],5),V.table_select[2]==14&&(V.table_select[2]=16),re(c,V.table_select[2],5),v(0<=V.region0_count&&V.region0_count<16),v(0<=V.region1_count&&V.region1_count<8),re(c,V.region0_count,4),re(c,V.region1_count,3)),re(c,V.scalefac_scale,1),re(c,V.count1table_select,1)}o.error_protection&&CRC_writeheader(c,c.header[c.h_ptr].buf);{var $=c.h_ptr;v(c.header[$].ptr==c.sideinfo_len*8),c.h_ptr=$+1&O.MAX_HEADER_BUF-1,c.header[c.h_ptr].write_timing=c.header[$].write_timing+u,c.h_ptr==c.w_ptr&&n.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function x(o,u){var c=y.ht[u.count1table_select+32],R,U=0,C=u.big_values,z=u.big_values;for(v(u.count1table_select<2),R=(u.count1-u.big_values)/4;R>0;--R){var V=0,$=0,se;se=u.l3_enc[C+0],se!=0&&($+=8,u.xr[z+0]<0&&V++,v(se<=1)),se=u.l3_enc[C+1],se!=0&&($+=4,V*=2,u.xr[z+1]<0&&V++,v(se<=1)),se=u.l3_enc[C+2],se!=0&&($+=2,V*=2,u.xr[z+2]<0&&V++,v(se<=1)),se=u.l3_enc[C+3],se!=0&&($++,V*=2,u.xr[z+3]<0&&V++,v(se<=1)),C+=4,z+=4,_(o,V+c.table[$],c.hlen[$]),U+=c.hlen[$]}return U}function Q(o,u,c,R,U){var C=y.ht[u],z=0;if(v(u<32),u==0)return z;for(var V=c;V<R;V+=2){var $=0,se=0,Ee=C.xlen,Ae=C.xlen,Me=0,Ce=U.l3_enc[V],He=U.l3_enc[V+1];if(Ce!=0&&(U.xr[V]<0&&Me++,$--),u>15){if(Ce>14){var lt=Ce-15;v(lt<=C.linmax),Me|=lt<<1,se=Ee,Ce=15}if(He>14){var Mt=He-15;v(Mt<=C.linmax),Me<<=Ee,Me|=Mt,se+=Ee,He=15}Ae=16}He!=0&&(Me<<=1,U.xr[V+1]<0&&Me++,$--),v((Ce|He)<16),Ce=Ce*Ae+He,se-=$,$+=C.hlen[Ce],v($<=w),v(se<=w),_(o,C.table[Ce],$),_(o,Me,se),z+=$+se}return z}function p(o,u){var c=3*o.scalefac_band.s[3];c>u.big_values&&(c=u.big_values);var R=Q(o,u.table_select[0],0,c,u);return R+=Q(o,u.table_select[1],c,u.big_values,u),R}function j(o,u){var c,R,U,C;c=u.big_values,v(0<=c&&c<=576);var z=u.region0_count+1;return v(0<=z),v(z<o.scalefac_band.l.length),U=o.scalefac_band.l[z],z+=u.region1_count+1,v(0<=z),v(z<o.scalefac_band.l.length),C=o.scalefac_band.l[z],U>c&&(U=c),C>c&&(C=c),R=Q(o,u.table_select[0],0,U,u),R+=Q(o,u.table_select[1],U,C,u),R+=Q(o,u.table_select[2],C,c,u),R}function H(o){var u,c,R,U,C=0,z=o.internal_flags,V=z.l3_side;if(o.version==1)for(u=0;u<2;u++)for(c=0;c<z.channels_out;c++){var $=V.tt[u][c],se=E.slen1_tab[$.scalefac_compress],Ee=E.slen2_tab[$.scalefac_compress];for(U=0,R=0;R<$.sfbdivide;R++)$.scalefac[R]!=-1&&(_(z,$.scalefac[R],se),U+=se);for(;R<$.sfbmax;R++)$.scalefac[R]!=-1&&(_(z,$.scalefac[R],Ee),U+=Ee);v(U==$.part2_length),$.block_type==S.SHORT_TYPE?U+=p(z,$):U+=j(z,$),U+=x(z,$),v(U==$.part2_3_length+$.part2_length),C+=U}else for(u=0,c=0;c<z.channels_out;c++){var $=V.tt[u][c],Ae,Me,Ce=0;if(v($.sfb_partition_table!=null),U=0,R=0,Me=0,$.block_type==S.SHORT_TYPE){for(;Me<4;Me++){var He=$.sfb_partition_table[Me]/3,lt=$.slen[Me];for(Ae=0;Ae<He;Ae++,R++)_(z,Math.max($.scalefac[R*3+0],0),lt),_(z,Math.max($.scalefac[R*3+1],0),lt),_(z,Math.max($.scalefac[R*3+2],0),lt),Ce+=3*lt}U+=p(z,$)}else{for(;Me<4;Me++){var He=$.sfb_partition_table[Me],lt=$.slen[Me];for(Ae=0;Ae<He;Ae++,R++)_(z,Math.max($.scalefac[R],0),lt),Ce+=lt}U+=j(z,$)}U+=x(z,$),v(U==$.part2_3_length),v(Ce==$.part2_length),C+=Ce+U}return C}function Z(){this.total=0}function P(o,u){var c=o.internal_flags,R,U,C,z,V;return V=c.w_ptr,z=c.h_ptr-1,z==-1&&(z=O.MAX_HEADER_BUF-1),R=c.header[z].write_timing-D,u.total=R,R>=0&&(U=1+z-V,z<V&&(U=1+z-V+O.MAX_HEADER_BUF),R-=U*8*c.sideinfo_len),C=g.getframebits(o),R+=C,u.total+=C,u.total%8!=0?u.total=1+u.total/8:u.total=u.total/8,u.total+=a+1,R<0&&n.err.println(`strange error flushing buffer ... 
`),R}this.flush_bitstream=function(o){var u=o.internal_flags,c,R,U=u.h_ptr-1;if(U==-1&&(U=O.MAX_HEADER_BUF-1),c=u.l3_side,!((R=P(o,new Z))<0)){if(q(o,R),v(u.header[U].write_timing+this.getframebits(o)==D),u.ResvSize=0,c.main_data_begin=0,u.findReplayGain){var C=h.GetTitleGain(u.rgdata);v(NEQ(C,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),u.RadioGain=Math.floor(C*10+.5)|0}u.findPeakSample&&(u.noclipGainChange=Math.ceil(Math.log10(u.PeakSample/32767)*20*10)|0,u.noclipGainChange>0&&(EQ(o.scale,1)||EQ(o.scale,0))?u.noclipScale=Math.floor(32767/u.PeakSample*100)/100:u.noclipScale=-1)}},this.add_dummy_byte=function(o,u,c){for(var R=o.internal_flags,U;c-- >0;)for(ee(R,u,8),U=0;U<O.MAX_HEADER_BUF;++U)R.header[U].write_timing+=8},this.format_bitstream=function(o){var u=o.internal_flags,c;c=u.l3_side;var R=this.getframebits(o);q(o,c.resvDrain_pre),ue(o,R);var U=8*u.sideinfo_len;if(U+=H(o),q(o,c.resvDrain_post),U+=c.resvDrain_post,c.main_data_begin+=(R-U)/8,P(o,new Z)!=u.ResvSize&&n.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),c.main_data_begin*8!=u.ResvSize&&(n.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*c.main_data_begin,u.ResvSize,c.resvDrain_post,c.resvDrain_pre,8*u.sideinfo_len,U-c.resvDrain_post-8*u.sideinfo_len,U,U%8,R),n.err.println("This is a fatal error.  It has several possible causes:"),n.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),n.err.println(" 9%%  Your system is overclocked"),n.err.println(" 1%%  bug in LAME encoding library"),u.ResvSize=c.main_data_begin*8),v(D%8==0),D>1e9){var C;for(C=0;C<O.MAX_HEADER_BUF;++C)u.header[C].write_timing-=D;D=0}return 0},this.copy_buffer=function(o,u,c,R,U){var C=a+1;if(C<=0)return 0;if(R!=0&&C>R)return-1;if(n.arraycopy(L,0,u,c,C),a=-1,F=0,U!=0){var z=d(1);if(z[0]=o.nMusicCRC,A.updateMusicCRC(z,u,c,C),o.nMusicCRC=z[0],C>0&&(o.VBR_seek_table.nBytesWritten+=C),o.decode_on_the_fly){for(var V=f([2,1152]),$=C,se=-1,Ee;se!=0;)if(se=N.hip_decode1_unclipped(o.hip,u,c,$,V[0],V[1]),$=0,se==-1&&(se=0),se>0){if(v(se<=1152),o.findPeakSample){for(Ee=0;Ee<se;Ee++)V[0][Ee]>o.PeakSample?o.PeakSample=V[0][Ee]:-V[0][Ee]>o.PeakSample&&(o.PeakSample=-V[0][Ee]);if(o.channels_out>1)for(Ee=0;Ee<se;Ee++)V[1][Ee]>o.PeakSample?o.PeakSample=V[1][Ee]:-V[1][Ee]>o.PeakSample&&(o.PeakSample=-V[1][Ee])}if(o.findReplayGain&&h.AnalyzeSamples(o.rgdata,V[0],0,V[1],0,se,o.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return C},this.init_bit_stream_w=function(o){L=e(Lame.LAME_MAXMP3BUFFER),o.h_ptr=o.w_ptr=0,o.header[o.h_ptr].write_timing=0,a=-1,F=0,D=0}}m.exports=b},"69f3":function(m,T,t){var r=t("7f9a"),n=t("da84"),s=t("e330"),e=t("861d"),f=t("9112"),d=t("1a2d"),v=t("c6cd"),E=t("f772"),y=t("d012"),S="Object already initialized",O=n.TypeError,b=n.WeakMap,g,B,w,h=function(F){return w(F)?B(F):g(F,{})},N=function(F){return function(k){var _;if(!e(k)||(_=B(k)).type!==F)throw O("Incompatible receiver, "+F+" required");return _}};if(r||v.state){var Y=v.state||(v.state=new b),A=s(Y.get),L=s(Y.has),D=s(Y.set);g=function(F,k){if(L(Y,F))throw new O(S);return k.facade=F,D(Y,F,k),k},B=function(F){return A(Y,F)||{}},w=function(F){return L(Y,F)}}else{var a=E("state");y[a]=!0,g=function(F,k){if(d(F,a))throw new O(S);return k.facade=F,f(F,a,k),k},B=function(F){return d(F,a)?F[a]:{}},w=function(F){return d(F,a)}}m.exports={set:g,get:B,has:w,enforce:h,getterFor:N}},"6b0d":function(m,T,t){Object.defineProperty(T,"__esModule",{value:!0}),T.default=(r,n)=>{const s=r.__vccOpts||r;for(const[e,f]of n)s[e]=f;return s}},"6d61":function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("e330"),e=t("94ca"),f=t("6eeb"),d=t("f183"),v=t("2266"),E=t("19aa"),y=t("1626"),S=t("861d"),O=t("d039"),b=t("1c7e"),g=t("d44e"),B=t("7156");m.exports=function(w,h,N){var Y=w.indexOf("Map")!==-1,A=w.indexOf("Weak")!==-1,L=Y?"set":"add",D=n[w],a=D&&D.prototype,F=D,k={},_=function(Q){var p=s(a[Q]);f(a,Q,Q=="add"?function(H){return p(this,H===0?0:H),this}:Q=="delete"?function(j){return A&&!S(j)?!1:p(this,j===0?0:j)}:Q=="get"?function(H){return A&&!S(H)?void 0:p(this,H===0?0:H)}:Q=="has"?function(H){return A&&!S(H)?!1:p(this,H===0?0:H)}:function(H,Z){return p(this,H===0?0:H,Z),this})},ee=e(w,!y(D)||!(A||a.forEach&&!O(function(){new D().entries().next()})));if(ee)F=N.getConstructor(h,w,Y,L),d.enable();else if(e(w,!0)){var q=new F,re=q[L](A?{}:-0,1)!=q,Oe=O(function(){q.has(1)}),ue=b(function(Q){new D(Q)}),x=!A&&O(function(){for(var Q=new D,p=5;p--;)Q[L](p,p);return!Q.has(-0)});ue||(F=h(function(Q,p){E(Q,a);var j=B(new D,Q,F);return p!=null&&v(p,j[L],{that:j,AS_ENTRIES:Y}),j}),F.prototype=a,a.constructor=F),(Oe||x)&&(_("delete"),_("has"),Y&&_("get")),(x||re)&&_(L),A&&a.clear&&delete a.clear}return k[w]=F,r({global:!0,forced:F!=D},k),g(F,w),A||N.setStrong(F,w,Y),F}},"6eba":function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("e330"),e=n.Date,f=s(e.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return f(new e)}})},"6eeb":function(m,T,t){var r=t("da84"),n=t("1626"),s=t("1a2d"),e=t("9112"),f=t("ce4e"),d=t("8925"),v=t("69f3"),E=t("5e77").CONFIGURABLE,y=v.get,S=v.enforce,O=String(String).split("String");(m.exports=function(b,g,B,w){var h=w?!!w.unsafe:!1,N=w?!!w.enumerable:!1,Y=w?!!w.noTargetGet:!1,A=w&&w.name!==void 0?w.name:g,L;if(n(B)&&(String(A).slice(0,7)==="Symbol("&&(A="["+String(A).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(B,"name")||E&&B.name!==A)&&e(B,"name",A),L=S(B),L.source||(L.source=O.join(typeof A=="string"?A:""))),b===r){N?b[g]=B:f(g,B);return}else h?!Y&&b[g]&&(N=!0):delete b[g];N?b[g]=B:e(b,g,B)})(Function.prototype,"toString",function(){return n(this)&&y(this).source||d(this)})},"6f53":function(m,T,t){var r=t("83ab"),n=t("e330"),s=t("df75"),e=t("fc6a"),f=t("d1e7").f,d=n(f),v=n([].push),E=function(y){return function(S){for(var O=e(S),b=s(O),g=b.length,B=0,w=[],h;g>B;)h=b[B++],(!r||d(O,h))&&v(w,y?[h,O[h]]:O[h]);return w}};m.exports={entries:E(!0),values:E(!1)}},"7156":function(m,T,t){var r=t("1626"),n=t("861d"),s=t("d2bb");m.exports=function(e,f,d){var v,E;return s&&r(v=f.constructor)&&v!==d&&n(E=v.prototype)&&E!==d.prototype&&s(e,E),e}},"725d":function(m,T,t){var r=t("0206");r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var n=r.new_float;r.new_float_n;var s=r.new_int;r.new_int_n,r.assert;var e=t("2f21");function f(){this.linprebuf=n(e.MAX_ORDER*2),this.linpre=0,this.lstepbuf=n(e.MAX_SAMPLES_PER_WINDOW+e.MAX_ORDER),this.lstep=0,this.loutbuf=n(e.MAX_SAMPLES_PER_WINDOW+e.MAX_ORDER),this.lout=0,this.rinprebuf=n(e.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=n(e.MAX_SAMPLES_PER_WINDOW+e.MAX_ORDER),this.rstep=0,this.routbuf=n(e.MAX_SAMPLES_PER_WINDOW+e.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=s(0|e.STEPS_per_dB*e.MAX_dB),this.B=s(0|e.STEPS_per_dB*e.MAX_dB)}m.exports=f},"7276":function(m,T){function t(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}m.exports=t},"72f7":function(m,T,t){var r=t("ebb5").exportTypedArrayMethod,n=t("d039"),s=t("da84"),e=t("e330"),f=s.Uint8Array,d=f&&f.prototype||{},v=[].toString,E=e([].join);n(function(){v.call({})})&&(v=function(){return E(this)});var y=d.toString!=v;r("toString",v,y)},"735e":function(m,T,t){var r=t("ebb5"),n=t("c65b"),s=t("81d5"),e=r.aTypedArray,f=r.exportTypedArrayMethod;f("fill",function(v){var E=arguments.length;return n(s,e(this),v,E>1?arguments[1]:void 0,E>2?arguments[2]:void 0)})},"7418":function(m,T){T.f=Object.getOwnPropertySymbols},"746f":function(m,T,t){var r=t("428f"),n=t("1a2d"),s=t("e538"),e=t("9bf2").f;m.exports=function(f){var d=r.Symbol||(r.Symbol={});n(d,f)||e(d,f,{value:s.f(f)})}},"74e8":function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("c65b"),e=t("83ab"),f=t("8aa7"),d=t("ebb5"),v=t("621a"),E=t("19aa"),y=t("5c6c"),S=t("9112"),O=t("eac5"),b=t("50c4"),g=t("0b25"),B=t("182d"),w=t("a04b"),h=t("1a2d"),N=t("f5df"),Y=t("861d"),A=t("d9b5"),L=t("7c73"),D=t("3a9b"),a=t("d2bb"),F=t("241c").f,k=t("a078"),_=t("b727").forEach,ee=t("2626"),q=t("9bf2"),re=t("06cf"),Oe=t("69f3"),ue=t("7156"),x=Oe.get,Q=Oe.set,p=q.f,j=re.f,H=Math.round,Z=n.RangeError,P=v.ArrayBuffer,o=P.prototype,u=v.DataView,c=d.NATIVE_ARRAY_BUFFER_VIEWS,R=d.TYPED_ARRAY_CONSTRUCTOR,U=d.TYPED_ARRAY_TAG,C=d.TypedArray,z=d.TypedArrayPrototype,V=d.aTypedArrayConstructor,$=d.isTypedArray,se="BYTES_PER_ELEMENT",Ee="Wrong length",Ae=function(I,X){V(I);for(var Ne=0,Te=X.length,Fe=new I(Te);Te>Ne;)Fe[Ne]=X[Ne++];return Fe},Me=function(I,X){p(I,X,{get:function(){return x(this)[X]}})},Ce=function(I){var X;return D(o,I)||(X=N(I))=="ArrayBuffer"||X=="SharedArrayBuffer"},He=function(I,X){return $(I)&&!A(X)&&X in I&&O(+X)&&X>=0},lt=function(X,Ne){return Ne=w(Ne),He(X,Ne)?y(2,X[Ne]):j(X,Ne)},Mt=function(X,Ne,Te){return Ne=w(Ne),He(X,Ne)&&Y(Te)&&h(Te,"value")&&!h(Te,"get")&&!h(Te,"set")&&!Te.configurable&&(!h(Te,"writable")||Te.writable)&&(!h(Te,"enumerable")||Te.enumerable)?(X[Ne]=Te.value,X):p(X,Ne,Te)};e?(c||(re.f=lt,q.f=Mt,Me(z,"buffer"),Me(z,"byteOffset"),Me(z,"byteLength"),Me(z,"length")),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyDescriptor:lt,defineProperty:Mt}),m.exports=function(I,X,Ne){var Te=I.match(/\d+$/)[0]/8,Fe=I+(Ne?"Clamped":"")+"Array",Ge="get"+I,_e="set"+I,We=n[Fe],st=We,ct=st&&st.prototype,Ke={},Et=function(Ze,rt){var at=x(Ze);return at.view[Ge](rt*Te+at.byteOffset,!0)},$e=function(Ze,rt,at){var we=x(Ze);Ne&&(at=(at=H(at))<0?0:at>255?255:at&255),we.view[_e](rt*Te+we.byteOffset,at,!0)},tt=function(Ze,rt){p(Ze,rt,{get:function(){return Et(this,rt)},set:function(at){return $e(this,rt,at)},enumerable:!0})};c?f&&(st=X(function(Ze,rt,at,we){return E(Ze,ct),ue(function(){return Y(rt)?Ce(rt)?we!==void 0?new We(rt,B(at,Te),we):at!==void 0?new We(rt,B(at,Te)):new We(rt):$(rt)?Ae(st,rt):s(k,st,rt):new We(g(rt))}(),Ze,st)}),a&&a(st,C),_(F(We),function(Ze){Ze in st||S(st,Ze,We[Ze])}),st.prototype=ct):(st=X(function(Ze,rt,at,we){E(Ze,ct);var it=0,ut=0,gt,Ot,wt;if(!Y(rt))wt=g(rt),Ot=wt*Te,gt=new P(Ot);else if(Ce(rt)){gt=rt,ut=B(at,Te);var Se=rt.byteLength;if(we===void 0){if(Se%Te||(Ot=Se-ut,Ot<0))throw Z(Ee)}else if(Ot=b(we)*Te,Ot+ut>Se)throw Z(Ee);wt=Ot/Te}else return $(rt)?Ae(st,rt):s(k,st,rt);for(Q(Ze,{buffer:gt,byteOffset:ut,byteLength:Ot,length:wt,view:new u(gt)});it<wt;)tt(Ze,it++)}),a&&a(st,C),ct=st.prototype=L(z)),ct.constructor!==st&&S(ct,"constructor",st),S(ct,R,st),U&&S(ct,U,Fe),Ke[Fe]=st,r({global:!0,forced:st!=We,sham:!c},Ke),se in st||S(st,se,Te),se in ct||S(ct,se,Te),ee(Fe)}):m.exports=function(){}},"74fe":function(m,T,t){m.exports=t("2d78")},"7656":function(m,T,t){T.__esModule=!0,T.AMPERSAND=T.CLOSEPAREN=T.CLOSEANGLEBRACKET=T.CLOSEBRACKET=T.CLOSEBRACE=T.OPENPAREN=T.OPENANGLEBRACKET=T.OPENBRACKET=T.OPENBRACE=T.WS=T.TLD=T.SYM=T.UNDERSCORE=T.SLASH=T.MAILTO=T.PROTOCOL=T.QUERY=T.POUND=T.PLUS=T.NUM=T.NL=T.LOCALHOST=T.PUNCTUATION=T.DOT=T.COLON=T.AT=T.DOMAIN=T.Base=void 0;var r=t("46f3"),n=t("254c"),s=(0,r.createTokenClass)();s.prototype={toString:function(){return this.v+""}};function e(Q){var p=Q?{v:Q}:{};return(0,n.inherits)(s,(0,r.createTokenClass)(),p)}var f=e(),d=e("@"),v=e(":"),E=e("."),y=e(),S=e(),O=e(`
`),b=e(),g=e("+"),B=e("#"),w=e(),h=e("mailto:"),N=e("?"),Y=e("/"),A=e("_"),L=e(),D=e(),a=e(),F=e("{"),k=e("["),_=e("<"),ee=e("("),q=e("}"),re=e("]"),Oe=e(">"),ue=e(")"),x=e("&");T.Base=s,T.DOMAIN=f,T.AT=d,T.COLON=v,T.DOT=E,T.PUNCTUATION=y,T.LOCALHOST=S,T.NL=O,T.NUM=b,T.PLUS=g,T.POUND=B,T.QUERY=N,T.PROTOCOL=w,T.MAILTO=h,T.SLASH=Y,T.UNDERSCORE=A,T.SYM=L,T.TLD=D,T.WS=a,T.OPENBRACE=F,T.OPENBRACKET=k,T.OPENANGLEBRACKET=_,T.OPENPAREN=ee,T.CLOSEBRACE=q,T.CLOSEBRACKET=re,T.CLOSEANGLEBRACKET=Oe,T.CLOSEPAREN=ue,T.AMPERSAND=x},"77a7":function(m,T,t){var r=t("da84"),n=r.Array,s=Math.abs,e=Math.pow,f=Math.floor,d=Math.log,v=Math.LN2,E=function(S,O,b){var g=n(b),B=b*8-O-1,w=(1<<B)-1,h=w>>1,N=O===23?e(2,-24)-e(2,-77):0,Y=S<0||S===0&&1/S<0?1:0,A=0,L,D,a;for(S=s(S),S!=S||S===1/0?(D=S!=S?1:0,L=w):(L=f(d(S)/v),a=e(2,-L),S*a<1&&(L--,a*=2),L+h>=1?S+=N/a:S+=N*e(2,1-h),S*a>=2&&(L++,a/=2),L+h>=w?(D=0,L=w):L+h>=1?(D=(S*a-1)*e(2,O),L=L+h):(D=S*e(2,h-1)*e(2,O),L=0));O>=8;)g[A++]=D&255,D/=256,O-=8;for(L=L<<O|D,B+=O;B>0;)g[A++]=L&255,L/=256,B-=8;return g[--A]|=Y*128,g},y=function(S,O){var b=S.length,g=b*8-O-1,B=(1<<g)-1,w=B>>1,h=g-7,N=b-1,Y=S[N--],A=Y&127,L;for(Y>>=7;h>0;)A=A*256+S[N--],h-=8;for(L=A&(1<<-h)-1,A>>=-h,h+=O;h>0;)L=L*256+S[N--],h-=8;if(A===0)A=1-w;else{if(A===B)return L?NaN:Y?-1/0:1/0;L=L+e(2,O),A=A-w}return(Y?-1:1)*L*e(2,A-O)};m.exports={pack:E,unpack:y}},"7839":function(m,T){m.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(m,T,t){var r=t("cc12"),n=r("span").classList,s=n&&n.constructor&&n.constructor.prototype;m.exports=s===Object.prototype?void 0:s},"7a82":function(m,T,t){var r=t("23e7"),n=t("83ab"),s=t("9bf2").f;r({target:"Object",stat:!0,forced:Object.defineProperty!==s,sham:!n},{defineProperty:s})},"7b0b":function(m,T,t){var r=t("da84"),n=t("1d80"),s=r.Object;m.exports=function(e){return s(n(e))}},"7c73":function(m,T,t){var r=t("825a"),n=t("37e8"),s=t("7839"),e=t("d012"),f=t("1be4"),d=t("cc12"),v=t("f772"),E=">",y="<",S="prototype",O="script",b=v("IE_PROTO"),g=function(){},B=function(A){return y+O+E+A+y+"/"+O+E},w=function(A){A.write(B("")),A.close();var L=A.parentWindow.Object;return A=null,L},h=function(){var A=d("iframe"),L="java"+O+":",D;return A.style.display="none",f.appendChild(A),A.src=String(L),D=A.contentWindow.document,D.open(),D.write(B("document.F=Object")),D.close(),D.F},N,Y=function(){try{N=new ActiveXObject("htmlfile")}catch{}Y=typeof document!="undefined"?document.domain&&N?w(N):h():w(N);for(var A=s.length;A--;)delete Y[S][s[A]];return Y()};e[b]=!0,m.exports=Object.create||function(L,D){var a;return L!==null?(g[S]=r(L),a=new g,g[S]=null,a[b]=L):a=Y(),D===void 0?a:n.f(a,D)}},"7db0":function(m,T,t){var r=t("23e7"),n=t("b727").find,s=t("44d2"),e="find",f=!0;e in[]&&Array(1)[e](function(){f=!1}),r({target:"Array",proto:!0,forced:f},{find:function(v){return n(this,v,arguments.length>1?arguments[1]:void 0)}}),s(e)},"7dd0":function(m,T,t){var r=t("23e7"),n=t("c65b"),s=t("c430"),e=t("5e77"),f=t("1626"),d=t("9ed3"),v=t("e163"),E=t("d2bb"),y=t("d44e"),S=t("9112"),O=t("6eeb"),b=t("b622"),g=t("3f8c"),B=t("ae93"),w=e.PROPER,h=e.CONFIGURABLE,N=B.IteratorPrototype,Y=B.BUGGY_SAFARI_ITERATORS,A=b("iterator"),L="keys",D="values",a="entries",F=function(){return this};m.exports=function(k,_,ee,q,re,Oe,ue){d(ee,_,q);var x=function(R){if(R===re&&Z)return Z;if(!Y&&R in j)return j[R];switch(R){case L:return function(){return new ee(this,R)};case D:return function(){return new ee(this,R)};case a:return function(){return new ee(this,R)}}return function(){return new ee(this)}},Q=_+" Iterator",p=!1,j=k.prototype,H=j[A]||j["@@iterator"]||re&&j[re],Z=!Y&&H||x(re),P=_=="Array"&&j.entries||H,o,u,c;if(P&&(o=v(P.call(new k)),o!==Object.prototype&&o.next&&(!s&&v(o)!==N&&(E?E(o,N):f(o[A])||O(o,A,F)),y(o,Q,!0,!0),s&&(g[Q]=F))),w&&re==D&&H&&H.name!==D&&(!s&&h?S(j,"name",D):(p=!0,Z=function(){return n(H,this)})),re)if(u={values:x(D),keys:Oe?Z:x(L),entries:x(a)},ue)for(c in u)(Y||p||!(c in j))&&O(j,c,u[c]);else r({target:_,proto:!0,forced:Y||p},u);return(!s||ue)&&j[A]!==Z&&O(j,A,Z,{name:re}),g[_]=Z,u}},"7e12":function(m,T,t){var r=t("da84"),n=t("d039"),s=t("e330"),e=t("577e"),f=t("58a8").trim,d=t("5899"),v=s("".charAt),E=r.parseFloat,y=r.Symbol,S=y&&y.iterator,O=1/E(d+"-0")!==-1/0||S&&!n(function(){E(Object(S))});m.exports=O?function(g){var B=f(e(g)),w=E(B);return w===0&&v(B,0)=="-"?-0:w}:E},"7f9a":function(m,T,t){var r=t("da84"),n=t("1626"),s=t("8925"),e=r.WeakMap;m.exports=n(e)&&/native code/.test(s(e))},"8100":function(m,T,t){var r=t("0206");r.System,r.VbrMode,r.Float,r.ShortBlock;var n=r.Util;r.Arrays,r.new_array_n,r.new_byte,r.new_double;var s=r.new_float;r.new_float_n,r.new_int,r.new_int_n,r.assert;var e=t("4b5e");function f(){var d=s(e.BLKSIZE),v=s(e.BLKSIZE_s/2),E=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function y(O,b,g){var B=0,w,h,N;g<<=1;var Y=b+g;w=4;do{var A,L,D,a,F,k,_;_=w>>1,a=w,F=w<<1,k=F+a,w=F<<1,h=b,N=h+_;do{var ee,q,re,Oe;q=O[h+0]-O[h+a],ee=O[h+0]+O[h+a],Oe=O[h+F]-O[h+k],re=O[h+F]+O[h+k],O[h+F]=ee-re,O[h+0]=ee+re,O[h+k]=q-Oe,O[h+a]=q+Oe,q=O[N+0]-O[N+a],ee=O[N+0]+O[N+a],Oe=n.SQRT2*O[N+k],re=n.SQRT2*O[N+F],O[N+F]=ee-re,O[N+0]=ee+re,O[N+k]=q-Oe,O[N+a]=q+Oe,N+=w,h+=w}while(h<Y);for(L=E[B+0],A=E[B+1],D=1;D<_;D++){var ue,x;ue=1-2*A*A,x=2*A*L,h=b+D,N=b+a-D;do{var Q,p,j,ee,q,H,re,Z,Oe,P;p=x*O[h+a]-ue*O[N+a],Q=ue*O[h+a]+x*O[N+a],q=O[h+0]-Q,ee=O[h+0]+Q,H=O[N+0]-p,j=O[N+0]+p,p=x*O[h+k]-ue*O[N+k],Q=ue*O[h+k]+x*O[N+k],Oe=O[h+F]-Q,re=O[h+F]+Q,P=O[N+F]-p,Z=O[N+F]+p,p=A*re-L*P,Q=L*re+A*P,O[h+F]=ee-Q,O[h+0]=ee+Q,O[N+k]=H-p,O[N+a]=H+p,p=L*Z-A*Oe,Q=A*Z+L*Oe,O[N+F]=j-Q,O[N+0]=j+Q,O[h+k]=q-p,O[h+a]=q+p,N+=w,h+=w}while(h<Y);ue=L,L=ue*E[B+0]-A*E[B+1],A=ue*E[B+1]+A*E[B+0]}B+=2}while(w<g)}var S=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(O,b,g,B,w){for(var h=0;h<3;h++){var N=e.BLKSIZE_s/2,Y=65535&576/3*(h+1),A=e.BLKSIZE_s/8-1;do{var L,D,a,F,k,_=S[A<<2]&255;L=v[_]*B[g][w+_+Y],k=v[127-_]*B[g][w+_+Y+128],D=L-k,L=L+k,a=v[_+64]*B[g][w+_+Y+64],k=v[63-_]*B[g][w+_+Y+192],F=a-k,a=a+k,N-=4,b[h][N+0]=L+a,b[h][N+2]=L-a,b[h][N+1]=D+F,b[h][N+3]=D-F,L=v[_+1]*B[g][w+_+Y+1],k=v[126-_]*B[g][w+_+Y+129],D=L-k,L=L+k,a=v[_+65]*B[g][w+_+Y+65],k=v[62-_]*B[g][w+_+Y+193],F=a-k,a=a+k,b[h][N+e.BLKSIZE_s/2+0]=L+a,b[h][N+e.BLKSIZE_s/2+2]=L-a,b[h][N+e.BLKSIZE_s/2+1]=D+F,b[h][N+e.BLKSIZE_s/2+3]=D-F}while(--A>=0);y(b[h],N,e.BLKSIZE_s/2)}},this.fft_long=function(O,b,g,B,w){var h=e.BLKSIZE/8-1,N=e.BLKSIZE/2;do{var Y,A,L,D,a,F=S[h]&255;Y=d[F]*B[g][w+F],a=d[F+512]*B[g][w+F+512],A=Y-a,Y=Y+a,L=d[F+256]*B[g][w+F+256],a=d[F+768]*B[g][w+F+768],D=L-a,L=L+a,N-=4,b[N+0]=Y+L,b[N+2]=Y-L,b[N+1]=A+D,b[N+3]=A-D,Y=d[F+1]*B[g][w+F+1],a=d[F+513]*B[g][w+F+513],A=Y-a,Y=Y+a,L=d[F+257]*B[g][w+F+257],a=d[F+769]*B[g][w+F+769],D=L-a,L=L+a,b[N+e.BLKSIZE/2+0]=Y+L,b[N+e.BLKSIZE/2+2]=Y-L,b[N+e.BLKSIZE/2+1]=A+D,b[N+e.BLKSIZE/2+3]=A-D}while(--h>=0);y(b,N,e.BLKSIZE/2)},this.init_fft=function(O){for(var b=0;b<e.BLKSIZE;b++)d[b]=.42-.5*Math.cos(2*Math.PI*(b+.5)/e.BLKSIZE)+.08*Math.cos(4*Math.PI*(b+.5)/e.BLKSIZE);for(var b=0;b<e.BLKSIZE_s/2;b++)v[b]=.5*(1-Math.cos(2*Math.PI*(b+.5)/e.BLKSIZE_s))}}m.exports=f},"81d5":function(m,T,t){var r=t("7b0b"),n=t("23cb"),s=t("07fa");m.exports=function(f){for(var d=r(this),v=s(d),E=arguments.length,y=n(E>1?arguments[1]:void 0,v),S=E>2?arguments[2]:void 0,O=S===void 0?v:n(S,v);O>y;)d[y++]=f;return d}},"825a":function(m,T,t){var r=t("da84"),n=t("861d"),s=r.String,e=r.TypeError;m.exports=function(f){if(n(f))return f;throw e(s(f)+" is not an object")}},"82f8":function(m,T,t){var r=t("ebb5"),n=t("4d64").includes,s=r.aTypedArray,e=r.exportTypedArrayMethod;e("includes",function(d){return n(s(this),d,arguments.length>1?arguments[1]:void 0)})},"83ab":function(m,T,t){var r=t("d039");m.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"8418":function(m,T,t){var r=t("a04b"),n=t("9bf2"),s=t("5c6c");m.exports=function(e,f,d){var v=r(f);v in e?n.f(e,v,s(0,d)):e[v]=d}},"841c":function(m,T,t){var r=t("c65b"),n=t("d784"),s=t("825a"),e=t("1d80"),f=t("129f"),d=t("577e"),v=t("dc4a"),E=t("14c3");n("search",function(y,S,O){return[function(g){var B=e(this),w=g==null?void 0:v(g,y);return w?r(w,g,B):new RegExp(g)[y](d(B))},function(b){var g=s(this),B=d(b),w=O(S,g,B);if(w.done)return w.value;var h=g.lastIndex;f(h,0)||(g.lastIndex=0);var N=E(g,B);return f(g.lastIndex,h)||(g.lastIndex=h),N===null?-1:N.index}]})},"857a":function(m,T,t){var r=t("e330"),n=t("1d80"),s=t("577e"),e=/"/g,f=r("".replace);m.exports=function(d,v,E,y){var S=s(n(d)),O="<"+v;return E!==""&&(O+=" "+E+'="'+f(s(y),e,"&quot;")+'"'),O+">"+S+"</"+v+">"}},"861d":function(m,T,t){var r=t("1626");m.exports=function(n){return typeof n=="object"?n!==null:r(n)}},"874e":function(m,T,t){(function(r){var n=t("da58");function s(){}function e(ne){return ne()}function f(){return Object.create(null)}function d(ne){ne.forEach(e)}function v(ne){return typeof ne=="function"}function E(ne,K){return ne!=ne?K==K:ne!==K||ne&&typeof ne=="object"||typeof ne=="function"}let y;function S(ne,K){return y||(y=document.createElement("a")),y.href=K,ne===y.href}function O(ne){return Object.keys(ne).length===0}function b(ne){return ne&&v(ne.destroy)?ne.destroy:s}function g(ne,K){ne.appendChild(K)}function B(ne,K,le){ne.insertBefore(K,le||null)}function w(ne){ne.parentNode.removeChild(ne)}function h(ne){return document.createElement(ne)}function N(ne){return document.createTextNode(ne)}function Y(ne,K,le,je){return ne.addEventListener(K,le,je),()=>ne.removeEventListener(K,le,je)}function A(ne,K,le){le==null?ne.removeAttribute(K):ne.getAttribute(K)!==le&&ne.setAttribute(K,le)}function L(ne,K){K=""+K,ne.wholeText!==K&&(ne.data=K)}function D(ne,K){ne.value=K==null?"":K}function a(ne,K,le,je){le===null?ne.style.removeProperty(K):ne.style.setProperty(K,le,je?"important":"")}let F;function k(ne){F=ne}const _=[],ee=[],q=[],re=[],Oe=Promise.resolve();let ue=!1;function x(){ue||(ue=!0,Oe.then(Z))}function Q(){return x(),Oe}function p(ne){q.push(ne)}const j=new Set;let H=0;function Z(){const ne=F;do{for(;H<_.length;){const K=_[H];H++,k(K),P(K.$$)}for(k(null),_.length=0,H=0;ee.length;)ee.pop()();for(let K=0;K<q.length;K+=1){const le=q[K];j.has(le)||(j.add(le),le())}q.length=0}while(_.length);for(;re.length;)re.pop()();ue=!1,j.clear(),k(ne)}function P(ne){if(ne.fragment!==null){ne.update(),d(ne.before_update);const K=ne.dirty;ne.dirty=[-1],ne.fragment&&ne.fragment.p(ne.ctx,K),ne.after_update.forEach(p)}}const o=new Set;function u(ne,K){ne&&ne.i&&(o.delete(ne),ne.i(K))}const c=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:r;function R(ne,K){ne.d(1),K.delete(ne.key)}function U(ne,K,le,je,ot,qe,Rt,jt,At,ht,Bt,Lt){let Dt=ne.length,Pt=qe.length,Yt=Dt;const zt={};for(;Yt--;)zt[ne[Yt].key]=Yt;const pt=[],Kt=new Map,er=new Map;for(Yt=Pt;Yt--;){const Ht=Lt(ot,qe,Yt),Ft=le(Ht);let Ut=Rt.get(Ft);Ut?je&&Ut.p(Ht,K):(Ut=ht(Ft,Ht),Ut.c()),Kt.set(Ft,pt[Yt]=Ut),Ft in zt&&er.set(Ft,Math.abs(Yt-zt[Ft]))}const Jt=new Set,rr=new Set;function nr(Ht){u(Ht,1),Ht.m(jt,Bt),Rt.set(Ht.key,Ht),Bt=Ht.first,Pt--}for(;Dt&&Pt;){const Ht=pt[Pt-1],Ft=ne[Dt-1],Ut=Ht.key,lr=Ft.key;Ht===Ft?(Bt=Ht.first,Dt--,Pt--):Kt.has(lr)?!Rt.has(Ut)||Jt.has(Ut)?nr(Ht):rr.has(lr)?Dt--:er.get(Ut)>er.get(lr)?(rr.add(Ut),nr(Ht)):(Jt.add(lr),Dt--):(At(Ft,Rt),Dt--)}for(;Dt--;){const Ht=ne[Dt];Kt.has(Ht.key)||At(Ht,Rt)}for(;Pt;)nr(pt[Pt-1]);return pt}function C(ne,K,le,je){const{fragment:ot,on_mount:qe,on_destroy:Rt,after_update:jt}=ne.$$;ot&&ot.m(K,le),je||p(()=>{const At=qe.map(e).filter(v);Rt?Rt.push(...At):d(At),ne.$$.on_mount=[]}),jt.forEach(p)}function z(ne,K){const le=ne.$$;le.fragment!==null&&(d(le.on_destroy),le.fragment&&le.fragment.d(K),le.on_destroy=le.fragment=null,le.ctx=[])}function V(ne,K){ne.$$.dirty[0]===-1&&(_.push(ne),x(),ne.$$.dirty.fill(0)),ne.$$.dirty[K/31|0]|=1<<K%31}function $(ne,K,le,je,ot,qe,Rt,jt=[-1]){const At=F;k(ne);const ht=ne.$$={fragment:null,ctx:null,props:qe,update:s,not_equal:ot,bound:f(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(K.context||(At?At.$$.context:[])),callbacks:f(),dirty:jt,skip_bound:!1,root:K.target||At.$$.root};Rt&&Rt(ht.root);let Bt=!1;ht.ctx=le?le(ne,K.props||{},(Lt,Dt,...Pt)=>{const Yt=Pt.length?Pt[0]:Dt;return ht.ctx&&ot(ht.ctx[Lt],ht.ctx[Lt]=Yt)&&(!ht.skip_bound&&ht.bound[Lt]&&ht.bound[Lt](Yt),Bt&&V(ne,Lt)),Dt}):[],ht.update(),Bt=!0,d(ht.before_update),ht.fragment=je?je(ht.ctx):!1,K.target&&(ht.fragment&&ht.fragment.c(),K.intro&&u(ne.$$.fragment),C(ne,K.target,K.anchor,K.customElement),Z()),k(At)}class se{$destroy(){z(this,1),this.$destroy=s}$on(K,le){const je=this.$$.callbacks[K]||(this.$$.callbacks[K]=[]);return je.push(le),()=>{const ot=je.indexOf(le);ot!==-1&&je.splice(ot,1)}}$set(K){this.$$set&&!O(K)&&(this.$$.skip_bound=!0,this.$$set(K),this.$$.skip_bound=!1)}}const Ee=[[-1,"\u2728","custom"],[0,"\u{1F600}","smileys-emotion"],[1,"\u{1F44B}","people-body"],[3,"\u{1F431}","animals-nature"],[4,"\u{1F34E}","food-drink"],[5,"\u{1F3E0}\uFE0F","travel-places"],[6,"\u26BD","activities"],[7,"\u{1F4DD}","objects"],[8,"\u26D4\uFE0F","symbols"],[9,"\u{1F3C1}","flags"]].map(([ne,K,le])=>({id:ne,emoji:K,name:le})),Ae=Ee.slice(1),Me=Ee[0],Ce=2,He=6,lt=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function Mt(ne){return ne.unicode.includes("\u200D")}const I={"\u{1FAE0}":14,"\u{1F972}":13.1,"\u{1F97B}":12.1,"\u{1F970}":11,"\u{1F929}":5,"\u{1F471}\u200D\u2640\uFE0F":4,"\u{1F923}":3,"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":2,"\u{1F600}":1,"\u{1F610}\uFE0F":.7,"\u{1F603}":.6},X=1e3,Ne="\u{1F590}\uFE0F",Te=8,Fe=["\u{1F60A}","\u{1F612}","\u2665\uFE0F","\u{1F44D}\uFE0F","\u{1F60D}","\u{1F602}","\u{1F62D}","\u263A\uFE0F","\u{1F614}","\u{1F629}","\u{1F60F}","\u{1F495}","\u{1F64C}","\u{1F618}"],Ge='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',_e=(ne,K)=>ne<K?-1:ne>K?1:0,We=(ne,K)=>{const le=document.createElement("canvas");le.width=le.height=1;const je=le.getContext("2d");return je.textBaseline="top",je.font=`100px ${Ge}`,je.fillStyle=K,je.scale(.01,.01),je.fillText(ne,0,0),je.getImageData(0,0,1,1).data},st=(ne,K)=>{const le=[...ne].join(","),je=[...K].join(",");return le===je&&!le.startsWith("0,0,0,")};function ct(ne){const K=We(ne,"#000"),le=We(ne,"#fff");return K&&le&&st(K,le)}function Ke(){const ne=Object.entries(I);try{for(const[K,le]of ne)if(ct(K))return le}catch{}finally{}return ne[0][1]}const Et=new Promise(ne=>lt(()=>ne(Ke()))),$e=new Map,tt="\uFE0F",Ze="\uD83C",rt="\u200D",at=127995,we=57339;function it(ne,K){if(K===0)return ne;const le=ne.indexOf(rt);return le!==-1?ne.substring(0,le)+String.fromCodePoint(at+K-1)+ne.substring(le):(ne.endsWith(tt)&&(ne=ne.substring(0,ne.length-1)),ne+Ze+String.fromCodePoint(we+K-1))}function ut(ne){ne.preventDefault(),ne.stopPropagation()}function gt(ne,K,le){return K+=ne?-1:1,K<0?K=le.length-1:K>=le.length&&(K=0),K}function Ot(ne,K){const le=new Set,je=[];for(const ot of ne){const qe=K(ot);le.has(qe)||(le.add(qe),je.push(ot))}return je}function wt(ne,K){const le=je=>{const ot={};for(const qe of je)typeof qe.tone=="number"&&qe.version<=K&&(ot[qe.tone]=qe.unicode);return ot};return ne.map(({unicode:je,skins:ot,shortcodes:qe,url:Rt,name:jt,category:At})=>({unicode:je,name:jt,shortcodes:qe,url:Rt,category:At,id:je||jt,skins:ot&&le(ot),title:(qe||[]).join(", ")}))}const Se=requestAnimationFrame;let me=typeof ResizeObserver=="function";function Re(ne,K){let le;return me?(le=new ResizeObserver(je=>K(je[0].contentRect.width)),le.observe(ne)):Se(()=>K(ne.getBoundingClientRect().width)),{destroy(){le&&le.disconnect()}}}function Ue(ne){{const K=document.createRange();return K.selectNode(ne.firstChild),K.getBoundingClientRect().width}}let G;function W(ne,K,le){for(const je of ne){const ot=le(je),qe=Ue(ot);typeof G=="undefined"&&(G=Ue(K));const Rt=qe/1.8<G;$e.set(je.unicode,Rt)}}function ie(ne){return Ot(ne,K=>K)}const{Map:ce}=c;function pe(ne,K,le){const je=ne.slice();return je[63]=K[le],je[65]=le,je}function te(ne,K,le){const je=ne.slice();return je[66]=K[le],je[65]=le,je}function he(ne,K,le){const je=ne.slice();return je[63]=K[le],je[65]=le,je}function be(ne,K,le){const je=ne.slice();return je[69]=K[le],je}function ve(ne,K,le){const je=ne.slice();return je[72]=K[le],je[65]=le,je}function Ie(ne,K){let le,je=K[72]+"",ot,qe,Rt,jt,At,ht;return{key:ne,first:null,c(){le=h("div"),ot=N(je),A(le,"id",qe="skintone-"+K[65]),A(le,"class",Rt="emoji hide-focus "+(K[65]===K[20]?"active":"")),A(le,"aria-selected",jt=K[65]===K[20]),A(le,"role","option"),A(le,"title",At=K[0].skinTones[K[65]]),A(le,"tabindex","-1"),A(le,"aria-label",ht=K[0].skinTones[K[65]]),this.first=le},m(Bt,Lt){B(Bt,le,Lt),g(le,ot)},p(Bt,Lt){K=Bt,Lt[0]&512&&je!==(je=K[72]+"")&&L(ot,je),Lt[0]&512&&qe!==(qe="skintone-"+K[65])&&A(le,"id",qe),Lt[0]&1049088&&Rt!==(Rt="emoji hide-focus "+(K[65]===K[20]?"active":""))&&A(le,"class",Rt),Lt[0]&1049088&&jt!==(jt=K[65]===K[20])&&A(le,"aria-selected",jt),Lt[0]&513&&At!==(At=K[0].skinTones[K[65]])&&A(le,"title",At),Lt[0]&513&&ht!==(ht=K[0].skinTones[K[65]])&&A(le,"aria-label",ht)},d(Bt){Bt&&w(le)}}}function xe(ne,K){let le,je,ot=K[69].emoji+"",qe,Rt,jt,At,ht,Bt,Lt;function Dt(){return K[49](K[69])}return{key:ne,first:null,c(){le=h("button"),je=h("div"),qe=N(ot),A(je,"class","nav-emoji emoji"),A(le,"role","tab"),A(le,"class","nav-button"),A(le,"aria-controls",Rt="tab-"+K[69].id),A(le,"aria-label",jt=K[0].categories[K[69].name]),A(le,"aria-selected",At=!K[4]&&K[13].id===K[69].id),A(le,"title",ht=K[0].categories[K[69].name]),this.first=le},m(Pt,Yt){B(Pt,le,Yt),g(le,je),g(je,qe),Bt||(Lt=Y(le,"click",Dt),Bt=!0)},p(Pt,Yt){K=Pt,Yt[0]&4096&&ot!==(ot=K[69].emoji+"")&&L(qe,ot),Yt[0]&4096&&Rt!==(Rt="tab-"+K[69].id)&&A(le,"aria-controls",Rt),Yt[0]&4097&&jt!==(jt=K[0].categories[K[69].name])&&A(le,"aria-label",jt),Yt[0]&12304&&At!==(At=!K[4]&&K[13].id===K[69].id)&&A(le,"aria-selected",At),Yt[0]&4097&&ht!==(ht=K[0].categories[K[69].name])&&A(le,"title",ht)},d(Pt){Pt&&w(le),Bt=!1,Lt()}}}function Le(ne){let K,le;return{c(){K=h("img"),A(K,"class","custom-emoji"),S(K.src,le=ne[63].url)||A(K,"src",le),A(K,"alt",""),A(K,"loading","lazy")},m(je,ot){B(je,K,ot)},p(je,ot){ot[0]&32768&&!S(K.src,le=je[63].url)&&A(K,"src",le)},d(je){je&&w(K)}}}function et(ne){let K=ne[27](ne[63],ne[8])+"",le;return{c(){le=N(K)},m(je,ot){B(je,le,ot)},p(je,ot){ot[0]&33024&&K!==(K=je[27](je[63],je[8])+"")&&L(le,K)},d(je){je&&w(le)}}}function xt(ne,K){let le,je,ot,qe,Rt,jt,At;function ht(Dt,Pt){return Dt[63].unicode?et:Le}let Bt=ht(K),Lt=Bt(K);return{key:ne,first:null,c(){le=h("button"),Lt.c(),A(le,"role",je=K[4]?"option":"menuitem"),A(le,"aria-selected",ot=K[4]?K[65]==K[5]:""),A(le,"aria-label",qe=K[28](K[63],K[8])),A(le,"title",Rt=K[63].title),A(le,"class",jt="emoji "+(K[4]&&K[65]===K[5]?"active":"")),A(le,"id",At="emo-"+K[63].id),this.first=le},m(Dt,Pt){B(Dt,le,Pt),Lt.m(le,null)},p(Dt,Pt){K=Dt,Bt===(Bt=ht(K))&&Lt?Lt.p(K,Pt):(Lt.d(1),Lt=Bt(K),Lt&&(Lt.c(),Lt.m(le,null))),Pt[0]&16&&je!==(je=K[4]?"option":"menuitem")&&A(le,"role",je),Pt[0]&32816&&ot!==(ot=K[4]?K[65]==K[5]:"")&&A(le,"aria-selected",ot),Pt[0]&33024&&qe!==(qe=K[28](K[63],K[8]))&&A(le,"aria-label",qe),Pt[0]&32768&&Rt!==(Rt=K[63].title)&&A(le,"title",Rt),Pt[0]&32816&&jt!==(jt="emoji "+(K[4]&&K[65]===K[5]?"active":""))&&A(le,"class",jt),Pt[0]&32768&&At!==(At="emo-"+K[63].id)&&A(le,"id",At)},d(Dt){Dt&&w(le),Lt.d()}}}function ze(ne,K){let le,je=(K[4]?K[0].searchResultsLabel:K[66].category?K[66].category:K[15].length>1?K[0].categories.custom:K[0].categories[K[13].name])+"",ot,qe,Rt,jt,At=[],ht=new ce,Bt,Lt,Dt,Pt=K[66].emojis;const Yt=zt=>zt[63].id;for(let zt=0;zt<Pt.length;zt+=1){let pt=he(K,Pt,zt),Kt=Yt(pt);ht.set(Kt,At[zt]=xt(Kt,pt))}return{key:ne,first:null,c(){le=h("div"),ot=N(je),jt=h("div");for(let zt=0;zt<At.length;zt+=1)At[zt].c();A(le,"id",qe="menu-label-"+K[65]),A(le,"class",Rt="category "+(K[15].length===1&&K[15][0].category===""?"gone":"")),A(le,"aria-hidden","true"),A(jt,"class","emoji-menu"),A(jt,"role",Bt=K[4]?"listbox":"menu"),A(jt,"aria-labelledby",Lt="menu-label-"+K[65]),A(jt,"id",Dt=K[4]?"search-results":""),this.first=le},m(zt,pt){B(zt,le,pt),g(le,ot),B(zt,jt,pt);for(let Kt=0;Kt<At.length;Kt+=1)At[Kt].m(jt,null)},p(zt,pt){K=zt,pt[0]&40977&&je!==(je=(K[4]?K[0].searchResultsLabel:K[66].category?K[66].category:K[15].length>1?K[0].categories.custom:K[0].categories[K[13].name])+"")&&L(ot,je),pt[0]&32768&&qe!==(qe="menu-label-"+K[65])&&A(le,"id",qe),pt[0]&32768&&Rt!==(Rt="category "+(K[15].length===1&&K[15][0].category===""?"gone":""))&&A(le,"class",Rt),pt[0]&402686256&&(Pt=K[66].emojis,At=U(At,pt,Yt,1,K,Pt,ht,jt,R,xt,null,he)),pt[0]&16&&Bt!==(Bt=K[4]?"listbox":"menu")&&A(jt,"role",Bt),pt[0]&32768&&Lt!==(Lt="menu-label-"+K[65])&&A(jt,"aria-labelledby",Lt),pt[0]&16&&Dt!==(Dt=K[4]?"search-results":"")&&A(jt,"id",Dt)},d(zt){zt&&w(le),zt&&w(jt);for(let pt=0;pt<At.length;pt+=1)At[pt].d()}}}function Tt(ne){let K,le;return{c(){K=h("img"),A(K,"class","custom-emoji"),S(K.src,le=ne[63].url)||A(K,"src",le),A(K,"alt",""),A(K,"loading","lazy")},m(je,ot){B(je,K,ot)},p(je,ot){ot[0]&1024&&!S(K.src,le=je[63].url)&&A(K,"src",le)},d(je){je&&w(K)}}}function Be(ne){let K=ne[27](ne[63],ne[8])+"",le;return{c(){le=N(K)},m(je,ot){B(je,le,ot)},p(je,ot){ot[0]&1280&&K!==(K=je[27](je[63],je[8])+"")&&L(le,K)},d(je){je&&w(le)}}}function ge(ne,K){let le,je,ot,qe;function Rt(ht,Bt){return ht[63].unicode?Be:Tt}let jt=Rt(K),At=jt(K);return{key:ne,first:null,c(){le=h("button"),At.c(),A(le,"role","menuitem"),A(le,"aria-label",je=K[28](K[63],K[8])),A(le,"title",ot=K[63].title),A(le,"class","emoji"),A(le,"id",qe="fav-"+K[63].id),this.first=le},m(ht,Bt){B(ht,le,Bt),At.m(le,null)},p(ht,Bt){K=ht,jt===(jt=Rt(K))&&At?At.p(K,Bt):(At.d(1),At=jt(K),At&&(At.c(),At.m(le,null))),Bt[0]&1280&&je!==(je=K[28](K[63],K[8]))&&A(le,"aria-label",je),Bt[0]&1024&&ot!==(ot=K[63].title)&&A(le,"title",ot),Bt[0]&1024&&qe!==(qe="fav-"+K[63].id)&&A(le,"id",qe)},d(ht){ht&&w(le),At.d()}}}function Pe(ne){let K,le,je,ot,qe,Rt,jt,At,ht,Bt=ne[0].searchLabel+"",Lt,Dt,Pt=ne[0].searchDescription+"",Yt,zt,pt,Kt,er,Jt,rr,nr=ne[0].skinToneDescription+"",Ht,Ft,Ut=[],lr=new ce,fr,sr,Zt,cr,Wt,ar=[],ur=new ce,dr,$t,tr,_t,vr,pr,qt,yr,mr=[],Ur=new ce,Vr,jr,Ir,Cr,or,hr=[],Yr=new ce,Br,xr,br,Tr,Hr,Lr,Nr=ne[9];const Kr=nt=>nt[72];for(let nt=0;nt<Nr.length;nt+=1){let yt=ve(ne,Nr,nt),Ve=Kr(yt);lr.set(Ve,Ut[nt]=Ie(Ve,yt))}let Pr=ne[12];const Xr=nt=>nt[69].id;for(let nt=0;nt<Pr.length;nt+=1){let yt=be(ne,Pr,nt),Ve=Xr(yt);ur.set(Ve,ar[nt]=xe(Ve,yt))}let wr=ne[15];const Wr=nt=>nt[66].category;for(let nt=0;nt<wr.length;nt+=1){let yt=te(ne,wr,nt),Ve=Wr(yt);Ur.set(Ve,mr[nt]=ze(Ve,yt))}let Fr=ne[10];const Zr=nt=>nt[63].id;for(let nt=0;nt<Fr.length;nt+=1){let yt=pe(ne,Fr,nt),Ve=Zr(yt);Yr.set(Ve,hr[nt]=ge(Ve,yt))}return{c(){K=h("section"),le=h("div"),je=h("div"),ot=h("div"),qe=h("input"),ht=h("label"),Lt=N(Bt),Dt=h("span"),Yt=N(Pt),zt=h("div"),pt=h("button"),Kt=N(ne[21]),rr=h("span"),Ht=N(nr),Ft=h("div");for(let nt=0;nt<Ut.length;nt+=1)Ut[nt].c();Wt=h("div");for(let nt=0;nt<ar.length;nt+=1)ar[nt].c();$t=h("div"),tr=h("div"),_t=h("div"),vr=N(ne[18]),qt=h("div"),yr=h("div");for(let nt=0;nt<mr.length;nt+=1)mr[nt].c();or=h("div");for(let nt=0;nt<hr.length;nt+=1)hr[nt].c();br=h("button"),br.textContent="\u{1F600}",A(le,"class","pad-top"),A(qe,"id","search"),A(qe,"class","search"),A(qe,"type","search"),A(qe,"role","combobox"),A(qe,"enterkeyhint","search"),A(qe,"placeholder",Rt=ne[0].searchLabel),A(qe,"autocapitalize","none"),A(qe,"autocomplete","off"),A(qe,"spellcheck","true"),A(qe,"aria-expanded",jt=!!(ne[4]&&ne[1].length)),A(qe,"aria-controls","search-results"),A(qe,"aria-describedby","search-description"),A(qe,"aria-autocomplete","list"),A(qe,"aria-activedescendant",At=ne[26]?`emo-${ne[26]}`:""),A(ht,"class","sr-only"),A(ht,"for","search"),A(Dt,"id","search-description"),A(Dt,"class","sr-only"),A(ot,"class","search-wrapper"),A(pt,"id","skintone-button"),A(pt,"class",er="emoji "+(ne[6]?"hide-focus":"")),A(pt,"aria-label",ne[23]),A(pt,"title",ne[23]),A(pt,"aria-describedby","skintone-description"),A(pt,"aria-haspopup","listbox"),A(pt,"aria-expanded",ne[6]),A(pt,"aria-controls","skintone-list"),A(zt,"class",Jt="skintone-button-wrapper "+(ne[19]?"expanded":"")),A(rr,"id","skintone-description"),A(rr,"class","sr-only"),A(Ft,"id","skintone-list"),A(Ft,"class",fr="skintone-list "+(ne[6]?"":"hidden no-animate")),a(Ft,"transform","translateY("+(ne[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),A(Ft,"role","listbox"),A(Ft,"aria-label",sr=ne[0].skinTonesLabel),A(Ft,"aria-activedescendant",Zt="skintone-"+ne[20]),A(Ft,"aria-hidden",cr=!ne[6]),A(je,"class","search-row"),A(Wt,"class","nav"),A(Wt,"role","tablist"),a(Wt,"grid-template-columns","repeat("+ne[12].length+", 1fr)"),A(Wt,"aria-label",dr=ne[0].categoriesLabel),A(tr,"class","indicator"),a(tr,"transform","translateX("+(ne[24]?-1:1)*ne[11]*100+"%)"),A($t,"class","indicator-wrapper"),A(_t,"class",pr="message "+(ne[18]?"":"gone")),A(_t,"role","alert"),A(_t,"aria-live","polite"),A(qt,"class",Vr="tabpanel "+(!ne[14]||ne[18]?"gone":"")),A(qt,"role",jr=ne[4]?"region":"tabpanel"),A(qt,"aria-label",Ir=ne[4]?ne[0].searchResultsLabel:ne[0].categories[ne[13].name]),A(qt,"id",Cr=ne[4]?"":`tab-${ne[13].id}`),A(qt,"tabindex","0"),A(or,"class",Br="favorites emoji-menu "+(ne[18]?"gone":"")),A(or,"role","menu"),A(or,"aria-label",xr=ne[0].favoritesLabel),a(or,"padding-inline-end",ne[25]+"px"),A(br,"aria-hidden","true"),A(br,"tabindex","-1"),A(br,"class","abs-pos hidden emoji"),A(K,"class","picker"),A(K,"aria-label",Tr=ne[0].regionLabel),A(K,"style",ne[22])},m(nt,yt){B(nt,K,yt),g(K,le),g(K,je),g(je,ot),g(ot,qe),D(qe,ne[2]),g(ot,ht),g(ht,Lt),g(ot,Dt),g(Dt,Yt),g(je,zt),g(zt,pt),g(pt,Kt),g(je,rr),g(rr,Ht),g(je,Ft);for(let Ve=0;Ve<Ut.length;Ve+=1)Ut[Ve].m(Ft,null);ne[48](Ft),g(K,Wt);for(let Ve=0;Ve<ar.length;Ve+=1)ar[Ve].m(Wt,null);g(K,$t),g($t,tr),g(K,_t),g(_t,vr),g(K,qt),g(qt,yr);for(let Ve=0;Ve<mr.length;Ve+=1)mr[Ve].m(yr,null);ne[50](qt),g(K,or);for(let Ve=0;Ve<hr.length;Ve+=1)hr[Ve].m(or,null);g(K,br),ne[51](br),ne[52](K),Hr||(Lr=[Y(qe,"input",ne[47]),Y(qe,"keydown",ne[30]),Y(pt,"click",ne[35]),Y(Ft,"focusout",ne[38]),Y(Ft,"click",ne[34]),Y(Ft,"keydown",ne[36]),Y(Ft,"keyup",ne[37]),Y(Wt,"keydown",ne[32]),b(ne[29].call(null,yr)),Y(qt,"click",ne[33]),Y(or,"click",ne[33])],Hr=!0)},p(nt,yt){yt[0]&1&&Rt!==(Rt=nt[0].searchLabel)&&A(qe,"placeholder",Rt),yt[0]&18&&jt!==(jt=!!(nt[4]&&nt[1].length))&&A(qe,"aria-expanded",jt),yt[0]&67108864&&At!==(At=nt[26]?`emo-${nt[26]}`:"")&&A(qe,"aria-activedescendant",At),yt[0]&4&&D(qe,nt[2]),yt[0]&1&&Bt!==(Bt=nt[0].searchLabel+"")&&L(Lt,Bt),yt[0]&1&&Pt!==(Pt=nt[0].searchDescription+"")&&L(Yt,Pt),yt[0]&2097152&&L(Kt,nt[21]),yt[0]&64&&er!==(er="emoji "+(nt[6]?"hide-focus":""))&&A(pt,"class",er),yt[0]&8388608&&A(pt,"aria-label",nt[23]),yt[0]&8388608&&A(pt,"title",nt[23]),yt[0]&64&&A(pt,"aria-expanded",nt[6]),yt[0]&524288&&Jt!==(Jt="skintone-button-wrapper "+(nt[19]?"expanded":""))&&A(zt,"class",Jt),yt[0]&1&&nr!==(nr=nt[0].skinToneDescription+"")&&L(Ht,nr),yt[0]&1049089&&(Nr=nt[9],Ut=U(Ut,yt,Kr,1,nt,Nr,lr,Ft,R,Ie,null,ve)),yt[0]&64&&fr!==(fr="skintone-list "+(nt[6]?"":"hidden no-animate"))&&A(Ft,"class",fr),yt[0]&64&&a(Ft,"transform","translateY("+(nt[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),yt[0]&1&&sr!==(sr=nt[0].skinTonesLabel)&&A(Ft,"aria-label",sr),yt[0]&1048576&&Zt!==(Zt="skintone-"+nt[20])&&A(Ft,"aria-activedescendant",Zt),yt[0]&64&&cr!==(cr=!nt[6])&&A(Ft,"aria-hidden",cr),yt[0]&12305|yt[1]&1&&(Pr=nt[12],ar=U(ar,yt,Xr,1,nt,Pr,ur,Wt,R,xe,null,be)),yt[0]&4096&&a(Wt,"grid-template-columns","repeat("+nt[12].length+", 1fr)"),yt[0]&1&&dr!==(dr=nt[0].categoriesLabel)&&A(Wt,"aria-label",dr),yt[0]&16779264&&a(tr,"transform","translateX("+(nt[24]?-1:1)*nt[11]*100+"%)"),yt[0]&262144&&L(vr,nt[18]),yt[0]&262144&&pr!==(pr="message "+(nt[18]?"":"gone"))&&A(_t,"class",pr),yt[0]&402694449&&(wr=nt[15],mr=U(mr,yt,Wr,1,nt,wr,Ur,yr,R,ze,null,te)),yt[0]&278528&&Vr!==(Vr="tabpanel "+(!nt[14]||nt[18]?"gone":""))&&A(qt,"class",Vr),yt[0]&16&&jr!==(jr=nt[4]?"region":"tabpanel")&&A(qt,"role",jr),yt[0]&8209&&Ir!==(Ir=nt[4]?nt[0].searchResultsLabel:nt[0].categories[nt[13].name])&&A(qt,"aria-label",Ir),yt[0]&8208&&Cr!==(Cr=nt[4]?"":`tab-${nt[13].id}`)&&A(qt,"id",Cr),yt[0]&402654464&&(Fr=nt[10],hr=U(hr,yt,Zr,1,nt,Fr,Yr,or,R,ge,null,pe)),yt[0]&262144&&Br!==(Br="favorites emoji-menu "+(nt[18]?"gone":""))&&A(or,"class",Br),yt[0]&1&&xr!==(xr=nt[0].favoritesLabel)&&A(or,"aria-label",xr),yt[0]&33554432&&a(or,"padding-inline-end",nt[25]+"px"),yt[0]&1&&Tr!==(Tr=nt[0].regionLabel)&&A(K,"aria-label",Tr),yt[0]&4194304&&A(K,"style",nt[22])},i:s,o:s,d(nt){nt&&w(K);for(let yt=0;yt<Ut.length;yt+=1)Ut[yt].d();ne[48](null);for(let yt=0;yt<ar.length;yt+=1)ar[yt].d();for(let yt=0;yt<mr.length;yt+=1)mr[yt].d();ne[50](null);for(let yt=0;yt<hr.length;yt+=1)hr[yt].d();ne[51](null),ne[52](null),Hr=!1,d(Lr)}}}function de(ne,K,le){let{skinToneEmoji:je}=K,{i18n:ot}=K,{database:qe}=K,{customEmoji:Rt}=K,{customCategorySorting:jt}=K,At=!0,ht=[],Bt=[],Lt="",Dt="",Pt,Yt,zt,pt=!1,Kt=-1,er,Jt=!1,rr=!1,nr,Ht=0,Ft=0,Ut,lr,fr="",sr=[],Zt=[],cr,Wt=Te,ar=!1,ur=0,dr=0,$t=Ae,tr,_t=!1,vr;const pr=Ve=>{Pt.getRootNode().getElementById(Ve).focus()},qt=(Ve,It)=>{Pt.dispatchEvent(new CustomEvent(Ve,{detail:It,bubbles:!0,composed:!0}))},yr=(Ve,It)=>It&&Ve.skins&&Ve.skins[It]||Ve.unicode,mr=(Ve,It)=>ie([Ve.name||yr(Ve,It),...Ve.shortcodes||[]]).join(", "),Ur=Ve=>/^skintone-/.test(Ve.id);Et.then(Ve=>{Ve||le(18,er=ot.emojiUnsupportedMessage)});function Vr(Ve){return Re(Ve,It=>{{const kt=getComputedStyle(Pt),Qt=parseInt(kt.getPropertyValue("--num-columns"),10),gr=kt.getPropertyValue("direction")==="rtl",Jr=Ve.parentElement.getBoundingClientRect().width-It;le(46,Wt=Qt),le(25,ur=Jr),le(24,ar=gr)}})}function jr(Ve){const It=Pt.getRootNode();W(Ve,Yt,Qt=>It.getElementById(`emo-${Qt.id}`)),le(1,ht=ht)}function Ir(Ve){return!Ve.unicode||!Mt(Ve)||$e.get(Ve.unicode)}async function Cr(Ve){const It=await Et;return Ve.filter(({version:kt})=>!kt||kt<=It)}async function or(Ve){return wt(Ve,await Et)}async function hr(Ve){if(typeof Ve=="undefined")return[];const It=Ve===-1?Rt:await qe.getEmojiByGroup(Ve);return or(await Cr(It))}async function Yr(Ve){return or(await Cr(await qe.getEmojiBySearchQuery(Ve)))}function Br(Ve){if(!pt||!ht.length)return;const It=kt=>{ut(Ve),le(5,Kt=gt(kt,Kt,ht))};switch(Ve.key){case"ArrowDown":return It(!1);case"ArrowUp":return It(!0);case"Enter":if(Kt!==-1)return ut(Ve),Tr(ht[Kt].id);ht.length&&le(5,Kt=0)}}function xr(Ve){le(2,Lt=""),le(44,Dt=""),le(5,Kt=-1),le(11,dr=$t.findIndex(It=>It.id===Ve.id))}function br(Ve){const{target:It,key:kt}=Ve,Qt=gr=>{gr&&(ut(Ve),gr.focus())};switch(kt){case"ArrowLeft":return Qt(It.previousSibling);case"ArrowRight":return Qt(It.nextSibling);case"Home":return Qt(It.parentElement.firstChild);case"End":return Qt(It.parentElement.lastChild)}}async function Tr(Ve){const It=await qe.getEmojiByUnicodeOrName(Ve),kt=[...ht,...Zt].find(gr=>gr.id===Ve),Qt=kt.unicode&&yr(kt,Ht);await qe.incrementFavoriteEmojiCount(Ve),qt("emoji-click",Sr(Sr({emoji:It,skinTone:Ht},Qt&&{unicode:Qt}),kt.name&&{name:kt.name}))}async function Hr(Ve){const{target:It}=Ve;if(!It.classList.contains("emoji"))return;ut(Ve);const kt=It.id.substring(4);Tr(kt)}async function Lr(Ve){const{target:It}=Ve;if(!Ur(It))return;ut(Ve);const kt=parseInt(It.id.slice(9),10);le(8,Ht=kt),le(6,Jt=!1),pr("skintone-button"),qt("skin-tone-change",{skinTone:kt}),qe.setPreferredSkinTone(kt)}async function Nr(Ve){le(6,Jt=!Jt),le(20,Ft=Ht),Jt&&(ut(Ve),Se(()=>pr(`skintone-${Ft}`)))}function Kr(Ve){if(!Jt)return;const It=async kt=>{ut(Ve),le(20,Ft=kt),await Q(),pr(`skintone-${Ft}`)};switch(Ve.key){case"ArrowUp":return It(gt(!0,Ft,sr));case"ArrowDown":return It(gt(!1,Ft,sr));case"Home":return It(0);case"End":return It(sr.length-1);case"Enter":return Lr(Ve);case"Escape":return ut(Ve),le(6,Jt=!1),pr("skintone-button")}}function Pr(Ve){if(!!Jt)switch(Ve.key){case" ":return Lr(Ve)}}async function Xr(Ve){const{relatedTarget:It}=Ve;(!It||!Ur(It))&&le(6,Jt=!1)}function wr(){Lt=this.value,le(2,Lt)}function Wr(Ve){ee[Ve?"unshift":"push"](()=>{nr=Ve,le(7,nr)})}const Fr=Ve=>xr(Ve);function Zr(Ve){ee[Ve?"unshift":"push"](()=>{zt=Ve,le(3,zt)})}function nt(Ve){ee[Ve?"unshift":"push"](()=>{Yt=Ve,le(17,Yt)})}function yt(Ve){ee[Ve?"unshift":"push"](()=>{Pt=Ve,le(16,Pt)})}return ne.$$set=Ve=>{"skinToneEmoji"in Ve&&le(40,je=Ve.skinToneEmoji),"i18n"in Ve&&le(0,ot=Ve.i18n),"database"in Ve&&le(39,qe=Ve.database),"customEmoji"in Ve&&le(41,Rt=Ve.customEmoji),"customCategorySorting"in Ve&&le(42,jt=Ve.customCategorySorting)},ne.$$.update=()=>{if(ne.$$.dirty[1]&1280&&Rt&&qe&&le(39,qe.customEmoji=Rt,qe),ne.$$.dirty[0]&1|ne.$$.dirty[1]&256){async function Ve(){let It=!1;const kt=setTimeout(()=>{It=!0,le(18,er=ot.loadingMessage)},X);try{await qe.ready(),le(14,_t=!0)}catch(Qt){console.error(Qt),le(18,er=ot.networkErrorMessage)}finally{clearTimeout(kt),It&&(It=!1,le(18,er=""))}}qe&&Ve()}if(ne.$$.dirty[0]&4096|ne.$$.dirty[1]&1024&&(Rt&&Rt.length?le(12,$t=[Me,...Ae]):$t!==Ae&&le(12,$t=Ae)),ne.$$.dirty[0]&4&&lt(()=>{le(44,Dt=(Lt||"").trim()),le(5,Kt=-1)}),ne.$$.dirty[0]&6144&&le(13,tr=$t[dr]),ne.$$.dirty[0]&24576|ne.$$.dirty[1]&8192){async function Ve(){if(!_t)le(1,ht=[]),le(4,pt=!1);else if(Dt.length>=Ce){const It=Dt,kt=await Yr(It);It===Dt&&(le(1,ht=kt),le(4,pt=!0))}else if(tr){const It=tr.id,kt=await hr(It);It===tr.id&&(le(1,ht=kt),le(4,pt=!1))}}Ve()}if(ne.$$.dirty[0]&4112&&le(22,lr=`
  --font-family: ${Ge};
  --num-groups: ${$t.length}; 
  --indicator-opacity: ${pt?0:1}; 
  --num-skintones: ${He};`),ne.$$.dirty[0]&16384|ne.$$.dirty[1]&256){async function Ve(){_t&&le(8,Ht=await qe.getPreferredSkinTone())}Ve()}if(ne.$$.dirty[1]&512&&le(9,sr=Array(He).fill().map((Ve,It)=>it(je,It))),ne.$$.dirty[0]&768&&le(21,Ut=sr[Ht]),ne.$$.dirty[0]&257&&le(23,fr=ot.skinToneLabel.replace("{skinTone}",ot.skinTones[Ht])),ne.$$.dirty[0]&16384|ne.$$.dirty[1]&256){async function Ve(){le(45,cr=(await Promise.all(Fe.map(It=>qe.getEmojiByUnicodeOrName(It)))).filter(Boolean))}_t&&Ve()}if(ne.$$.dirty[0]&16384|ne.$$.dirty[1]&49408){async function Ve(){const It=await qe.getTopFavoriteEmoji(Wt),kt=await or(Ot([...It,...cr],Qt=>Qt.unicode||Qt.name).slice(0,Wt));le(10,Zt=kt)}_t&&cr&&Ve()}if(ne.$$.dirty[0]&10){const Ve=ht.filter(It=>It.unicode).filter(It=>Mt(It)&&!$e.has(It.unicode));Ve.length?Se(()=>jr(Ve)):(le(1,ht=ht.filter(Ir)),Se(()=>{(zt||{}).scrollTop=0}))}ne.$$.dirty[0]&1026|ne.$$.dirty[1]&4096,ne.$$.dirty[0]&18|ne.$$.dirty[1]&2048&&le(15,Bt=function(){if(pt)return[{category:"",emojis:ht}];const It=new Map;for(const kt of ht){const Qt=kt.category||"";let gr=It.get(Qt);gr||(gr=[],It.set(Qt,gr)),gr.push(kt)}return[...It.entries()].map(([kt,Qt])=>({category:kt,emojis:Qt})).sort((kt,Qt)=>jt(kt.category,Qt.category))}()),ne.$$.dirty[0]&34&&le(26,vr=Kt!==-1&&ht[Kt].id),ne.$$.dirty[0]&192&&(Jt?nr.addEventListener("transitionend",()=>{le(19,rr=!0)},{once:!0}):le(19,rr=!1))},[ot,ht,Lt,zt,pt,Kt,Jt,nr,Ht,sr,Zt,dr,$t,tr,_t,Bt,Pt,Yt,er,rr,Ft,Ut,lr,fr,ar,ur,vr,yr,mr,Vr,Br,xr,br,Hr,Lr,Nr,Kr,Pr,Xr,qe,je,Rt,jt,At,Dt,cr,Wt,wr,Wr,Fr,Zr,nt,yt]}class fe extends se{constructor(K){super(),$(this,K,de,Pe,E,{skinToneEmoji:40,i18n:0,database:39,customEmoji:41,customCategorySorting:42},null,[-1,-1,-1])}}const ye="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",Je="en";var dt={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const Qe=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji"];class St extends HTMLElement{constructor(K){super(),this.attachShadow({mode:"open"});const le=document.createElement("style");le.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}",this.shadowRoot.appendChild(le),this._ctx=Sr({locale:Je,dataSource:ye,skinToneEmoji:Ne,customCategorySorting:_e,customEmoji:null,i18n:dt},K);for(const je of Qe)je!=="database"&&Object.prototype.hasOwnProperty.call(this,je)&&(this._ctx[je]=this[je],delete this[je]);this._dbFlush()}connectedCallback(){this._cmp=new fe({target:this.shadowRoot,props:this._ctx})}disconnectedCallback(){this._cmp.$destroy(),this._cmp=void 0;const{database:K}=this._ctx;K&&K.close().catch(le=>console.error(le))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(K,le,je){this._set(K.replace(/-([a-z])/g,(ot,qe)=>qe.toUpperCase()),je)}_set(K,le){this._ctx[K]=le,this._cmp&&this._cmp.$set({[K]:le}),["locale","dataSource"].includes(K)&&this._dbFlush()}_dbCreate(){const{locale:K,dataSource:le,database:je}=this._ctx;(!je||je.locale!==K||je.dataSource!==le)&&this._set("database",new n.a({locale:K,dataSource:le}))}_dbFlush(){Promise.resolve().then(()=>this._dbCreate())}}const Ct={};for(const ne of Qe)Ct[ne]={get(){return ne==="database"&&this._dbCreate(),this._ctx[ne]},set(K){if(ne==="database")throw new Error("database is read-only");this._set(ne,K)}};Object.defineProperties(St.prototype,Ct),customElements.get("emoji-picker")||customElements.define("emoji-picker",St)}).call(this,t("c8ba"))},"8875":function(m,T,t){var r,n,s;(function(e,f){n=[],r=f,s=typeof r=="function"?r.apply(T,n):r,s!==void 0&&(m.exports=s)})(typeof self!="undefined"?self:this,function(){function e(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(N){var d=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,v=/@([^@]*):(\d+):(\d+)\s*$/ig,E=d.exec(N.stack)||v.exec(N.stack),y=E&&E[1]||!1,S=E&&E[2]||!1,O=document.location.href.replace(document.location.hash,""),b,g,B,w=document.getElementsByTagName("script");y===O&&(b=document.documentElement.outerHTML,g=new RegExp("(?:[^\\n]+?\\n){0,"+(S-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),B=b.replace(g,"$1").trim());for(var h=0;h<w.length;h++)if(w[h].readyState==="interactive"||w[h].src===y||y===O&&w[h].innerHTML&&w[h].innerHTML.trim()===B)return w[h];return null}}return e})},"8925":function(m,T,t){var r=t("e330"),n=t("1626"),s=t("c6cd"),e=r(Function.toString);n(s.inspectSource)||(s.inspectSource=function(f){return e(f)}),m.exports=s.inspectSource},"8aa5":function(m,T,t){var r=t("6547").charAt;m.exports=function(n,s,e){return s+(e?r(n,s).length:1)}},"8aa7":function(m,T,t){var r=t("da84"),n=t("d039"),s=t("1c7e"),e=t("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,f=r.ArrayBuffer,d=r.Int8Array;m.exports=!e||!n(function(){d(1)})||!n(function(){new d(-1)})||!s(function(v){new d,new d(null),new d(1.5),new d(v)},!0)||n(function(){return new d(new f(2),1,void 0).length!==1})},"8b09":function(m,T,t){var r=t("74e8");r("Int16",function(n){return function(e,f,d){return n(this,e,f,d)}})},"8bbf":function(m,T){m.exports=Z0},"8cba":function(m,T){function t(){var r="http://www.mp3dev.org/",n=3,s=98,e=4,f=0,d=93;this.getLameVersion=function(){return n+"."+s+"."+e},this.getLameShortVersion=function(){return n+"."+s+"."+e},this.getLameVeryShortVersion=function(){return"LAME"+n+"."+s+"r"},this.getPsyVersion=function(){return f+"."+d},this.getLameUrl=function(){return r},this.getLameOsBitness=function(){return"32bits"}}m.exports=t},"907a":function(m,T,t){var r=t("ebb5"),n=t("07fa"),s=t("5926"),e=r.aTypedArray,f=r.exportTypedArrayMethod;f("at",function(v){var E=e(this),y=n(E),S=s(v),O=S>=0?S:y+S;return O<0||O>=y?void 0:E[O]})},"90e3":function(m,T,t){var r=t("e330"),n=0,s=Math.random(),e=r(1 .toString);m.exports=function(f){return"Symbol("+(f===void 0?"":f)+")_"+e(++n+s,36)}},"9112":function(m,T,t){var r=t("83ab"),n=t("9bf2"),s=t("5c6c");m.exports=r?function(e,f,d){return n.f(e,f,s(1,d))}:function(e,f,d){return e[f]=d,e}},"9138":function(m,T,t){},"9263":function(m,T,t){var r=t("c65b"),n=t("e330"),s=t("577e"),e=t("ad6d"),f=t("9f7f"),d=t("5692"),v=t("7c73"),E=t("69f3").get,y=t("fce3"),S=t("107c"),O=d("native-string-replace",String.prototype.replace),b=RegExp.prototype.exec,g=b,B=n("".charAt),w=n("".indexOf),h=n("".replace),N=n("".slice),Y=function(){var a=/a/,F=/b*/g;return r(b,a,"a"),r(b,F,"a"),a.lastIndex!==0||F.lastIndex!==0}(),A=f.BROKEN_CARET,L=/()??/.exec("")[1]!==void 0,D=Y||L||A||y||S;D&&(g=function(F){var k=this,_=E(k),ee=s(F),q=_.raw,re,Oe,ue,x,Q,p,j;if(q)return q.lastIndex=k.lastIndex,re=r(g,q,ee),k.lastIndex=q.lastIndex,re;var H=_.groups,Z=A&&k.sticky,P=r(e,k),o=k.source,u=0,c=ee;if(Z&&(P=h(P,"y",""),w(P,"g")===-1&&(P+="g"),c=N(ee,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&B(ee,k.lastIndex-1)!==`
`)&&(o="(?: "+o+")",c=" "+c,u++),Oe=new RegExp("^(?:"+o+")",P)),L&&(Oe=new RegExp("^"+o+"$(?!\\s)",P)),Y&&(ue=k.lastIndex),x=r(b,Z?Oe:k,c),Z?x?(x.input=N(x.input,u),x[0]=N(x[0],u),x.index=k.lastIndex,k.lastIndex+=x[0].length):k.lastIndex=0:Y&&x&&(k.lastIndex=k.global?x.index+x[0].length:ue),L&&x&&x.length>1&&r(O,x[0],Oe,function(){for(Q=1;Q<arguments.length-2;Q++)arguments[Q]===void 0&&(x[Q]=void 0)}),x&&H)for(x.groups=p=v(null),Q=0;Q<H.length;Q++)j=H[Q],p[j[0]]=x[j[1]];return x}),m.exports=g},"947f":function(m,T,t){var r=t("67b2");function n(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=r.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}m.exports=n},"94ca":function(m,T,t){var r=t("d039"),n=t("1626"),s=/#|\.prototype\./,e=function(y,S){var O=d[f(y)];return O==E?!0:O==v?!1:n(S)?r(S):!!S},f=e.normalize=function(y){return String(y).replace(s,".").toLowerCase()},d=e.data={},v=e.NATIVE="N",E=e.POLYFILL="P";m.exports=e},"96cf":function(m,T,t){var r=function(n){var s=Object.prototype,e=s.hasOwnProperty,f,d=typeof Symbol=="function"?Symbol:{},v=d.iterator||"@@iterator",E=d.asyncIterator||"@@asyncIterator",y=d.toStringTag||"@@toStringTag";function S(j,H,Z){return Object.defineProperty(j,H,{value:Z,enumerable:!0,configurable:!0,writable:!0}),j[H]}try{S({},"")}catch{S=function(H,Z,P){return H[Z]=P}}function O(j,H,Z,P){var o=H&&H.prototype instanceof Y?H:Y,u=Object.create(o.prototype),c=new x(P||[]);return u._invoke=q(j,Z,c),u}n.wrap=O;function b(j,H,Z){try{return{type:"normal",arg:j.call(H,Z)}}catch(P){return{type:"throw",arg:P}}}var g="suspendedStart",B="suspendedYield",w="executing",h="completed",N={};function Y(){}function A(){}function L(){}var D={};S(D,v,function(){return this});var a=Object.getPrototypeOf,F=a&&a(a(Q([])));F&&F!==s&&e.call(F,v)&&(D=F);var k=L.prototype=Y.prototype=Object.create(D);A.prototype=L,S(k,"constructor",L),S(L,"constructor",A),A.displayName=S(L,y,"GeneratorFunction");function _(j){["next","throw","return"].forEach(function(H){S(j,H,function(Z){return this._invoke(H,Z)})})}n.isGeneratorFunction=function(j){var H=typeof j=="function"&&j.constructor;return H?H===A||(H.displayName||H.name)==="GeneratorFunction":!1},n.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,L):(j.__proto__=L,S(j,y,"GeneratorFunction")),j.prototype=Object.create(k),j},n.awrap=function(j){return{__await:j}};function ee(j,H){function Z(u,c,R,U){var C=b(j[u],j,c);if(C.type==="throw")U(C.arg);else{var z=C.arg,V=z.value;return V&&typeof V=="object"&&e.call(V,"__await")?H.resolve(V.__await).then(function($){Z("next",$,R,U)},function($){Z("throw",$,R,U)}):H.resolve(V).then(function($){z.value=$,R(z)},function($){return Z("throw",$,R,U)})}}var P;function o(u,c){function R(){return new H(function(U,C){Z(u,c,U,C)})}return P=P?P.then(R,R):R()}this._invoke=o}_(ee.prototype),S(ee.prototype,E,function(){return this}),n.AsyncIterator=ee,n.async=function(j,H,Z,P,o){o===void 0&&(o=Promise);var u=new ee(O(j,H,Z,P),o);return n.isGeneratorFunction(H)?u:u.next().then(function(c){return c.done?c.value:u.next()})};function q(j,H,Z){var P=g;return function(u,c){if(P===w)throw new Error("Generator is already running");if(P===h){if(u==="throw")throw c;return p()}for(Z.method=u,Z.arg=c;;){var R=Z.delegate;if(R){var U=re(R,Z);if(U){if(U===N)continue;return U}}if(Z.method==="next")Z.sent=Z._sent=Z.arg;else if(Z.method==="throw"){if(P===g)throw P=h,Z.arg;Z.dispatchException(Z.arg)}else Z.method==="return"&&Z.abrupt("return",Z.arg);P=w;var C=b(j,H,Z);if(C.type==="normal"){if(P=Z.done?h:B,C.arg===N)continue;return{value:C.arg,done:Z.done}}else C.type==="throw"&&(P=h,Z.method="throw",Z.arg=C.arg)}}}function re(j,H){var Z=j.iterator[H.method];if(Z===f){if(H.delegate=null,H.method==="throw"){if(j.iterator.return&&(H.method="return",H.arg=f,re(j,H),H.method==="throw"))return N;H.method="throw",H.arg=new TypeError("The iterator does not provide a 'throw' method")}return N}var P=b(Z,j.iterator,H.arg);if(P.type==="throw")return H.method="throw",H.arg=P.arg,H.delegate=null,N;var o=P.arg;if(!o)return H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,N;if(o.done)H[j.resultName]=o.value,H.next=j.nextLoc,H.method!=="return"&&(H.method="next",H.arg=f);else return o;return H.delegate=null,N}_(k),S(k,y,"Generator"),S(k,v,function(){return this}),S(k,"toString",function(){return"[object Generator]"});function Oe(j){var H={tryLoc:j[0]};1 in j&&(H.catchLoc=j[1]),2 in j&&(H.finallyLoc=j[2],H.afterLoc=j[3]),this.tryEntries.push(H)}function ue(j){var H=j.completion||{};H.type="normal",delete H.arg,j.completion=H}function x(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(Oe,this),this.reset(!0)}n.keys=function(j){var H=[];for(var Z in j)H.push(Z);return H.reverse(),function P(){for(;H.length;){var o=H.pop();if(o in j)return P.value=o,P.done=!1,P}return P.done=!0,P}};function Q(j){if(j){var H=j[v];if(H)return H.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var Z=-1,P=function o(){for(;++Z<j.length;)if(e.call(j,Z))return o.value=j[Z],o.done=!1,o;return o.value=f,o.done=!0,o};return P.next=P}}return{next:p}}n.values=Q;function p(){return{value:f,done:!0}}return x.prototype={constructor:x,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(ue),!j)for(var H in this)H.charAt(0)==="t"&&e.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=f)},stop:function(){this.done=!0;var j=this.tryEntries[0],H=j.completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var H=this;function Z(U,C){return u.type="throw",u.arg=j,H.next=U,C&&(H.method="next",H.arg=f),!!C}for(var P=this.tryEntries.length-1;P>=0;--P){var o=this.tryEntries[P],u=o.completion;if(o.tryLoc==="root")return Z("end");if(o.tryLoc<=this.prev){var c=e.call(o,"catchLoc"),R=e.call(o,"finallyLoc");if(c&&R){if(this.prev<o.catchLoc)return Z(o.catchLoc,!0);if(this.prev<o.finallyLoc)return Z(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return Z(o.catchLoc,!0)}else if(R){if(this.prev<o.finallyLoc)return Z(o.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,H){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var P=this.tryEntries[Z];if(P.tryLoc<=this.prev&&e.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var o=P;break}}o&&(j==="break"||j==="continue")&&o.tryLoc<=H&&H<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=j,u.arg=H,o?(this.method="next",this.next=o.finallyLoc,N):this.complete(u)},complete:function(j,H){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&H&&(this.next=H),N},finish:function(j){for(var H=this.tryEntries.length-1;H>=0;--H){var Z=this.tryEntries[H];if(Z.finallyLoc===j)return this.complete(Z.completion,Z.afterLoc),ue(Z),N}},catch:function(j){for(var H=this.tryEntries.length-1;H>=0;--H){var Z=this.tryEntries[H];if(Z.tryLoc===j){var P=Z.completion;if(P.type==="throw"){var o=P.arg;ue(Z)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(j,H,Z){return this.delegate={iterator:Q(j),resultName:H,nextLoc:Z},this.method==="next"&&(this.arg=f),N}},n}(m.exports);try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},"9828":function(m,T,t){var r=t("4b5e"),n={};n.SFBMAX=r.SBMAX_s*3,m.exports=n},"9861":function(m,T,t){t("e260");var r=t("23e7"),n=t("da84"),s=t("d066"),e=t("c65b"),f=t("e330"),d=t("0d3b"),v=t("6eeb"),E=t("e2cc"),y=t("d44e"),S=t("9ed3"),O=t("69f3"),b=t("19aa"),g=t("1626"),B=t("1a2d"),w=t("0366"),h=t("f5df"),N=t("825a"),Y=t("861d"),A=t("577e"),L=t("7c73"),D=t("5c6c"),a=t("9a1f"),F=t("35a1"),k=t("d6d6"),_=t("b622"),ee=t("addb"),q=_("iterator"),re="URLSearchParams",Oe=re+"Iterator",ue=O.set,x=O.getterFor(re),Q=O.getterFor(Oe),p=s("fetch"),j=s("Request"),H=s("Headers"),Z=j&&j.prototype,P=H&&H.prototype,o=n.RegExp,u=n.TypeError,c=n.decodeURIComponent,R=n.encodeURIComponent,U=f("".charAt),C=f([].join),z=f([].push),V=f("".replace),$=f([].shift),se=f([].splice),Ee=f("".split),Ae=f("".slice),Me=/\+/g,Ce=Array(4),He=function($e){return Ce[$e-1]||(Ce[$e-1]=o("((?:%[\\da-f]{2}){"+$e+"})","gi"))},lt=function($e){try{return c($e)}catch{return $e}},Mt=function($e){var tt=V($e,Me," "),Ze=4;try{return c(tt)}catch{for(;Ze;)tt=V(tt,He(Ze--),lt);return tt}},I=/[!'()~]|%20/g,X={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ne=function($e){return X[$e]},Te=function($e){return V(R($e),I,Ne)},Fe=S(function(tt,Ze){ue(this,{type:Oe,iterator:a(x(tt).entries),kind:Ze})},"Iterator",function(){var tt=Q(this),Ze=tt.kind,rt=tt.iterator.next(),at=rt.value;return rt.done||(rt.value=Ze==="keys"?at.key:Ze==="values"?at.value:[at.key,at.value]),rt},!0),Ge=function($e){this.entries=[],this.url=null,$e!==void 0&&(Y($e)?this.parseObject($e):this.parseQuery(typeof $e=="string"?U($e,0)==="?"?Ae($e,1):$e:A($e)))};Ge.prototype={type:re,bindURL:function($e){this.url=$e,this.update()},parseObject:function($e){var tt=F($e),Ze,rt,at,we,it,ut,gt;if(tt)for(Ze=a($e,tt),rt=Ze.next;!(at=e(rt,Ze)).done;){if(we=a(N(at.value)),it=we.next,(ut=e(it,we)).done||(gt=e(it,we)).done||!e(it,we).done)throw u("Expected sequence with length 2");z(this.entries,{key:A(ut.value),value:A(gt.value)})}else for(var Ot in $e)B($e,Ot)&&z(this.entries,{key:Ot,value:A($e[Ot])})},parseQuery:function($e){if($e)for(var tt=Ee($e,"&"),Ze=0,rt,at;Ze<tt.length;)rt=tt[Ze++],rt.length&&(at=Ee(rt,"="),z(this.entries,{key:Mt($(at)),value:Mt(C(at,"="))}))},serialize:function(){for(var $e=this.entries,tt=[],Ze=0,rt;Ze<$e.length;)rt=$e[Ze++],z(tt,Te(rt.key)+"="+Te(rt.value));return C(tt,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var _e=function(){b(this,We);var tt=arguments.length>0?arguments[0]:void 0;ue(this,new Ge(tt))},We=_e.prototype;if(E(We,{append:function(tt,Ze){k(arguments.length,2);var rt=x(this);z(rt.entries,{key:A(tt),value:A(Ze)}),rt.updateURL()},delete:function($e){k(arguments.length,1);for(var tt=x(this),Ze=tt.entries,rt=A($e),at=0;at<Ze.length;)Ze[at].key===rt?se(Ze,at,1):at++;tt.updateURL()},get:function(tt){k(arguments.length,1);for(var Ze=x(this).entries,rt=A(tt),at=0;at<Ze.length;at++)if(Ze[at].key===rt)return Ze[at].value;return null},getAll:function(tt){k(arguments.length,1);for(var Ze=x(this).entries,rt=A(tt),at=[],we=0;we<Ze.length;we++)Ze[we].key===rt&&z(at,Ze[we].value);return at},has:function(tt){k(arguments.length,1);for(var Ze=x(this).entries,rt=A(tt),at=0;at<Ze.length;)if(Ze[at++].key===rt)return!0;return!1},set:function(tt,Ze){k(arguments.length,1);for(var rt=x(this),at=rt.entries,we=!1,it=A(tt),ut=A(Ze),gt=0,Ot;gt<at.length;gt++)Ot=at[gt],Ot.key===it&&(we?se(at,gt--,1):(we=!0,Ot.value=ut));we||z(at,{key:it,value:ut}),rt.updateURL()},sort:function(){var tt=x(this);ee(tt.entries,function(Ze,rt){return Ze.key>rt.key?1:-1}),tt.updateURL()},forEach:function(tt){for(var Ze=x(this).entries,rt=w(tt,arguments.length>1?arguments[1]:void 0),at=0,we;at<Ze.length;)we=Ze[at++],rt(we.value,we.key,this)},keys:function(){return new Fe(this,"keys")},values:function(){return new Fe(this,"values")},entries:function(){return new Fe(this,"entries")}},{enumerable:!0}),v(We,q,We.entries,{name:"entries"}),v(We,"toString",function(){return x(this).serialize()},{enumerable:!0}),y(_e,re),r({global:!0,forced:!d},{URLSearchParams:_e}),!d&&g(H)){var st=f(P.has),ct=f(P.set),Ke=function($e){if(Y($e)){var tt=$e.body,Ze;if(h(tt)===re)return Ze=$e.headers?new H($e.headers):new H,st(Ze,"content-type")||ct(Ze,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),L($e,{body:D(0,A(tt)),headers:D(0,Ze)})}return $e};if(g(p)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(tt){return p(tt,arguments.length>1?Ke(arguments[1]):{})}}),g(j)){var Et=function(tt){return b(this,Z),new j(tt,arguments.length>1?Ke(arguments[1]):{})};Z.constructor=Et,Et.prototype=Z,r({global:!0,forced:!0},{Request:Et})}}m.exports={URLSearchParams:_e,getState:x}},"99af":function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("d039"),e=t("e8b5"),f=t("861d"),d=t("7b0b"),v=t("07fa"),E=t("8418"),y=t("65f0"),S=t("1dde"),O=t("b622"),b=t("2d00"),g=O("isConcatSpreadable"),B=9007199254740991,w="Maximum allowed index exceeded",h=n.TypeError,N=b>=51||!s(function(){var D=[];return D[g]=!1,D.concat()[0]!==D}),Y=S("concat"),A=function(D){if(!f(D))return!1;var a=D[g];return a!==void 0?!!a:e(D)},L=!N||!Y;r({target:"Array",proto:!0,forced:L},{concat:function(a){var F=d(this),k=y(F,0),_=0,ee,q,re,Oe,ue;for(ee=-1,re=arguments.length;ee<re;ee++)if(ue=ee===-1?F:arguments[ee],A(ue)){if(Oe=v(ue),_+Oe>B)throw h(w);for(q=0;q<Oe;q++,_++)q in ue&&E(k,_,ue[q])}else{if(_>=B)throw h(w);E(k,_++,ue)}return k.length=_,k}})},"9a1f":function(m,T,t){var r=t("da84"),n=t("c65b"),s=t("59ed"),e=t("825a"),f=t("0d51"),d=t("35a1"),v=r.TypeError;m.exports=function(E,y){var S=arguments.length<2?d(E):y;if(s(S))return e(n(S,E));throw v(f(E)+" is not iterable")}},"9a8c":function(m,T,t){var r=t("e330"),n=t("ebb5"),s=t("145e"),e=r(s),f=n.aTypedArray,d=n.exportTypedArrayMethod;d("copyWithin",function(E,y){return e(f(this),E,y,arguments.length>2?arguments[2]:void 0)})},"9bdd":function(m,T,t){var r=t("825a"),n=t("2a62");m.exports=function(s,e,f,d){try{return d?e(r(f)[0],f[1]):e(f)}catch(v){n(s,"throw",v)}}},"9bf2":function(m,T,t){var r=t("da84"),n=t("83ab"),s=t("0cfb"),e=t("aed9"),f=t("825a"),d=t("a04b"),v=r.TypeError,E=Object.defineProperty,y=Object.getOwnPropertyDescriptor,S="enumerable",O="configurable",b="writable";T.f=n?e?function(B,w,h){if(f(B),w=d(w),f(h),typeof B=="function"&&w==="prototype"&&"value"in h&&b in h&&!h[b]){var N=y(B,w);N&&N[b]&&(B[w]=h.value,h={configurable:O in h?h[O]:N[O],enumerable:S in h?h[S]:N[S],writable:!1})}return E(B,w,h)}:E:function(B,w,h){if(f(B),w=d(w),f(h),s)try{return E(B,w,h)}catch{}if("get"in h||"set"in h)throw v("Accessors not supported");return"value"in h&&(B[w]=h.value),B}},"9ed3":function(m,T,t){var r=t("ae93").IteratorPrototype,n=t("7c73"),s=t("5c6c"),e=t("d44e"),f=t("3f8c"),d=function(){return this};m.exports=function(v,E,y,S){var O=E+" Iterator";return v.prototype=n(r,{next:s(+!S,y)}),e(v,O,!1,!0),f[O]=d,v}},"9f7f":function(m,T,t){var r=t("d039"),n=t("da84"),s=n.RegExp,e=r(function(){var v=s("a","y");return v.lastIndex=2,v.exec("abcd")!=null}),f=e||r(function(){return!s("a","y").sticky}),d=e||r(function(){var v=s("^r","gy");return v.lastIndex=2,v.exec("str")!=null});m.exports={BROKEN_CARET:d,MISSED_STICKY:f,UNSUPPORTED_Y:e}},a04b:function(m,T,t){var r=t("c04e"),n=t("d9b5");m.exports=function(s){var e=r(s,"string");return n(e)?e:e+""}},a078:function(m,T,t){var r=t("0366"),n=t("c65b"),s=t("5087"),e=t("7b0b"),f=t("07fa"),d=t("9a1f"),v=t("35a1"),E=t("e95a"),y=t("ebb5").aTypedArrayConstructor;m.exports=function(O){var b=s(this),g=e(O),B=arguments.length,w=B>1?arguments[1]:void 0,h=w!==void 0,N=v(g),Y,A,L,D,a,F;if(N&&!E(N))for(a=d(g,N),F=a.next,g=[];!(D=n(F,a)).done;)g.push(D.value);for(h&&B>2&&(w=r(w,arguments[2])),A=f(g),L=new(y(b))(A),Y=0;A>Y;Y++)L[Y]=h?w(g[Y],Y):g[Y];return L}},a15b:function(m,T,t){var r=t("23e7"),n=t("e330"),s=t("44ad"),e=t("fc6a"),f=t("a640"),d=n([].join),v=s!=Object,E=f("join",",");r({target:"Array",proto:!0,forced:v||!E},{join:function(S){return d(e(this),S===void 0?",":S)}})},a1b7:function(m,T,t){var r=t("4b5e"),n=t("0206"),s=n.System;n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double;var e=n.new_float,f=n.new_float_n;n.new_int,n.new_int_n,n.assert;function d(){this.l=e(r.SBMAX_l),this.s=f([r.SBMAX_s,3]);var v=this;this.assign=function(E){s.arraycopy(E.l,0,v.l,0,r.SBMAX_l);for(var y=0;y<r.SBMAX_s;y++)for(var S=0;S<3;S++)v.s[y][S]=E.s[y][S]}}m.exports=d},a1f0:function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("c65b"),e=t("e330"),f=t("9ed3"),d=t("1d80"),v=t("50c4"),E=t("577e"),y=t("825a"),S=t("c6b6"),O=t("3a9b"),b=t("44e7"),g=t("ad6d"),B=t("dc4a"),w=t("6eeb"),h=t("d039"),N=t("b622"),Y=t("4840"),A=t("8aa5"),L=t("14c3"),D=t("69f3"),a=t("c430"),F=N("matchAll"),k="RegExp String",_=k+" Iterator",ee=D.set,q=D.getterFor(_),re=RegExp.prototype,Oe=n.TypeError,ue=e(g),x=e("".indexOf),Q=e("".matchAll),p=!!Q&&!h(function(){Q("a",/./)}),j=f(function(P,o,u,c){ee(this,{type:_,regexp:P,string:o,global:u,unicode:c,done:!1})},k,function(){var P=q(this);if(P.done)return{value:void 0,done:!0};var o=P.regexp,u=P.string,c=L(o,u);return c===null?{value:void 0,done:P.done=!0}:P.global?(E(c[0])===""&&(o.lastIndex=A(u,v(o.lastIndex),P.unicode)),{value:c,done:!1}):(P.done=!0,{value:c,done:!1})}),H=function(Z){var P=y(this),o=E(Z),u,c,R,U,C,z;return u=Y(P,RegExp),c=P.flags,c===void 0&&O(re,P)&&!("flags"in re)&&(c=ue(P)),R=c===void 0?"":E(c),U=new u(u===RegExp?P.source:P,R),C=!!~x(R,"g"),z=!!~x(R,"u"),U.lastIndex=v(P.lastIndex),new j(U,o,C,z)};r({target:"String",proto:!0,forced:p},{matchAll:function(P){var o=d(this),u,c,R,U;if(P!=null){if(b(P)&&(u=E(d("flags"in re?P.flags:ue(P))),!~x(u,"g")))throw Oe("`.matchAll` does not allow non-global regexes");if(p)return Q(o,P);if(R=B(P,F),R===void 0&&a&&S(P)=="RegExp"&&(R=H),R)return s(R,P,o)}else if(p)return Q(o,P);return c=E(o),U=new RegExp(P,"g"),a?s(H,U,c):U[F](c)}}),a||F in re||w(re,F,H)},a26a:function(m,T){function t(){this.setModules=function(r,n){}}m.exports=t},a434:function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("23cb"),e=t("5926"),f=t("07fa"),d=t("7b0b"),v=t("65f0"),E=t("8418"),y=t("1dde"),S=y("splice"),O=n.TypeError,b=Math.max,g=Math.min,B=9007199254740991,w="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!S},{splice:function(N,Y){var A=d(this),L=f(A),D=s(N,L),a=arguments.length,F,k,_,ee,q,re;if(a===0?F=k=0:a===1?(F=0,k=L-D):(F=a-2,k=g(b(e(Y),0),L-D)),L+F-k>B)throw O(w);for(_=v(A,k),ee=0;ee<k;ee++)q=D+ee,q in A&&E(_,ee,A[q]);if(_.length=k,F<k){for(ee=D;ee<L-k;ee++)q=ee+k,re=ee+F,q in A?A[re]=A[q]:delete A[re];for(ee=L;ee>L-k+F;ee--)delete A[ee-1]}else if(F>k)for(ee=L-k;ee>D;ee--)q=ee+k-1,re=ee+F-1,q in A?A[re]=A[q]:delete A[re];for(ee=0;ee<F;ee++)A[ee+D]=arguments[ee+2];return A.length=L-k+F,_}})},a4b4:function(m,T,t){var r=t("342f");m.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("d066"),e=t("2ba4"),f=t("c65b"),d=t("e330"),v=t("c430"),E=t("83ab"),y=t("4930"),S=t("d039"),O=t("1a2d"),b=t("e8b5"),g=t("1626"),B=t("861d"),w=t("3a9b"),h=t("d9b5"),N=t("825a"),Y=t("7b0b"),A=t("fc6a"),L=t("a04b"),D=t("577e"),a=t("5c6c"),F=t("7c73"),k=t("df75"),_=t("241c"),ee=t("057f"),q=t("7418"),re=t("06cf"),Oe=t("9bf2"),ue=t("37e8"),x=t("d1e7"),Q=t("f36a"),p=t("6eeb"),j=t("5692"),H=t("f772"),Z=t("d012"),P=t("90e3"),o=t("b622"),u=t("e538"),c=t("746f"),R=t("d44e"),U=t("69f3"),C=t("b727").forEach,z=H("hidden"),V="Symbol",$="prototype",se=o("toPrimitive"),Ee=U.set,Ae=U.getterFor(V),Me=Object[$],Ce=n.Symbol,He=Ce&&Ce[$],lt=n.TypeError,Mt=n.QObject,I=s("JSON","stringify"),X=re.f,Ne=Oe.f,Te=ee.f,Fe=x.f,Ge=d([].push),_e=j("symbols"),We=j("op-symbols"),st=j("string-to-symbol-registry"),ct=j("symbol-to-string-registry"),Ke=j("wks"),Et=!Mt||!Mt[$]||!Mt[$].findChild,$e=E&&S(function(){return F(Ne({},"a",{get:function(){return Ne(this,"a",{value:7}).a}})).a!=7})?function(Se,me,Re){var Ue=X(Me,me);Ue&&delete Me[me],Ne(Se,me,Re),Ue&&Se!==Me&&Ne(Me,me,Ue)}:Ne,tt=function(Se,me){var Re=_e[Se]=F(He);return Ee(Re,{type:V,tag:Se,description:me}),E||(Re.description=me),Re},Ze=function(me,Re,Ue){me===Me&&Ze(We,Re,Ue),N(me);var G=L(Re);return N(Ue),O(_e,G)?(Ue.enumerable?(O(me,z)&&me[z][G]&&(me[z][G]=!1),Ue=F(Ue,{enumerable:a(0,!1)})):(O(me,z)||Ne(me,z,a(1,{})),me[z][G]=!0),$e(me,G,Ue)):Ne(me,G,Ue)},rt=function(me,Re){N(me);var Ue=A(Re),G=k(Ue).concat(gt(Ue));return C(G,function(W){(!E||f(we,Ue,W))&&Ze(me,W,Ue[W])}),me},at=function(me,Re){return Re===void 0?F(me):rt(F(me),Re)},we=function(me){var Re=L(me),Ue=f(Fe,this,Re);return this===Me&&O(_e,Re)&&!O(We,Re)?!1:Ue||!O(this,Re)||!O(_e,Re)||O(this,z)&&this[z][Re]?Ue:!0},it=function(me,Re){var Ue=A(me),G=L(Re);if(!(Ue===Me&&O(_e,G)&&!O(We,G))){var W=X(Ue,G);return W&&O(_e,G)&&!(O(Ue,z)&&Ue[z][G])&&(W.enumerable=!0),W}},ut=function(me){var Re=Te(A(me)),Ue=[];return C(Re,function(G){!O(_e,G)&&!O(Z,G)&&Ge(Ue,G)}),Ue},gt=function(me){var Re=me===Me,Ue=Te(Re?We:A(me)),G=[];return C(Ue,function(W){O(_e,W)&&(!Re||O(Me,W))&&Ge(G,_e[W])}),G};if(y||(Ce=function(){if(w(He,this))throw lt("Symbol is not a constructor");var me=!arguments.length||arguments[0]===void 0?void 0:D(arguments[0]),Re=P(me),Ue=function(G){this===Me&&f(Ue,We,G),O(this,z)&&O(this[z],Re)&&(this[z][Re]=!1),$e(this,Re,a(1,G))};return E&&Et&&$e(Me,Re,{configurable:!0,set:Ue}),tt(Re,me)},He=Ce[$],p(He,"toString",function(){return Ae(this).tag}),p(Ce,"withoutSetter",function(Se){return tt(P(Se),Se)}),x.f=we,Oe.f=Ze,ue.f=rt,re.f=it,_.f=ee.f=ut,q.f=gt,u.f=function(Se){return tt(o(Se),Se)},E&&(Ne(He,"description",{configurable:!0,get:function(){return Ae(this).description}}),v||p(Me,"propertyIsEnumerable",we,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!y,sham:!y},{Symbol:Ce}),C(k(Ke),function(Se){c(Se)}),r({target:V,stat:!0,forced:!y},{for:function(Se){var me=D(Se);if(O(st,me))return st[me];var Re=Ce(me);return st[me]=Re,ct[Re]=me,Re},keyFor:function(me){if(!h(me))throw lt(me+" is not a symbol");if(O(ct,me))return ct[me]},useSetter:function(){Et=!0},useSimple:function(){Et=!1}}),r({target:"Object",stat:!0,forced:!y,sham:!E},{create:at,defineProperty:Ze,defineProperties:rt,getOwnPropertyDescriptor:it}),r({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:ut,getOwnPropertySymbols:gt}),r({target:"Object",stat:!0,forced:S(function(){q.f(1)})},{getOwnPropertySymbols:function(me){return q.f(Y(me))}}),I){var Ot=!y||S(function(){var Se=Ce();return I([Se])!="[null]"||I({a:Se})!="{}"||I(Object(Se))!="{}"});r({target:"JSON",stat:!0,forced:Ot},{stringify:function(me,Re,Ue){var G=Q(arguments),W=Re;if(!(!B(Re)&&me===void 0||h(me)))return b(Re)||(Re=function(ie,ce){if(g(W)&&(ce=f(W,this,ie,ce)),!h(ce))return ce}),G[1]=Re,e(I,null,G)}})}if(!He[se]){var wt=He.valueOf;p(He,se,function(Se){return f(wt,this)})}R(Ce,V),Z[z]=!0},a623:function(m,T,t){var r=t("23e7"),n=t("b727").every,s=t("a640"),e=s("every");r({target:"Array",proto:!0,forced:!e},{every:function(d){return n(this,d,arguments.length>1?arguments[1]:void 0)}})},a630:function(m,T,t){var r=t("23e7"),n=t("4df4"),s=t("1c7e"),e=!s(function(f){Array.from(f)});r({target:"Array",stat:!0,forced:e},{from:n})},a640:function(m,T,t){var r=t("d039");m.exports=function(n,s){var e=[][n];return!!e&&r(function(){e.call(null,s||function(){return 1},1)})}},a975:function(m,T,t){var r=t("ebb5"),n=t("b727").every,s=r.aTypedArray,e=r.exportTypedArrayMethod;e("every",function(d){return n(s(this),d,arguments.length>1?arguments[1]:void 0)})},a981:function(m,T){m.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"},a9e3:function(m,T,t){var r=t("83ab"),n=t("da84"),s=t("e330"),e=t("94ca"),f=t("6eeb"),d=t("1a2d"),v=t("7156"),E=t("3a9b"),y=t("d9b5"),S=t("c04e"),O=t("d039"),b=t("241c").f,g=t("06cf").f,B=t("9bf2").f,w=t("408a"),h=t("58a8").trim,N="Number",Y=n[N],A=Y.prototype,L=n.TypeError,D=s("".slice),a=s("".charCodeAt),F=function(Oe){var ue=S(Oe,"number");return typeof ue=="bigint"?ue:k(ue)},k=function(Oe){var ue=S(Oe,"number"),x,Q,p,j,H,Z,P,o;if(y(ue))throw L("Cannot convert a Symbol value to a number");if(typeof ue=="string"&&ue.length>2){if(ue=h(ue),x=a(ue,0),x===43||x===45){if(Q=a(ue,2),Q===88||Q===120)return NaN}else if(x===48){switch(a(ue,1)){case 66:case 98:p=2,j=49;break;case 79:case 111:p=8,j=55;break;default:return+ue}for(H=D(ue,2),Z=H.length,P=0;P<Z;P++)if(o=a(H,P),o<48||o>j)return NaN;return parseInt(H,p)}}return+ue};if(e(N,!Y(" 0o1")||!Y("0b1")||Y("+0x1"))){for(var _=function(ue){var x=arguments.length<1?0:Y(F(ue)),Q=this;return E(A,Q)&&O(function(){w(Q)})?v(Object(x),Q,_):x},ee=r?b(Y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),q=0,re;ee.length>q;q++)d(Y,re=ee[q])&&!d(_,re)&&B(_,re,g(Y,re));_.prototype=A,A.constructor=_,f(n,N,_)}},aa1f:function(m,T,t){var r=t("83ab"),n=t("d039"),s=t("825a"),e=t("7c73"),f=t("e391"),d=Error.prototype.toString,v=n(function(){if(r){var E=e(Object.defineProperty({},"name",{get:function(){return this===E}}));if(d.call(E)!=="true")return!0}return d.call({message:1,name:2})!=="2: 1"||d.call({})!=="Error"});m.exports=v?function(){var y=s(this),S=f(y.name,"Error"),O=f(y.message);return S?O?S+": "+O:S:O}:d},ab13:function(m,T,t){var r=t("b622"),n=r("match");m.exports=function(s){var e=/./;try{"/./"[s](e)}catch{try{return e[n]=!1,"/./"[s](e)}catch{}}return!1}},ab36:function(m,T,t){var r=t("861d"),n=t("9112");m.exports=function(s,e){r(e)&&"cause"in e&&n(s,"cause",e.cause)}},abf5:function(m,T,t){var r=t("0206");r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var n=r.new_float;r.new_float_n,r.new_int,r.new_int_n,r.assert;var s=t("4b5e");function e(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=n(s.SBMAX_l),this.s=n(s.SBMAX_s),this.psfb21=n(s.PSFB21),this.psfb12=n(s.PSFB12),this.cb_l=n(s.CBANDS),this.cb_s=n(s.CBANDS),this.eql_w=n(s.BLKSIZE/2)}m.exports=e},ac1f:function(m,T,t){var r=t("23e7"),n=t("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},accc:function(m,T,t){var r=t("23e7"),n=t("64e5");r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==n},{toISOString:n})},acd8:function(m,T,t){var r=t("23e7"),n=t("7e12");r({global:!0,forced:parseFloat!=n},{parseFloat:n})},ace4:function(m,T,t){var r=t("23e7"),n=t("e330"),s=t("d039"),e=t("621a"),f=t("825a"),d=t("23cb"),v=t("50c4"),E=t("4840"),y=e.ArrayBuffer,S=e.DataView,O=S.prototype,b=n(y.prototype.slice),g=n(O.getUint8),B=n(O.setUint8),w=s(function(){return!new y(2).slice(1,void 0).byteLength});r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:w},{slice:function(N,Y){if(b&&Y===void 0)return b(f(this),N);for(var A=f(this).byteLength,L=d(N,A),D=d(Y===void 0?A:Y,A),a=new(E(this,y))(v(D-L)),F=new S(this),k=new S(a),_=0;L<D;)B(k,_++,g(F,L++));return a}})},ad6d:function(m,T,t){var r=t("825a");m.exports=function(){var n=r(this),s="";return n.global&&(s+="g"),n.ignoreCase&&(s+="i"),n.multiline&&(s+="m"),n.dotAll&&(s+="s"),n.unicode&&(s+="u"),n.sticky&&(s+="y"),s}},addb:function(m,T,t){var r=t("4dae"),n=Math.floor,s=function(d,v){var E=d.length,y=n(E/2);return E<8?e(d,v):f(d,s(r(d,0,y),v),s(r(d,y),v),v)},e=function(d,v){for(var E=d.length,y=1,S,O;y<E;){for(O=y,S=d[y];O&&v(d[O-1],S)>0;)d[O]=d[--O];O!==y++&&(d[O]=S)}return d},f=function(d,v,E,y){for(var S=v.length,O=E.length,b=0,g=0;b<S||g<O;)d[b+g]=b<S&&g<O?y(v[b],E[g])<=0?v[b++]:E[g++]:b<S?v[b++]:E[g++];return d};m.exports=s},ae93:function(m,T,t){var r=t("d039"),n=t("1626"),s=t("7c73"),e=t("e163"),f=t("6eeb"),d=t("b622"),v=t("c430"),E=d("iterator"),y=!1,S,O,b;[].keys&&(b=[].keys(),"next"in b?(O=e(e(b)),O!==Object.prototype&&(S=O)):y=!0);var g=S==null||r(function(){var B={};return S[E].call(B)!==B});g?S={}:v&&(S=s(S)),n(S[E])||f(S,E,function(){return this}),m.exports={IteratorPrototype:S,BUGGY_SAFARI_ITERATORS:y}},aed9:function(m,T,t){var r=t("83ab"),n=t("d039");m.exports=r&&n(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},af03:function(m,T,t){var r=t("d039");m.exports=function(n){return r(function(){var s=""[n]('"');return s!==s.toLowerCase()||s.split('"').length>3})}},b041:function(m,T,t){var r=t("00ee"),n=t("f5df");m.exports=r?{}.toString:function(){return"[object "+n(this)+"]"}},b0c0:function(m,T,t){var r=t("83ab"),n=t("5e77").EXISTS,s=t("e330"),e=t("9bf2").f,f=Function.prototype,d=s(f.toString),v=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,E=s(v.exec),y="name";r&&!n&&e(f,y,{configurable:!0,get:function(){try{return E(v,d(this))[1]}catch{return""}}})},b39a:function(m,T,t){var r=t("da84"),n=t("2ba4"),s=t("ebb5"),e=t("d039"),f=t("f36a"),d=r.Int8Array,v=s.aTypedArray,E=s.exportTypedArrayMethod,y=[].toLocaleString,S=!!d&&e(function(){y.call(new d(1))}),O=e(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!e(function(){d.prototype.toLocaleString.call([1,2])});E("toLocaleString",function(){return n(y,S?f(v(this)):v(this),f(arguments))},O)},b575:function(m,T,t){var r=t("da84"),n=t("0366"),s=t("06cf").f,e=t("2cf4").set,f=t("1cdc"),d=t("d4c3"),v=t("a4b4"),E=t("605d"),y=r.MutationObserver||r.WebKitMutationObserver,S=r.document,O=r.process,b=r.Promise,g=s(r,"queueMicrotask"),B=g&&g.value,w,h,N,Y,A,L,D,a;B||(w=function(){var F,k;for(E&&(F=O.domain)&&F.exit();h;){k=h.fn,h=h.next;try{k()}catch(_){throw h?Y():N=void 0,_}}N=void 0,F&&F.enter()},!f&&!E&&!v&&y&&S?(A=!0,L=S.createTextNode(""),new y(w).observe(L,{characterData:!0}),Y=function(){L.data=A=!A}):!d&&b&&b.resolve?(D=b.resolve(void 0),D.constructor=b,a=n(D.then,D),Y=function(){a(w)}):E?Y=function(){O.nextTick(w)}:(e=n(e,r),Y=function(){e(w)})),m.exports=B||function(F){var k={fn:F,next:void 0};N&&(N.next=k),h||(h=k,Y()),N=k}},b622:function(m,T,t){var r=t("da84"),n=t("5692"),s=t("1a2d"),e=t("90e3"),f=t("4930"),d=t("fdbf"),v=n("wks"),E=r.Symbol,y=E&&E.for,S=d?E:E&&E.withoutSetter||e;m.exports=function(O){if(!s(v,O)||!(f||typeof v[O]=="string")){var b="Symbol."+O;f&&s(E,O)?v[O]=E[O]:d&&y?v[O]=y(b):v[O]=S(b)}return v[O]}},b64b:function(m,T,t){var r=t("23e7"),n=t("7b0b"),s=t("df75"),e=t("d039"),f=e(function(){s(1)});r({target:"Object",stat:!0,forced:f},{keys:function(v){return s(n(v))}})},b680:function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("e330"),e=t("5926"),f=t("408a"),d=t("1148"),v=t("d039"),E=n.RangeError,y=n.String,S=Math.floor,O=s(d),b=s("".slice),g=s(1 .toFixed),B=function(L,D,a){return D===0?a:D%2===1?B(L,D-1,a*L):B(L*L,D/2,a)},w=function(L){for(var D=0,a=L;a>=4096;)D+=12,a/=4096;for(;a>=2;)D+=1,a/=2;return D},h=function(L,D,a){for(var F=-1,k=a;++F<6;)k+=D*L[F],L[F]=k%1e7,k=S(k/1e7)},N=function(L,D){for(var a=6,F=0;--a>=0;)F+=L[a],L[a]=S(F/D),F=F%D*1e7},Y=function(L){for(var D=6,a="";--D>=0;)if(a!==""||D===0||L[D]!==0){var F=y(L[D]);a=a===""?F:a+O("0",7-F.length)+F}return a},A=v(function(){return g(8e-5,3)!=="0.000"||g(.9,0)!=="1"||g(1.255,2)!=="1.25"||g(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!v(function(){g({})});r({target:"Number",proto:!0,forced:A},{toFixed:function(D){var a=f(this),F=e(D),k=[0,0,0,0,0,0],_="",ee="0",q,re,Oe,ue;if(F<0||F>20)throw E("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return y(a);if(a<0&&(_="-",a=-a),a>1e-21)if(q=w(a*B(2,69,1))-69,re=q<0?a*B(2,-q,1):a/B(2,q,1),re*=4503599627370496,q=52-q,q>0){for(h(k,0,re),Oe=F;Oe>=7;)h(k,1e7,0),Oe-=7;for(h(k,B(10,Oe,1),0),Oe=q-1;Oe>=23;)N(k,1<<23),Oe-=23;N(k,1<<Oe),h(k,1,1),N(k,2),ee=Y(k)}else h(k,0,re),h(k,1<<-q,0),ee=Y(k)+O("0",F);return F>0?(ue=ee.length,ee=_+(ue<=F?"0."+O("0",F-ue)+ee:b(ee,0,ue-F)+"."+b(ee,ue-F))):ee=_+ee,ee}})},b6b7:function(m,T,t){var r=t("ebb5"),n=t("4840"),s=r.TYPED_ARRAY_CONSTRUCTOR,e=r.aTypedArrayConstructor;m.exports=function(f){return e(n(f,f[s]))}},b727:function(m,T,t){var r=t("0366"),n=t("e330"),s=t("44ad"),e=t("7b0b"),f=t("07fa"),d=t("65f0"),v=n([].push),E=function(y){var S=y==1,O=y==2,b=y==3,g=y==4,B=y==6,w=y==7,h=y==5||B;return function(N,Y,A,L){for(var D=e(N),a=s(D),F=r(Y,A),k=f(a),_=0,ee=L||d,q=S?ee(N,k):O||w?ee(N,0):void 0,re,Oe;k>_;_++)if((h||_ in a)&&(re=a[_],Oe=F(re,_,D),y))if(S)q[_]=Oe;else if(Oe)switch(y){case 3:return!0;case 5:return re;case 6:return _;case 2:v(q,re)}else switch(y){case 4:return!1;case 7:v(q,re)}return B?-1:b||g?g:q}};m.exports={forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findIndex:E(6),filterReject:E(7)}},b7fe:function(m,T,t){T.__esModule=!0,T.start=T.run=T.TOKENS=T.State=void 0;var r=t("1652"),n=t("7656"),s=e(n);function e(p){if(p&&p.__esModule)return p;var j={};if(p!=null)for(var H in p)Object.prototype.hasOwnProperty.call(p,H)&&(j[H]=p[H]);return j.default=p,j}var f="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),d="0123456789".split(""),v="0123456789abcdefghijklmnopqrstuvwxyz".split(""),E=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],y=[],S=function(j){return new r.CharacterState(j)},O=S(),b=S(n.NUM),g=S(n.DOMAIN),B=S(),w=S(n.WS);O.on("@",S(n.AT)).on(".",S(n.DOT)).on("+",S(n.PLUS)).on("#",S(n.POUND)).on("?",S(n.QUERY)).on("/",S(n.SLASH)).on("_",S(n.UNDERSCORE)).on(":",S(n.COLON)).on("{",S(n.OPENBRACE)).on("[",S(n.OPENBRACKET)).on("<",S(n.OPENANGLEBRACKET)).on("(",S(n.OPENPAREN)).on("}",S(n.CLOSEBRACE)).on("]",S(n.CLOSEBRACKET)).on(">",S(n.CLOSEANGLEBRACKET)).on(")",S(n.CLOSEPAREN)).on("&",S(n.AMPERSAND)).on([",",";","!",'"',"'"],S(n.PUNCTUATION)),O.on(`
`,S(n.NL)).on(E,w),w.on(E,w);for(var h=0;h<f.length;h++){var N=(0,r.stateify)(f[h],O,n.TLD,n.DOMAIN);y.push.apply(y,N)}var Y=(0,r.stateify)("file",O,n.DOMAIN,n.DOMAIN),A=(0,r.stateify)("ftp",O,n.DOMAIN,n.DOMAIN),L=(0,r.stateify)("http",O,n.DOMAIN,n.DOMAIN),D=(0,r.stateify)("mailto",O,n.DOMAIN,n.DOMAIN);y.push.apply(y,Y),y.push.apply(y,A),y.push.apply(y,L),y.push.apply(y,D);var a=Y.pop(),F=A.pop(),k=L.pop(),_=D.pop(),ee=S(n.DOMAIN),q=S(n.PROTOCOL),re=S(n.MAILTO);F.on("s",ee).on(":",q),k.on("s",ee).on(":",q),y.push(ee),a.on(":",q),ee.on(":",q),_.on(":",re);var Oe=(0,r.stateify)("localhost",O,n.LOCALHOST,n.DOMAIN);y.push.apply(y,Oe),O.on(d,b),b.on("-",B).on(d,b).on(v,g),g.on("-",B).on(v,g);for(var ue=0;ue<y.length;ue++)y[ue].on("-",B).on(v,g);B.on("-",B).on(d,g).on(v,g),O.defaultTransition=S(n.SYM);var x=function(j){for(var H=j.replace(/[A-Z]/g,function(V){return V.toLowerCase()}),Z=j.length,P=[],o=0;o<Z;){for(var u=O,c=null,R=0,U=null,C=-1;o<Z&&(c=u.next(H[o]));)u=c,u.accepts()?(C=0,U=u):C>=0&&C++,R++,o++;if(!(C<0)){o-=C,R-=C;var z=U.emit();P.push(new z(j.substr(o-R,R)))}}return P},Q=O;T.State=r.CharacterState,T.TOKENS=s,T.run=x,T.start=Q},b980:function(m,T,t){var r=t("d039"),n=t("5c6c");m.exports=!r(function(){var s=Error("a");return"stack"in s?(Object.defineProperty(s,"stack",n(1,7)),s.stack!==7):!0})},baa5:function(m,T,t){var r=t("23e7"),n=t("e58c");r({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},bb22:function(m,T,t){var r=t("ff81"),n=t("0206");n.System;var s=n.VbrMode,e=n.Float;n.ShortBlock;var f=n.Util;n.Arrays,n.new_array_n,n.new_byte,n.new_double;var d=n.new_float;n.new_float_n;var v=n.new_int;n.new_int_n;var E=n.assert,y=t("4b5e"),S=t("f052"),O=t("bd8b");b.Q_MAX=256+1,b.Q_MAX2=116,b.LARGE_BITS=1e5,b.IXMAX_VAL=8206;function b(){var g=null,B=null,w=null;this.setModules=function(x,Q,p){g=x,B=Q,w=p};function h(x){return E(0<=x+b.Q_MAX2&&x<b.Q_MAX),k[x+b.Q_MAX2]}this.IPOW20=function(x){return E(0<=x&&x<b.Q_MAX),_[x]};var N=2220446049250313e-31,Y=b.IXMAX_VAL,A=Y+2,L=b.Q_MAX,D=b.Q_MAX2;b.LARGE_BITS;var a=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var F=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=F,this.sfBandIndex=[new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var k=d(L+D+1),_=d(L),ee=d(A),q=d(A);this.adj43=q;function re(x,Q){var p=w.ATHformula(Q,x);return p-=a,p=Math.pow(10,p/10+x.ATHlower),p}function Oe(x){for(var Q=x.internal_flags.ATH.l,p=x.internal_flags.ATH.psfb21,j=x.internal_flags.ATH.s,H=x.internal_flags.ATH.psfb12,Z=x.internal_flags,P=x.out_samplerate,o=0;o<y.SBMAX_l;o++){var u=Z.scalefac_band.l[o],c=Z.scalefac_band.l[o+1];Q[o]=e.MAX_VALUE;for(var R=u;R<c;R++){var U=R*P/1152,C=re(x,U);Q[o]=Math.min(Q[o],C)}}for(var o=0;o<y.PSFB21;o++){var u=Z.scalefac_band.psfb21[o],c=Z.scalefac_band.psfb21[o+1];p[o]=e.MAX_VALUE;for(var R=u;R<c;R++){var U=R*P/1152,C=re(x,U);p[o]=Math.min(p[o],C)}}for(var o=0;o<y.SBMAX_s;o++){var u=Z.scalefac_band.s[o],c=Z.scalefac_band.s[o+1];j[o]=e.MAX_VALUE;for(var R=u;R<c;R++){var U=R*P/384,C=re(x,U);j[o]=Math.min(j[o],C)}j[o]*=Z.scalefac_band.s[o+1]-Z.scalefac_band.s[o]}for(var o=0;o<y.PSFB12;o++){var u=Z.scalefac_band.psfb12[o],c=Z.scalefac_band.psfb12[o+1];H[o]=e.MAX_VALUE;for(var R=u;R<c;R++){var U=R*P/384,C=re(x,U);H[o]=Math.min(H[o],C)}H[o]*=Z.scalefac_band.s[13]-Z.scalefac_band.s[12]}if(x.noATH){for(var o=0;o<y.SBMAX_l;o++)Q[o]=1e-20;for(var o=0;o<y.PSFB21;o++)p[o]=1e-20;for(var o=0;o<y.SBMAX_s;o++)j[o]=1e-20;for(var o=0;o<y.PSFB12;o++)H[o]=1e-20}Z.ATH.floor=10*Math.log10(re(x,-1))}this.iteration_init=function(x){var Q=x.internal_flags,p=Q.l3_side,j;if(Q.iteration_init_init==0){for(Q.iteration_init_init=1,p.main_data_begin=0,Oe(x),ee[0]=0,j=1;j<A;j++)ee[j]=Math.pow(j,4/3);for(j=0;j<A-1;j++)q[j]=j+1-Math.pow(.5*(ee[j]+ee[j+1]),.75);for(q[j]=.5,j=0;j<L;j++)_[j]=Math.pow(2,(j-210)*-.1875);for(j=0;j<=L+D;j++)k[j]=Math.pow(2,(j-210-D)*.25);g.huffman_init(Q);{var H,Z,P,o;for(j=x.exp_nspsytune>>2&63,j>=32&&(j-=64),H=Math.pow(10,j/4/10),j=x.exp_nspsytune>>8&63,j>=32&&(j-=64),Z=Math.pow(10,j/4/10),j=x.exp_nspsytune>>14&63,j>=32&&(j-=64),P=Math.pow(10,j/4/10),j=x.exp_nspsytune>>20&63,j>=32&&(j-=64),o=P*Math.pow(10,j/4/10),j=0;j<y.SBMAX_l;j++){var u;j<=6?u=H:j<=13?u=Z:j<=20?u=P:u=o,Q.nsPsy.longfact[j]=u}for(j=0;j<y.SBMAX_s;j++){var u;j<=5?u=H:j<=10?u=Z:j<=11?u=P:u=o,Q.nsPsy.shortfact[j]=u}}}},this.on_pe=function(x,Q,p,j,H,Z){var P=x.internal_flags,o=0,u,c=v(2),R,U=new S(o),C=B.ResvMaxBits(x,j,U,Z);o=U.bits;var z=o+C;for(z>O.MAX_BITS_PER_GRANULE&&(z=O.MAX_BITS_PER_GRANULE),u=0,R=0;R<P.channels_out;++R)p[R]=Math.min(O.MAX_BITS_PER_CHANNEL,o/P.channels_out),c[R]=0|p[R]*Q[H][R]/700-p[R],c[R]>j*3/4&&(c[R]=j*3/4),c[R]<0&&(c[R]=0),c[R]+p[R]>O.MAX_BITS_PER_CHANNEL&&(c[R]=Math.max(0,O.MAX_BITS_PER_CHANNEL-p[R])),u+=c[R];if(u>C)for(R=0;R<P.channels_out;++R)c[R]=C*c[R]/u;for(R=0;R<P.channels_out;++R)p[R]+=c[R],C-=c[R];for(u=0,R=0;R<P.channels_out;++R)u+=p[R];if(u>O.MAX_BITS_PER_GRANULE){var V=0;for(R=0;R<P.channels_out;++R)p[R]*=O.MAX_BITS_PER_GRANULE,p[R]/=u,V+=p[R];E(V<=O.MAX_BITS_PER_GRANULE)}return z},this.reduce_side=function(x,Q,p,j){E(j<=O.MAX_BITS_PER_GRANULE),E(x[0]+x[1]<=O.MAX_BITS_PER_GRANULE);var H=.33*(.5-Q)/.5;H<0&&(H=0),H>.5&&(H=.5);var Z=0|H*.5*(x[0]+x[1]);Z>O.MAX_BITS_PER_CHANNEL-x[0]&&(Z=O.MAX_BITS_PER_CHANNEL-x[0]),Z<0&&(Z=0),x[1]>=125&&(x[1]-Z>125?(x[0]<p&&(x[0]+=Z),x[1]-=Z):(x[0]+=x[1]-125,x[1]=125)),Z=x[0]+x[1],Z>j&&(x[0]=j*x[0]/Z,x[1]=j*x[1]/Z),E(x[0]<=O.MAX_BITS_PER_CHANNEL),E(x[1]<=O.MAX_BITS_PER_CHANNEL),E(x[0]+x[1]<=O.MAX_BITS_PER_GRANULE)},this.athAdjust=function(x,Q,p){var j=90.30873362,H=94.82444863,Z=f.FAST_LOG10_X(Q,10),P=x*x,o=0;return Z-=p,P>1e-20&&(o=1+f.FAST_LOG10_X(P,10/j)),o<0&&(o=0),Z*=o,Z+=p+j-H,Math.pow(10,.1*Z)},this.calc_xmin=function(x,Q,p,j){var H=0,Z=x.internal_flags,P,o=0,u=0,c=Z.ATH,R=p.xr,U=x.VBR==s.vbr_mtrh?1:0,C=Z.masking_lower;for((x.VBR==s.vbr_mtrh||x.VBR==s.vbr_mt)&&(C=1),P=0;P<p.psy_lmax;P++){var z,V,$,se,Ee,Ae;x.VBR==s.vbr_rh||x.VBR==s.vbr_mtrh?V=athAdjust(c.adjust,c.l[P],c.floor):V=c.adjust*c.l[P],Ee=p.width[P],$=V/Ee,se=N,Ae=Ee>>1,z=0;do{var Me,Ce;Me=R[o]*R[o],z+=Me,se+=Me<$?Me:$,o++,Ce=R[o]*R[o],z+=Ce,se+=Ce<$?Ce:$,o++}while(--Ae>0);if(z>V&&u++,P==y.SBPSY_l){var He=V*Z.nsPsy.longfact[P];se<He&&(se=He)}if(U!=0&&(V=se),!x.ATHonly){var lt=Q.en.l[P];if(lt>0){var He;He=z*Q.thm.l[P]*C/lt,U!=0&&(He*=Z.nsPsy.longfact[P]),V<He&&(V=He)}}U!=0?j[H++]=V:j[H++]=V*Z.nsPsy.longfact[P]}var Mt=575;if(p.block_type!=y.SHORT_TYPE)for(var I=576;I--!=0&&BitStream.EQ(R[I],0);)Mt=I;p.max_nonzero_coeff=Mt;for(var X=p.sfb_smin;P<p.psymax;X++,P+=3){var Ee,Ne,Te;for(x.VBR==s.vbr_rh||x.VBR==s.vbr_mtrh?Te=athAdjust(c.adjust,c.s[X],c.floor):Te=c.adjust*c.s[X],Ee=p.width[P],Ne=0;Ne<3;Ne++){var z=0,V,$,se,Ae=Ee>>1;$=Te/Ee,se=N;do{var Me,Ce;Me=R[o]*R[o],z+=Me,se+=Me<$?Me:$,o++,Ce=R[o]*R[o],z+=Ce,se+=Ce<$?Ce:$,o++}while(--Ae>0);if(z>Te&&u++,X==y.SBPSY_s){var He=Te*Z.nsPsy.shortfact[X];se<He&&(se=He)}if(U!=0?V=se:V=Te,!x.ATHonly&&!x.ATHshort){var lt=Q.en.s[X][Ne];if(lt>0){var He;He=z*Q.thm.s[X][Ne]*C/lt,U!=0&&(He*=Z.nsPsy.shortfact[X]),V<He&&(V=He)}}U!=0?j[H++]=V:j[H++]=V*Z.nsPsy.shortfact[X]}x.useTemporal&&(j[H-3]>j[H-3+1]&&(j[H-3+1]+=(j[H-3]-j[H-3+1])*Z.decay),j[H-3+1]>j[H-3+2]&&(j[H-3+2]+=(j[H-3+1]-j[H-3+2])*Z.decay))}return u};function ue(x){this.s=x}this.calc_noise_core=function(x,Q,p,j){var H=0,Z=Q.s,P=x.l3_enc;if(Z>x.count1)for(;p--!=0;){var o;o=x.xr[Z],Z++,H+=o*o,o=x.xr[Z],Z++,H+=o*o}else if(Z>x.big_values){var u=d(2);for(u[0]=0,u[1]=j;p--!=0;){var o;o=Math.abs(x.xr[Z])-u[P[Z]],Z++,H+=o*o,o=Math.abs(x.xr[Z])-u[P[Z]],Z++,H+=o*o}}else for(;p--!=0;){var o;o=Math.abs(x.xr[Z])-ee[P[Z]]*j,Z++,H+=o*o,o=Math.abs(x.xr[Z])-ee[P[Z]]*j,Z++,H+=o*o}return Q.s=Z,H},this.calc_noise=function(x,Q,p,j,H){var Z=0,P=0,o,u,c=0,R=0,U=0,C=-20,z=0,V=x.scalefac,$=0;for(j.over_SSD=0,o=0;o<x.psymax;o++){var se=x.global_gain-(V[$++]+(x.preflag!=0?F[o]:0)<<x.scalefac_scale+1)-x.subblock_gain[x.window[o]]*8,Ee=0;if(H!=null&&H.step[o]==se)Ee=H.noise[o],z+=x.width[o],p[Z++]=Ee/Q[P++],Ee=H.noise_log[o];else{var Ae=h(se);if(u=x.width[o]>>1,z+x.width[o]>x.max_nonzero_coeff){var Me;Me=x.max_nonzero_coeff-z+1,Me>0?u=Me>>1:u=0}var Ce=new ue(z);Ee=this.calc_noise_core(x,Ce,u,Ae),z=Ce.s,H!=null&&(H.step[o]=se,H.noise[o]=Ee),Ee=p[Z++]=Ee/Q[P++],Ee=f.FAST_LOG10(Math.max(Ee,1e-20)),H!=null&&(H.noise_log[o]=Ee)}if(H!=null&&(H.global_gain=x.global_gain),U+=Ee,Ee>0){var He;He=Math.max(0|Ee*10+.5,1),j.over_SSD+=He*He,c++,R+=Ee}C=Math.max(C,Ee)}return j.over_count=c,j.tot_noise=U,j.over_noise=R,j.max_noise=C,c},this.set_pinfo=function(x,Q,p,j,H){var Z=x.internal_flags,P,o,u,c,R,U=Q.scalefac_scale==0?.5:1,C=Q.scalefac,z=d(L3Side.SFBMAX),V=d(L3Side.SFBMAX),$=new CalcNoiseResult;calc_xmin(x,p,Q,z),calc_noise(Q,z,V,$,null);var se=0;for(o=Q.sfb_lmax,Q.block_type!=y.SHORT_TYPE&&Q.mixed_block_flag==0&&(o=22),P=0;P<o;P++){var Ee=Z.scalefac_band.l[P],Ae=Z.scalefac_band.l[P+1],Me=Ae-Ee;for(c=0;se<Ae;se++)c+=Q.xr[se]*Q.xr[se];c/=Me,R=1e15,Z.pinfo.en[j][H][P]=R*c,Z.pinfo.xfsf[j][H][P]=R*z[P]*V[P]/Me,p.en.l[P]>0&&!x.ATHonly?c=c/p.en.l[P]:c=0,Z.pinfo.thr[j][H][P]=R*Math.max(c*p.thm.l[P],Z.ATH.l[P]),Z.pinfo.LAMEsfb[j][H][P]=0,Q.preflag!=0&&P>=11&&(Z.pinfo.LAMEsfb[j][H][P]=-U*F[P]),P<y.SBPSY_l&&(E(C[P]>=0),Z.pinfo.LAMEsfb[j][H][P]-=U*C[P])}if(Q.block_type==y.SHORT_TYPE)for(o=P,P=Q.sfb_smin;P<y.SBMAX_s;P++)for(var Ee=Z.scalefac_band.s[P],Ae=Z.scalefac_band.s[P+1],Me=Ae-Ee,Ce=0;Ce<3;Ce++){for(c=0,u=Ee;u<Ae;u++)c+=Q.xr[se]*Q.xr[se],se++;c=Math.max(c/Me,1e-20),R=1e15,Z.pinfo.en_s[j][H][3*P+Ce]=R*c,Z.pinfo.xfsf_s[j][H][3*P+Ce]=R*z[o]*V[o]/Me,p.en.s[P][Ce]>0?c=c/p.en.s[P][Ce]:c=0,(x.ATHonly||x.ATHshort)&&(c=0),Z.pinfo.thr_s[j][H][3*P+Ce]=R*Math.max(c*p.thm.s[P][Ce],Z.ATH.s[P]),Z.pinfo.LAMEsfb_s[j][H][3*P+Ce]=-2*Q.subblock_gain[Ce],P<y.SBPSY_s&&(Z.pinfo.LAMEsfb_s[j][H][3*P+Ce]-=U*C[o]),o++}Z.pinfo.LAMEqss[j][H]=Q.global_gain,Z.pinfo.LAMEmainbits[j][H]=Q.part2_3_length+Q.part2_length,Z.pinfo.LAMEsfbits[j][H]=Q.part2_length,Z.pinfo.over[j][H]=$.over_count,Z.pinfo.max_noise[j][H]=$.max_noise*10,Z.pinfo.over_noise[j][H]=$.over_noise*10,Z.pinfo.tot_noise[j][H]=$.tot_noise*10,Z.pinfo.over_SSD[j][H]=$.over_SSD}}m.exports=b},bb2f:function(m,T,t){var r=t("d039");m.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},bd43:function(m,T,t){t.r(T),t.d(T,"isImageFile",function(){return s}),t.d(T,"isVideoFile",function(){return e}),t.d(T,"isImageVideoFile",function(){return f}),t.d(T,"isAudioFile",function(){return d}),t("45fc"),t("d3b7"),t("caad"),t("2532");var r=t("c9d9");function n(v,E){if(!(!E||!E.type))return v.some(function(y){return E.type.toLowerCase().includes(y)})}function s(v){return n(r.b,v)}function e(v){return n(r.c,v)}function f(v){return n(r.b,v)||n(r.c,v)}function d(v){return n(r.a,v)}},bd8b:function(m,T,t){var r=t("0206");r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n;var n=r.new_byte,s=r.new_double,e=r.new_float,f=r.new_float_n,d=r.new_int,v=r.new_int_n;r.assert;var E=t("2695"),y=t("ff81"),S=t("c0be"),O=t("2466"),b=t("a1b7"),g=t("4b5e"),B=t("9828");w.MFSIZE=3*1152+g.ENCDELAY-g.MDCTDELAY,w.MAX_HEADER_BUF=256,w.MAX_BITS_PER_CHANNEL=4095,w.MAX_BITS_PER_GRANULE=7680,w.BPC=320;function w(){var h=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=f([2,w.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new E,this.ms_ratio=e(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=d(2),this.CurrentStep=d(2),this.masking_lower=0,this.bv_scf=d(576),this.pseudohalf=d(B.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*w.BPC+1),this.itime=s(2),this.sideinfo_len=0,this.sb_sample=f([2,2,18,g.SBLIMIT]),this.amp_filter=e(32);function N(){this.write_timing=0,this.ptr=0,this.buf=n(h)}this.header=new Array(w.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new y,this.minval_l=e(g.CBANDS),this.minval_s=e(g.CBANDS),this.nb_1=f([4,g.CBANDS]),this.nb_2=f([4,g.CBANDS]),this.nb_s1=f([4,g.CBANDS]),this.nb_s2=f([4,g.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=e(4),this.loudness_sq=f([2,2]),this.loudness_sq_save=e(2),this.mld_l=e(g.SBMAX_l),this.mld_s=e(g.SBMAX_s),this.bm_l=d(g.SBMAX_l),this.bo_l=d(g.SBMAX_l),this.bm_s=d(g.SBMAX_s),this.bo_s=d(g.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=v([g.CBANDS,2]),this.s3ind_s=v([g.CBANDS,2]),this.numlines_s=d(g.CBANDS),this.numlines_l=d(g.CBANDS),this.rnumlines_l=e(g.CBANDS),this.mld_cb_l=e(g.CBANDS),this.mld_cb_s=e(g.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=e(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=d(2),this.nsPsy=new S,this.VBR_seek_table=new O,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=v([16,4+1]),this.bitrate_blockType_Hist=v([16,4+1+1]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var Y=0;Y<this.en.length;Y++)this.en[Y]=new b;for(var Y=0;Y<this.thm.length;Y++)this.thm[Y]=new b;for(var Y=0;Y<this.header.length;Y++)this.header[Y]=new N}m.exports=w},bea1:function(m,T,t){T.__esModule=!0,T.URL=T.TEXT=T.NL=T.EMAIL=T.MAILTOEMAIL=T.Base=void 0;var r=t("46f3"),n=t("254c"),s=t("7656");function e(O){return O instanceof s.DOMAIN||O instanceof s.TLD}var f=(0,r.createTokenClass)();f.prototype={type:"token",isLink:!1,toString:function(){for(var b=[],g=0;g<this.v.length;g++)b.push(this.v[g].toString());return b.join("")},toHref:function(){return this.toString()},toObject:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(b)}}};var d=(0,n.inherits)(f,(0,r.createTokenClass)(),{type:"email",isLink:!0}),v=(0,n.inherits)(f,(0,r.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),E=(0,n.inherits)(f,(0,r.createTokenClass)(),{type:"text"}),y=(0,n.inherits)(f,(0,r.createTokenClass)(),{type:"nl"}),S=(0,n.inherits)(f,(0,r.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",g=!1,B=!1,w=this.v,h=[],N=0;w[N]instanceof s.PROTOCOL;)g=!0,h.push(w[N].toString().toLowerCase()),N++;for(;w[N]instanceof s.SLASH;)B=!0,h.push(w[N].toString()),N++;for(;e(w[N]);)h.push(w[N].toString().toLowerCase()),N++;for(;N<w.length;N++)h.push(w[N].toString());return h=h.join(""),g||B||(h=b+"://"+h),h},hasProtocol:function(){return this.v[0]instanceof s.PROTOCOL}});T.Base=f,T.MAILTOEMAIL=d,T.EMAIL=v,T.NL=y,T.TEXT=E,T.URL=S},c04e:function(m,T,t){var r=t("da84"),n=t("c65b"),s=t("861d"),e=t("d9b5"),f=t("dc4a"),d=t("485a"),v=t("b622"),E=r.TypeError,y=v("toPrimitive");m.exports=function(S,O){if(!s(S)||e(S))return S;var b=f(S,y),g;if(b){if(O===void 0&&(O="default"),g=n(b,S,O),!s(g)||e(g))return g;throw E("Can't convert object to primitive value")}return O===void 0&&(O="number"),d(S,O)}},c0b6:function(m,T,t){var r=t("23e7"),n=t("0538");r({target:"Function",proto:!0,forced:Function.bind!==n},{bind:n})},c0be:function(m,T,t){var r=t("0206");r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var n=r.new_float,s=r.new_float_n,e=r.new_int;r.new_int_n,r.assert;var f=t("4b5e");function d(){this.last_en_subshort=s([4,9]),this.lastAttacks=e(4),this.pefirbuf=n(19),this.longfact=n(f.SBMAX_l),this.shortfact=n(f.SBMAX_s),this.attackthre=0,this.attackthre_s=0}m.exports=d},c1ac:function(m,T,t){var r=t("ebb5"),n=t("b727").filter,s=t("1448"),e=r.aTypedArray,f=r.exportTypedArrayMethod;f("filter",function(v){var E=n(e(this),v,arguments.length>1?arguments[1]:void 0);return s(this,E)})},c430:function(m,T){m.exports=!1},c5d0:function(m,T,t){var r=t("23e7"),n=t("857a"),s=t("af03");r({target:"String",proto:!0,forced:s("italics")},{italics:function(){return n(this,"i","","")}})},c607:function(m,T,t){var r=t("da84"),n=t("83ab"),s=t("fce3"),e=t("c6b6"),f=t("9bf2").f,d=t("69f3").get,v=RegExp.prototype,E=r.TypeError;n&&s&&f(v,"dotAll",{configurable:!0,get:function(){if(this!==v){if(e(this)==="RegExp")return!!d(this).dotAll;throw E("Incompatible receiver, RegExp required")}}})},c65b:function(m,T,t){var r=t("40d5"),n=Function.prototype.call;m.exports=r?n.bind(n):function(){return n.apply(n,arguments)}},c6b6:function(m,T,t){var r=t("e330"),n=r({}.toString),s=r("".slice);m.exports=function(e){return s(n(e),8,-1)}},c6cd:function(m,T,t){var r=t("da84"),n=t("ce4e"),s="__core-js_shared__",e=r[s]||n(s,{});m.exports=e},c770:function(m,T,t){var r=t("e330"),n=r("".replace),s=function(d){return String(Error(d).stack)}("zxcasd"),e=/\n\s*at [^:]*:[^\n]*/,f=e.test(s);m.exports=function(d,v){if(f&&typeof d=="string")for(;v--;)d=n(d,e,"");return d}},c8ba:function(m,T){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}m.exports=t},c8d2:function(m,T,t){var r=t("5e77").PROPER,n=t("d039"),s=t("5899"),e="\u200B\x85\u180E";m.exports=function(f){return n(function(){return!!s[f]()||e[f]()!==e||r&&s[f].name!==f})}},c975:function(m,T,t){var r=t("23e7"),n=t("e330"),s=t("4d64").indexOf,e=t("a640"),f=n([].indexOf),d=!!f&&1/f([1],1,-0)<0,v=e("indexOf");r({target:"Array",proto:!0,forced:d||!v},{indexOf:function(y){var S=arguments.length>1?arguments[1]:void 0;return d?f(this,y,S)||0:s(this,y,S)}})},c9d9:function(m,T,t){t.d(T,"b",function(){return r}),t.d(T,"c",function(){return n}),t.d(T,"a",function(){return s});var r=["png","jpg","jpeg","webp","svg","gif"],n=["mp4","video/ogg","webm","quicktime"],s=["mp3","audio/ogg","wav","mpeg"]},ca84:function(m,T,t){var r=t("e330"),n=t("1a2d"),s=t("fc6a"),e=t("4d64").indexOf,f=t("d012"),d=r([].push);m.exports=function(v,E){var y=s(v),S=0,O=[],b;for(b in y)!n(f,b)&&n(y,b)&&d(O,b);for(;E.length>S;)n(y,b=E[S++])&&(~e(O,b)||d(O,b));return O}},ca91:function(m,T,t){var r=t("ebb5"),n=t("d58f").left,s=r.aTypedArray,e=r.exportTypedArrayMethod;e("reduce",function(d){var v=arguments.length;return n(s(this),d,v,v>1?arguments[1]:void 0)})},caad:function(m,T,t){var r=t("23e7"),n=t("4d64").includes,s=t("44d2");r({target:"Array",proto:!0},{includes:function(f){return n(this,f,arguments.length>1?arguments[1]:void 0)}}),s("includes")},cc12:function(m,T,t){var r=t("da84"),n=t("861d"),s=r.document,e=n(s)&&n(s.createElement);m.exports=function(f){return e?s.createElement(f):{}}},cc71:function(m,T,t){var r=t("23e7"),n=t("857a"),s=t("af03");r({target:"String",proto:!0,forced:s("bold")},{bold:function(){return n(this,"b","","")}})},cd26:function(m,T,t){var r=t("ebb5"),n=r.aTypedArray,s=r.exportTypedArrayMethod,e=Math.floor;s("reverse",function(){for(var d=this,v=n(d).length,E=e(v/2),y=0,S;y<E;)S=d[y],d[y++]=d[--v],d[v]=S;return d})},cdf9:function(m,T,t){var r=t("825a"),n=t("861d"),s=t("f069");m.exports=function(e,f){if(r(e),n(f)&&f.constructor===e)return f;var d=s.f(e),v=d.resolve;return v(f),d.promise}},ce4e:function(m,T,t){var r=t("da84"),n=Object.defineProperty;m.exports=function(s,e){try{n(r,s,{value:e,configurable:!0,writable:!0})}catch{r[s]=e}return e}},cfc3:function(m,T,t){var r=t("74e8");r("Float32",function(n){return function(e,f,d){return n(this,e,f,d)}})},d012:function(m,T){m.exports={}},d039:function(m,T){m.exports=function(t){try{return!!t()}catch{return!0}}},d066:function(m,T,t){var r=t("da84"),n=t("1626"),s=function(e){return n(e)?e:void 0};m.exports=function(e,f){return arguments.length<2?s(r[e]):r[e]&&r[e][f]}},d139:function(m,T,t){var r=t("ebb5"),n=t("b727").find,s=r.aTypedArray,e=r.exportTypedArrayMethod;e("find",function(d){return n(s(this),d,arguments.length>1?arguments[1]:void 0)})},d1e7:function(m,T,t){var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,s=n&&!r.call({1:2},1);T.f=s?function(f){var d=n(this,f);return!!d&&d.enumerable}:r},d28b:function(m,T,t){var r=t("746f");r("iterator")},d2bb:function(m,T,t){var r=t("e330"),n=t("825a"),s=t("3bbe");m.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,f={},d;try{d=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),d(f,[]),e=f instanceof Array}catch{}return function(E,y){return n(E),s(y),e?d(E,y):E.__proto__=y,E}}():void 0)},d3b7:function(m,T,t){var r=t("00ee"),n=t("6eeb"),s=t("b041");r||n(Object.prototype,"toString",s,{unsafe:!0})},d401:function(m,T,t){var r=t("6eeb"),n=t("aa1f"),s=Error.prototype;s.toString!==n&&r(s,"toString",n)},d44e:function(m,T,t){var r=t("9bf2").f,n=t("1a2d"),s=t("b622"),e=s("toStringTag");m.exports=function(f,d,v){f&&!v&&(f=f.prototype),f&&!n(f,e)&&r(f,e,{configurable:!0,value:d})}},d4c3:function(m,T,t){var r=t("342f"),n=t("da84");m.exports=/ipad|iphone|ipod/i.test(r)&&n.Pebble!==void 0},d58f:function(m,T,t){var r=t("da84"),n=t("59ed"),s=t("7b0b"),e=t("44ad"),f=t("07fa"),d=r.TypeError,v=function(E){return function(y,S,O,b){n(S);var g=s(y),B=e(g),w=f(g),h=E?w-1:0,N=E?-1:1;if(O<2)for(;;){if(h in B){b=B[h],h+=N;break}if(h+=N,E?h<0:w<=h)throw d("Reduce of empty array with no initial value")}for(;E?h>=0:w>h;h+=N)h in B&&(b=S(b,B[h],h,g));return b}};m.exports={left:v(!1),right:v(!0)}},d5d6:function(m,T,t){var r=t("ebb5"),n=t("b727").forEach,s=r.aTypedArray,e=r.exportTypedArrayMethod;e("forEach",function(d){n(s(this),d,arguments.length>1?arguments[1]:void 0)})},d6d6:function(m,T,t){var r=t("da84"),n=r.TypeError;m.exports=function(s,e){if(s<e)throw n("Not enough arguments");return s}},d784:function(m,T,t){t("ac1f");var r=t("e330"),n=t("6eeb"),s=t("9263"),e=t("d039"),f=t("b622"),d=t("9112"),v=f("species"),E=RegExp.prototype;m.exports=function(y,S,O,b){var g=f(y),B=!e(function(){var Y={};return Y[g]=function(){return 7},""[y](Y)!=7}),w=B&&!e(function(){var Y=!1,A=/a/;return y==="split"&&(A={},A.constructor={},A.constructor[v]=function(){return A},A.flags="",A[g]=/./[g]),A.exec=function(){return Y=!0,null},A[g](""),!Y});if(!B||!w||O){var h=r(/./[g]),N=S(g,""[y],function(Y,A,L,D,a){var F=r(Y),k=A.exec;return k===s||k===E.exec?B&&!a?{done:!0,value:h(A,L,D)}:{done:!0,value:F(L,A,D)}:{done:!1}});n(String.prototype,y,N[0]),n(E,g,N[1])}b&&d(E[g],"sham",!0)}},d81d:function(m,T,t){var r=t("23e7"),n=t("b727").map,s=t("1dde"),e=s("map");r({target:"Array",proto:!0,forced:!e},{map:function(d){return n(this,d,arguments.length>1?arguments[1]:void 0)}})},d86b:function(m,T,t){var r=t("d039");m.exports=r(function(){if(typeof ArrayBuffer=="function"){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}})},d998:function(m,T,t){var r=t("342f");m.exports=/MSIE|Trident/.test(r)},d9b5:function(m,T,t){var r=t("da84"),n=t("d066"),s=t("1626"),e=t("3a9b"),f=t("fdbf"),d=r.Object;m.exports=f?function(v){return typeof v=="symbol"}:function(v){var E=n("Symbol");return s(E)&&e(E.prototype,d(v))}},d9be:function(m,T,t){var r=t("0206"),n=r.System;r.VbrMode,r.Float,r.ShortBlock,r.Util;var s=r.Arrays;r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n;var e=r.new_int;r.new_int_n;var f=r.assert,d=t("4b5e"),v=t("5f84"),E=t("f3b5"),y=t("bb22");function S(){var O=null;this.qupvt=null,this.setModules=function(P){this.qupvt=P,O=P};function b(P){this.bits=0|P}var g=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function B(P,o,u,c,R,U){var C=.5946/o;for(f(P>0),P=P>>1;P--!=0;)R[U++]=C>u[c++]?0:1,R[U++]=C>u[c++]?0:1}function w(P,o,u,c,R,U){f(P>0),P=P>>1;var C=P%2;for(P=P>>1;P--!=0;){var z,V,$,se,Ee,Ae,Me,Ce;z=u[c++]*o,V=u[c++]*o,Ee=0|z,$=u[c++]*o,Ae=0|V,se=u[c++]*o,Me=0|$,z+=O.adj43[Ee],Ce=0|se,V+=O.adj43[Ae],R[U++]=0|z,$+=O.adj43[Me],R[U++]=0|V,se+=O.adj43[Ce],R[U++]=0|$,R[U++]=0|se}if(C!=0){var z,V,Ee,Ae;z=u[c++]*o,V=u[c++]*o,Ee=0|z,Ae=0|V,z+=O.adj43[Ee],V+=O.adj43[Ae],R[U++]=0|z,R[U++]=0|V}}function h(P,o,u,c,R){var U,C,z=0,V,$=0,se=0,Ee=0,Ae=o,Me=0,Ce=Ae,He=0,lt=P,Mt=0;for(V=R!=null&&c.global_gain==R.global_gain,c.block_type==d.SHORT_TYPE?C=38:C=21,U=0;U<=C;U++){var I=-1;if((V||c.block_type==d.NORM_TYPE)&&(I=c.global_gain-(c.scalefac[U]+(c.preflag!=0?O.pretab[U]:0)<<c.scalefac_scale+1)-c.subblock_gain[c.window[U]]*8),f(c.width[U]>=0),V&&R.step[U]==I)$!=0&&(w($,u,lt,Mt,Ce,He),$=0),se!=0&&(B(se,u,lt,Mt,Ce,He),se=0);else{var X=c.width[U];if(z+c.width[U]>c.max_nonzero_coeff){var Ne;Ne=c.max_nonzero_coeff-z+1,s.fill(o,c.max_nonzero_coeff,576,0),X=Ne,X<0&&(X=0),U=C+1}if($==0&&se==0&&(Ce=Ae,He=Me,lt=P,Mt=Ee),R!=null&&R.sfb_count1>0&&U>=R.sfb_count1&&R.step[U]>0&&I>=R.step[U]?($!=0&&(w($,u,lt,Mt,Ce,He),$=0,Ce=Ae,He=Me,lt=P,Mt=Ee),se+=X):(se!=0&&(B(se,u,lt,Mt,Ce,He),se=0,Ce=Ae,He=Me,lt=P,Mt=Ee),$+=X),X<=0){se!=0&&(B(se,u,lt,Mt,Ce,He),se=0),$!=0&&(w($,u,lt,Mt,Ce,He),$=0);break}}U<=C&&(Me+=c.width[U],Ee+=c.width[U],z+=c.width[U])}$!=0&&(w($,u,lt,Mt,Ce,He),$=0),se!=0&&(B(se,u,lt,Mt,Ce,He),se=0)}function N(P,o,u){var c=0,R=0;do{var U=P[o++],C=P[o++];c<U&&(c=U),R<C&&(R=C)}while(o<u);return c<R&&(c=R),c}function Y(P,o,u,c,R,U){var C=v.ht[c].xlen*65536+v.ht[R].xlen,z=0,V;do{var $=P[o++],se=P[o++];$!=0&&($>14&&($=15,z+=C),$*=16),se!=0&&(se>14&&(se=15,z+=C),$+=se),z+=v.largetbl[$]}while(o<u);return V=z&65535,z>>=16,z>V&&(z=V,c=R),U.bits+=z,c}function A(P,o,u,c){var R=0,U=v.ht[1].hlen;do{var C=P[o+0]*2+P[o+1];o+=2,R+=U[C]}while(o<u);return c.bits+=R,1}function L(P,o,u,c,R){var U=0,C,z=v.ht[c].xlen,V;c==2?V=v.table23:V=v.table56;do{var $=P[o+0]*z+P[o+1];o+=2,U+=V[$]}while(o<u);return C=U&65535,U>>=16,U>C&&(U=C,c++),R.bits+=U,c}function D(P,o,u,c,R){var U=0,C=0,z=0,V=v.ht[c].xlen,$=v.ht[c].hlen,se=v.ht[c+1].hlen,Ee=v.ht[c+2].hlen;do{var Ae=P[o+0]*V+P[o+1];o+=2,U+=$[Ae],C+=se[Ae],z+=Ee[Ae]}while(o<u);var Me=c;return U>C&&(U=C,Me++),U>z&&(U=z,Me=c+2),R.bits+=U,Me}var a=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function F(P,o,u,c){var R=N(P,o,u);switch(R){case 0:return R;case 1:return A(P,o,u,c);case 2:case 3:return L(P,o,u,a[R-1],c);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return D(P,o,u,a[R-1],c);default:if(R>y.IXMAX_VAL)return c.bits=y.LARGE_BITS,-1;R-=15;var U;for(U=24;U<32&&!(v.ht[U].linmax>=R);U++);var C;for(C=U-8;C<24&&!(v.ht[C].linmax>=R);C++);return Y(P,o,u,C,U,c)}}this.noquant_count_bits=function(P,o,u){var c=o.l3_enc,R=Math.min(576,o.max_nonzero_coeff+2>>1<<1);for(u!=null&&(u.sfb_count1=0);R>1&&(c[R-1]|c[R-2])==0;R-=2);o.count1=R;for(var U=0,C=0;R>3;R-=4){var z;if(((c[R-1]|c[R-2]|c[R-3]|c[R-4])&2147483647)>1)break;z=((c[R-4]*2+c[R-3])*2+c[R-2])*2+c[R-1],U+=v.t32l[z],C+=v.t33l[z]}var V=U;if(o.count1table_select=0,U>C&&(V=C,o.count1table_select=1),o.count1bits=V,o.big_values=R,R==0)return V;if(o.block_type==d.SHORT_TYPE)U=3*P.scalefac_band.s[3],U>o.big_values&&(U=o.big_values),C=o.big_values;else if(o.block_type==d.NORM_TYPE){if(f(R<=576),U=o.region0_count=P.bv_scf[R-2],C=o.region1_count=P.bv_scf[R-1],f(U+C+2<d.SBPSY_l),C=P.scalefac_band.l[U+C+2],U=P.scalefac_band.l[U+1],C<R){var $=new b(V);o.table_select[2]=F(c,C,R,$),V=$.bits}}else o.region0_count=7,o.region1_count=d.SBMAX_l-1-7-1,U=P.scalefac_band.l[7+1],C=R,U>C&&(U=C);if(U=Math.min(U,R),C=Math.min(C,R),f(U>=0),f(C>=0),0<U){var $=new b(V);o.table_select[0]=F(c,0,U,$),V=$.bits}if(U<C){var $=new b(V);o.table_select[1]=F(c,U,C,$),V=$.bits}if(P.use_best_huffman==2&&(o.part2_3_length=V,best_huffman_divide(P,o),V=o.part2_3_length),u!=null&&o.block_type==d.NORM_TYPE){for(var se=0;P.scalefac_band.l[se]<o.big_values;)se++;u.sfb_count1=se}return V},this.count_bits=function(P,o,u,c){var R=u.l3_enc,U=y.IXMAX_VAL/O.IPOW20(u.global_gain);if(u.xrpow_max>U)return y.LARGE_BITS;if(h(o,R,O.IPOW20(u.global_gain),u,c),(P.substep_shaping&2)!=0)for(var C=0,z=u.global_gain+u.scalefac_scale,V=.634521682242439/O.IPOW20(z),$=0;$<u.sfbmax;$++){var se=u.width[$];if(f(se>=0),P.pseudohalf[$]==0)C+=se;else{var Ee;for(Ee=C,C+=se;Ee<C;++Ee)R[Ee]=o[Ee]>=V?R[Ee]:0}}return this.noquant_count_bits(P,u,c)};function k(P,o,u,c,R,U,C){for(var z=o.big_values,V=0;V<=7+15;V++)c[V]=y.LARGE_BITS;for(var V=0;V<16;V++){var $=P.scalefac_band.l[V+1];if($>=z)break;var se=0,Ee=new b(se),Ae=F(u,0,$,Ee);se=Ee.bits;for(var Me=0;Me<8;Me++){var Ce=P.scalefac_band.l[V+Me+2];if(Ce>=z)break;var He=se;Ee=new b(He);var lt=F(u,$,Ce,Ee);He=Ee.bits,c[V+Me]>He&&(c[V+Me]=He,R[V+Me]=V,U[V+Me]=Ae,C[V+Me]=lt)}}}function _(P,o,u,c,R,U,C,z){for(var V=o.big_values,$=2;$<d.SBMAX_l+1;$++){var se=P.scalefac_band.l[$];if(se>=V)break;var Ee=R[$-2]+o.count1bits;if(u.part2_3_length<=Ee)break;var Ae=new b(Ee),Me=F(c,se,V,Ae);Ee=Ae.bits,!(u.part2_3_length<=Ee)&&(u.assign(o),u.part2_3_length=Ee,u.region0_count=U[$-2],u.region1_count=$-2-U[$-2],u.table_select[0]=C[$-2],u.table_select[1]=z[$-2],u.table_select[2]=Me)}}this.best_huffman_divide=function(P,o){var u=new E,c=o.l3_enc,R=e(7+15+1),U=e(7+15+1),C=e(7+15+1),z=e(7+15+1);if(!(o.block_type==d.SHORT_TYPE&&P.mode_gr==1)){u.assign(o),o.block_type==d.NORM_TYPE&&(k(P,o,c,R,U,C,z),_(P,u,o,c,R,U,C,z));var V=u.big_values;if(!(V==0||(c[V-2]|c[V-1])>1)&&(V=o.count1+2,!(V>576))){u.assign(o),u.count1=V;var $=0,se=0;for(f(V<=576);V>u.big_values;V-=4){var Ee=((c[V-4]*2+c[V-3])*2+c[V-2])*2+c[V-1];$+=v.t32l[Ee],se+=v.t33l[Ee]}if(u.big_values=V,u.count1table_select=0,$>se&&($=se,u.count1table_select=1),u.count1bits=$,u.block_type==d.NORM_TYPE)_(P,u,o,c,R,U,C,z);else{if(u.part2_3_length=$,$=P.scalefac_band.l[7+1],$>V&&($=V),$>0){var Ae=new b(u.part2_3_length);u.table_select[0]=F(c,0,$,Ae),u.part2_3_length=Ae.bits}if(V>$){var Ae=new b(u.part2_3_length);u.table_select[1]=F(c,$,V,Ae),u.part2_3_length=Ae.bits}o.part2_3_length>u.part2_3_length&&o.assign(u)}}}};var ee=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],q=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],re=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],Oe=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];S.slen1_tab=re,S.slen2_tab=Oe;function ue(P,o){for(var u,c=o.tt[1][P],R=o.tt[0][P],U=0;U<v.scfsi_band.length-1;U++){for(u=v.scfsi_band[U];u<v.scfsi_band[U+1]&&!(R.scalefac[u]!=c.scalefac[u]&&c.scalefac[u]>=0);u++);if(u==v.scfsi_band[U+1]){for(u=v.scfsi_band[U];u<v.scfsi_band[U+1];u++)c.scalefac[u]=-1;o.scfsi[P][U]=1}}var C=0,z=0;for(u=0;u<11;u++)c.scalefac[u]!=-1&&(z++,C<c.scalefac[u]&&(C=c.scalefac[u]));for(var V=0,$=0;u<d.SBPSY_l;u++)c.scalefac[u]!=-1&&($++,V<c.scalefac[u]&&(V=c.scalefac[u]));for(var U=0;U<16;U++)if(C<ee[U]&&V<q[U]){var se=re[U]*z+Oe[U]*$;c.part2_length>se&&(c.part2_length=se,c.scalefac_compress=U)}}this.best_scalefac_store=function(P,o,u,c){var R=c.tt[o][u],U,C,z,V,$=0;for(z=0,U=0;U<R.sfbmax;U++){var se=R.width[U];for(f(se>=0),z+=se,V=-se;V<0&&R.l3_enc[V+z]==0;V++);V==0&&(R.scalefac[U]=$=-2)}if(R.scalefac_scale==0&&R.preflag==0){var Ee=0;for(U=0;U<R.sfbmax;U++)R.scalefac[U]>0&&(Ee|=R.scalefac[U]);if((Ee&1)==0&&Ee!=0){for(U=0;U<R.sfbmax;U++)R.scalefac[U]>0&&(R.scalefac[U]>>=1);R.scalefac_scale=$=1}}if(R.preflag==0&&R.block_type!=d.SHORT_TYPE&&P.mode_gr==2){for(U=11;U<d.SBPSY_l&&!(R.scalefac[U]<O.pretab[U]&&R.scalefac[U]!=-2);U++);if(U==d.SBPSY_l){for(U=11;U<d.SBPSY_l;U++)R.scalefac[U]>0&&(R.scalefac[U]-=O.pretab[U]);R.preflag=$=1}}for(C=0;C<4;C++)c.scfsi[u][C]=0;for(P.mode_gr==2&&o==1&&c.tt[0][u].block_type!=d.SHORT_TYPE&&c.tt[1][u].block_type!=d.SHORT_TYPE&&(ue(u,c),$=0),U=0;U<R.sfbmax;U++)R.scalefac[U]==-2&&(R.scalefac[U]=0);$!=0&&(P.mode_gr==2?this.scale_bitcount(R):this.scale_bitcount_lsf(P,R))};function x(P,o){for(var u=0;u<o;++u)if(P[u]<0)return!1;return!0}var Q=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],p=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],j=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(P){var o,u,c=0,R=0,U,C=P.scalefac;if(f(x(C,P.sfbmax)),P.block_type==d.SHORT_TYPE)U=Q,P.mixed_block_flag!=0&&(U=p);else if(U=j,P.preflag==0){for(u=11;u<d.SBPSY_l&&!(C[u]<O.pretab[u]);u++);if(u==d.SBPSY_l)for(P.preflag=1,u=11;u<d.SBPSY_l;u++)C[u]-=O.pretab[u]}for(u=0;u<P.sfbdivide;u++)c<C[u]&&(c=C[u]);for(;u<P.sfbmax;u++)R<C[u]&&(R=C[u]);for(P.part2_length=y.LARGE_BITS,o=0;o<16;o++)c<ee[o]&&R<q[o]&&P.part2_length>U[o]&&(P.part2_length=U[o],P.scalefac_compress=o);return P.part2_length==y.LARGE_BITS};var H=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(P,o){var u,c,R,U,C,z,V,$,se=e(4),Ee=o.scalefac;for(o.preflag!=0?u=2:u=0,V=0;V<4;V++)se[V]=0;if(o.block_type==d.SHORT_TYPE){c=1;var Ae=O.nr_of_sfb_block[u][c];for($=0,R=0;R<4;R++)for(U=Ae[R]/3,V=0;V<U;V++,$++)for(C=0;C<3;C++)Ee[$*3+C]>se[R]&&(se[R]=Ee[$*3+C])}else{c=0;var Ae=O.nr_of_sfb_block[u][c];for($=0,R=0;R<4;R++)for(U=Ae[R],V=0;V<U;V++,$++)Ee[$]>se[R]&&(se[R]=Ee[$])}for(z=!1,R=0;R<4;R++)se[R]>H[u][R]&&(z=!0);if(!z){var Me,Ce,He,lt;for(o.sfb_partition_table=O.nr_of_sfb_block[u][c],R=0;R<4;R++)o.slen[R]=Z[se[R]];switch(Me=o.slen[0],Ce=o.slen[1],He=o.slen[2],lt=o.slen[3],u){case 0:o.scalefac_compress=(Me*5+Ce<<4)+(He<<2)+lt;break;case 1:o.scalefac_compress=400+(Me*5+Ce<<2)+He;break;case 2:o.scalefac_compress=500+Me*3+Ce;break;default:n.err.printf(`intensity stereo not implemented yet
`);break}}if(!z)for(f(o.sfb_partition_table!=null),o.part2_length=0,R=0;R<4;R++)o.part2_length+=o.slen[R]*o.sfb_partition_table[R];return z};var Z=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(P){for(var o=2;o<=576;o+=2){for(var u=0,c;P.scalefac_band.l[++u]<o;);for(c=g[u][0];P.scalefac_band.l[c+1]>o;)c--;for(c<0&&(c=g[u][0]),P.bv_scf[o-2]=c,c=g[u][1];P.scalefac_band.l[c+P.bv_scf[o-2]+2]>o;)c--;c<0&&(c=g[u][1]),P.bv_scf[o-1]=c}}}m.exports=S},d9e2:function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("2ba4"),e=t("e5cb"),f="WebAssembly",d=n[f],v=Error("e",{cause:7}).cause!==7,E=function(S,O){var b={};b[S]=e(S,O,v),r({global:!0,forced:v},b)},y=function(S,O){if(d&&d[S]){var b={};b[S]=e(f+"."+S,O,v),r({target:f,stat:!0,forced:v},b)}};E("Error",function(S){return function(b){return s(S,this,arguments)}}),E("EvalError",function(S){return function(b){return s(S,this,arguments)}}),E("RangeError",function(S){return function(b){return s(S,this,arguments)}}),E("ReferenceError",function(S){return function(b){return s(S,this,arguments)}}),E("SyntaxError",function(S){return function(b){return s(S,this,arguments)}}),E("TypeError",function(S){return function(b){return s(S,this,arguments)}}),E("URIError",function(S){return function(b){return s(S,this,arguments)}}),y("CompileError",function(S){return function(b){return s(S,this,arguments)}}),y("LinkError",function(S){return function(b){return s(S,this,arguments)}}),y("RuntimeError",function(S){return function(b){return s(S,this,arguments)}})},da58:function(m,T,t){t.d(T,"a",function(){return wt});function r(Se){if(typeof Se!="string"||!Se)throw new Error("expected a non-empty string, got: "+Se)}function n(Se){if(typeof Se!="number")throw new Error("expected a number, got: "+Se)}const s=1,e=1,f="emoji",d="keyvalue",v="favorites",E="tokens",y="tokens",S="unicode",O="count",b="group",g="order",B="group-order",w="eTag",h="url",N="skinTone",Y="readonly",A="readwrite",L="skinUnicodes",D="skinUnicodes",a="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",F="en";function k(Se,me){const Re=new Set,Ue=[];for(const G of Se){const W=me(G);Re.has(W)||(Re.add(W),Ue.push(G))}return Ue}function _(Se){return k(Se,me=>me.unicode)}function ee(Se){function me(Re,Ue,G){const W=Ue?Se.createObjectStore(Re,{keyPath:Ue}):Se.createObjectStore(Re);if(G)for(const[ie,[ce,pe]]of Object.entries(G))W.createIndex(ie,ce,{multiEntry:pe});return W}me(d),me(f,S,{[y]:[E,!0],[B]:[[b,g]],[L]:[D,!0]}),me(v,void 0,{[O]:[""]})}const q={},re={},Oe={};function ue(Se,me,Re){Re.onerror=()=>me(Re.error),Re.onblocked=()=>me(new Error("IDB blocked")),Re.onsuccess=()=>Se(Re.result)}async function x(Se){const me=await new Promise((Re,Ue)=>{const G=indexedDB.open(Se,s);q[Se]=G,G.onupgradeneeded=W=>{W.oldVersion<e&&ee(G.result)},ue(Re,Ue,G)});return me.onclose=()=>j(Se),me}function Q(Se){return re[Se]||(re[Se]=x(Se)),re[Se]}function p(Se,me,Re,Ue){return new Promise((G,W)=>{const ie=Se.transaction(me,Re,{durability:"relaxed"}),ce=typeof me=="string"?ie.objectStore(me):me.map(te=>ie.objectStore(te));let pe;Ue(ce,ie,te=>{pe=te}),ie.oncomplete=()=>G(pe),ie.onerror=()=>W(ie.error)})}function j(Se){const me=q[Se],Re=me&&me.result;if(Re){Re.close();const Ue=Oe[Se];if(Ue)for(const G of Ue)G()}delete q[Se],delete re[Se],delete Oe[Se]}function H(Se){return new Promise((me,Re)=>{j(Se);const Ue=indexedDB.deleteDatabase(Se);ue(me,Re,Ue)})}function Z(Se,me){let Re=Oe[Se];Re||(Re=Oe[Se]=[]),Re.push(me)}const P=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function o(Se){return Se.split(/[\s_]+/).map(me=>!me.match(/\w/)||P.has(me)?me.toLowerCase():me.replace(/[)(:,]/g,"").replace(//g,"'").toLowerCase()).filter(Boolean)}const u=2;function c(Se){return Se.filter(Boolean).map(me=>me.toLowerCase()).filter(me=>me.length>=u)}function R(Se){return Se.map(({annotation:Re,emoticon:Ue,group:G,order:W,shortcodes:ie,skins:ce,tags:pe,emoji:te,version:he})=>{const be=[...new Set(c([...(ie||[]).map(o).flat(),...pe.map(o).flat(),...o(Re),Ue]))].sort(),ve={annotation:Re,group:G,order:W,tags:pe,tokens:be,unicode:te,version:he};if(Ue&&(ve.emoticon=Ue),ie&&(ve.shortcodes=ie),ce){ve.skinTones=[],ve.skinUnicodes=[],ve.skinVersions=[];for(const{tone:Ie,emoji:xe,version:Le}of ce)ve.skinTones.push(Ie),ve.skinUnicodes.push(xe),ve.skinVersions.push(Le)}return ve})}function U(Se,me,Re,Ue){Se[me](Re).onsuccess=G=>Ue&&Ue(G.target.result)}function C(Se,me,Re){U(Se,"get",me,Re)}function z(Se,me,Re){U(Se,"getAll",me,Re)}function V(Se){Se.commit&&Se.commit()}function $(Se,me){let Re=Se[0];for(let Ue=1;Ue<Se.length;Ue++){const G=Se[Ue];me(Re)>me(G)&&(Re=G)}return Re}function se(Se,me){const Re=$(Se,G=>G.length),Ue=[];for(const G of Re)Se.some(W=>W.findIndex(ie=>me(ie)===me(G))===-1)||Ue.push(G);return Ue}async function Ee(Se){return!await X(Se,d,h)}async function Ae(Se,me,Re){const[Ue,G]=await Promise.all([w,h].map(W=>X(Se,d,W)));return Ue===Re&&G===me}async function Me(Se,me){return p(Se,f,Y,(Ue,G,W)=>{let ie;const ce=()=>{Ue.getAll(ie&&IDBKeyRange.lowerBound(ie,!0),50).onsuccess=pe=>{const te=pe.target.result;for(const he of te)if(ie=he.unicode,me(he))return W(he);if(te.length<50)return W();ce()}};ce()})}async function Ce(Se,me,Re,Ue){try{const G=R(me);await p(Se,[f,d],A,([W,ie],ce)=>{let pe,te,he=0;function be(){++he===2&&ve()}function ve(){if(!(pe===Ue&&te===Re)){W.clear();for(const Ie of G)W.put(Ie);ie.put(Ue,w),ie.put(Re,h),V(ce)}}C(ie,w,Ie=>{pe=Ie,be()}),C(ie,h,Ie=>{te=Ie,be()})})}finally{}}async function He(Se,me){return p(Se,f,Y,(Re,Ue,G)=>{const W=IDBKeyRange.bound([me,0],[me+1,0],!1,!0);z(Re.index(B),W,G)})}async function lt(Se,me){const Re=c(o(me));return Re.length?p(Se,f,Y,(Ue,G,W)=>{const ie=[],ce=()=>{ie.length===Re.length&&pe()},pe=()=>{const te=se(ie,he=>he.unicode);W(te.sort((he,be)=>he.order<be.order?-1:1))};for(let te=0;te<Re.length;te++){const he=Re[te],be=te===Re.length-1?IDBKeyRange.bound(he,he+"\uFFFF",!1,!0):IDBKeyRange.only(he);z(Ue.index(y),be,ve=>{ie.push(ve),ce()})}}):[]}async function Mt(Se,me){const Re=await lt(Se,me);return Re.length?Re.filter(Ue=>(Ue.shortcodes||[]).map(W=>W.toLowerCase()).includes(me.toLowerCase()))[0]||null:await Me(Se,G=>(G.shortcodes||[]).includes(me.toLowerCase()))||null}async function I(Se,me){return p(Se,f,Y,(Re,Ue,G)=>C(Re,me,W=>{if(W)return G(W);C(Re.index(L),me,ie=>G(ie||null))}))}function X(Se,me,Re){return p(Se,me,Y,(Ue,G,W)=>C(Ue,Re,W))}function Ne(Se,me,Re,Ue){return p(Se,me,A,(G,W)=>{G.put(Ue,Re),V(W)})}function Te(Se,me){return p(Se,v,A,(Re,Ue)=>C(Re,me,G=>{Re.put((G||0)+1,me),V(Ue)}))}function Fe(Se,me,Re){return Re===0?[]:p(Se,[v,f],Y,([Ue,G],W,ie)=>{const ce=[];Ue.index(O).openCursor(void 0,"prev").onsuccess=pe=>{const te=pe.target.result;if(!te)return ie(ce);function he(Ie){if(ce.push(Ie),ce.length===Re)return ie(ce);te.continue()}const be=te.primaryKey,ve=me.byName(be);if(ve)return he(ve);C(G,be,Ie=>{if(Ie)return he(Ie);te.continue()})}})}const Ge="";function _e(Se,me){const Re=new Map;for(const G of Se){const W=me(G);for(const ie of W){let ce=Re;for(let te=0;te<ie.length;te++){const he=ie.charAt(te);let be=ce.get(he);be||(be=new Map,ce.set(he,be)),ce=be}let pe=ce.get(Ge);pe||(pe=[],ce.set(Ge,pe)),pe.push(G)}}return(G,W)=>{let ie=Re;for(let te=0;te<G.length;te++){const he=G.charAt(te),be=ie.get(he);if(be)ie=be;else return[]}if(W)return ie.get(Ge)||[];const ce=[],pe=[ie];for(;pe.length;){const he=[...pe.shift().entries()].sort((be,ve)=>be[0]<ve[0]?-1:1);for(const[be,ve]of he)be===Ge?ce.push(...ve):pe.push(ve)}return ce}}const We=["name","url"];function st(Se){const me=Se&&Array.isArray(Se),Re=me&&Se.length&&(!Se[0]||We.some(Ue=>!(Ue in Se[0])));if(!me||Re)throw new Error("Custom emojis are in the wrong format")}function ct(Se){st(Se);const me=(ve,Ie)=>ve.name.toLowerCase()<Ie.name.toLowerCase()?-1:1,Re=Se.sort(me),G=_e(Se,ve=>[...new Set((ve.shortcodes||[]).map(Ie=>o(Ie)).flat())]),W=ve=>G(ve,!0),ie=ve=>G(ve,!1),ce=ve=>{const Ie=o(ve),xe=Ie.map((Le,et)=>(et<Ie.length-1?W:ie)(Le));return se(xe,Le=>Le.name).sort(me)},pe=new Map,te=new Map;for(const ve of Se){te.set(ve.name.toLowerCase(),ve);for(const Ie of ve.shortcodes||[])pe.set(Ie.toLowerCase(),ve)}return{all:Re,search:ce,byShortcode:ve=>pe.get(ve.toLowerCase()),byName:ve=>te.get(ve.toLowerCase())}}function Ke(Se){if(!Se)return Se;if(delete Se.tokens,Se.skinTones){const me=Se.skinTones.length;Se.skins=Array(me);for(let Re=0;Re<me;Re++)Se.skins[Re]={tone:Se.skinTones[Re],unicode:Se.skinUnicodes[Re],version:Se.skinVersions[Re]};delete Se.skinTones,delete Se.skinUnicodes,delete Se.skinVersions}return Se}function Et(Se){Se||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const $e=["annotation","emoji","group","order","tags","version"];function tt(Se){if(!Se||!Array.isArray(Se)||!Se[0]||typeof Se[0]!="object"||$e.some(me=>!(me in Se[0])))throw new Error("Emoji data is in the wrong format")}function Ze(Se,me){if(Math.floor(Se.status/100)!==2)throw new Error("Failed to fetch: "+me+":  "+Se.status)}async function rt(Se){const me=await fetch(Se,{method:"HEAD"});Ze(me,Se);const Re=me.headers.get("etag");return Et(Re),Re}async function at(Se){const me=await fetch(Se);Ze(me,Se);const Re=me.headers.get("etag");Et(Re);const Ue=await me.json();return tt(Ue),[Re,Ue]}function we(Se){for(var me="",Re=new Uint8Array(Se),Ue=Re.byteLength,G=-1;++G<Ue;)me+=String.fromCharCode(Re[G]);return me}function it(Se){for(var me=Se.length,Re=new ArrayBuffer(me),Ue=new Uint8Array(Re),G=-1;++G<me;)Ue[G]=Se.charCodeAt(G);return Re}async function ut(Se){const me=JSON.stringify(Se),Re=it(me),Ue=await crypto.subtle.digest("SHA-1",Re),G=we(Ue);return btoa(G)}async function gt(Se,me){let Re,Ue=await rt(me);if(!Ue){const G=await at(me);Ue=G[0],Re=G[1],Ue||(Ue=await ut(Re))}await Ae(Se,me,Ue)||(Re||(Re=(await at(me))[1]),await Ce(Se,Re,me,Ue))}async function Ot(Se,me){let[Re,Ue]=await at(me);Re||(Re=await ut(Ue)),await Ce(Se,Ue,me,Re)}class wt{constructor({dataSource:me=a,locale:Re=F,customEmoji:Ue=[]}={}){this.dataSource=me,this.locale=Re,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=ct(Ue),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const me=this._db=await Q(this._dbName);Z(this._dbName,this._clear);const Re=this.dataSource;await Ee(me)?await Ot(me,Re):this._lazyUpdate=gt(me,Re)}async ready(){const me=async()=>(this._ready||(this._ready=this._init()),this._ready);await me(),this._db||await me()}async getEmojiByGroup(me){return n(me),await this.ready(),_(await He(this._db,me)).map(Ke)}async getEmojiBySearchQuery(me){r(me),await this.ready();const Re=this._custom.search(me),Ue=_(await lt(this._db,me)).map(Ke);return[...Re,...Ue]}async getEmojiByShortcode(me){r(me),await this.ready();const Re=this._custom.byShortcode(me);return Re||Ke(await Mt(this._db,me))}async getEmojiByUnicodeOrName(me){r(me),await this.ready();const Re=this._custom.byName(me);return Re||Ke(await I(this._db,me))}async getPreferredSkinTone(){return await this.ready(),await X(this._db,d,N)||0}async setPreferredSkinTone(me){return n(me),await this.ready(),Ne(this._db,d,N,me)}async incrementFavoriteEmojiCount(me){return r(me),await this.ready(),Te(this._db,me)}async getTopFavoriteEmoji(me){return n(me),await this.ready(),(await Fe(this._db,this._custom,me)).map(Ke)}set customEmoji(me){this._custom=ct(me)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await j(this._dbName)}async delete(){await this._shutdown(),await H(this._dbName)}}},da84:function(m,T,t){(function(r){var n=function(s){return s&&s.Math==Math&&s};m.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof r=="object"&&r)||function(){return this}()||Function("return this")()}).call(this,t("c8ba"))},db3f:function(m,T,t){var r=t("0206");r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n;var n=r.new_byte;r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n;var s=r.assert;Lame=t("dead"),Presets=t("3967"),GainAnalysis=t("2f21"),QuantizePVT=t("bb22"),Quantize=t("dbb1"),Takehiro=t("d9be"),Reservoir=t("58b1"),MPEGMode=t("67b2"),BitStream=t("69b2"),t("4b5e");var e=t("8cba"),f=t("e107");function d(){this.setModules=function(g,B){}}function v(){this.setModules=function(g,B,w){}}function E(){}function y(){this.setModules=function(g,B){}}function S(g,B,w){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),g=1,B=44100,w=128);var h=new Lame,N=new d,Y=new GainAnalysis,A=new BitStream,L=new Presets,D=new QuantizePVT,a=new Quantize,F=new f,k=new e,_=new y,ee=new Reservoir,q=new Takehiro,re=new v,Oe=new E;h.setModules(Y,A,L,D,a,F,k,_,Oe),A.setModules(Y,Oe,k,F),_.setModules(A,k),L.setModules(h),a.setModules(A,ee,D,q),D.setModules(q,ee,h.enc.psy),ee.setModules(A),q.setModules(D),F.setModules(h,A,k),N.setModules(re,Oe),re.setModules(k,_,L);var ue=h.lame_init();ue.num_channels=g,ue.in_samplerate=B,ue.brate=w,ue.mode=MPEGMode.STEREO,ue.quality=3,ue.bWriteVbrTag=!1,ue.disable_reservoir=!0,ue.write_id3tag_automatic=!1;var x=h.lame_init_params(ue);s(x==0);var Q=1152,p=0|1.25*Q+7200,j=n(p);this.encodeBuffer=function(H,Z){g==1&&(Z=H),s(H.length==Z.length),H.length>Q&&(Q=H.length,p=0|1.25*Q+7200,j=n(p));var P=h.lame_encode_buffer(ue,H,Z,H.length,j,0,p);return new Int8Array(j.subarray(0,P))},this.flush=function(){var H=h.lame_encode_flush(ue,j,0,p);return new Int8Array(j.subarray(0,H))}}function O(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function b(g){return g.charCodeAt(0)<<24|g.charCodeAt(1)<<16|g.charCodeAt(2)<<8|g.charCodeAt(3)}O.RIFF=b("RIFF"),O.WAVE=b("WAVE"),O.fmt_=b("fmt "),O.data=b("data"),O.readHeader=function(g){var B=new O,w=g.getUint32(0,!1);if(O.RIFF==w&&(g.getUint32(4,!0),O.WAVE==g.getUint32(8,!1)&&O.fmt_==g.getUint32(12,!1))){var h=g.getUint32(16,!0),N=16+4;switch(h){case 16:case 18:B.channels=g.getUint16(N+2,!0),B.sampleRate=g.getUint32(N+4,!0);break;default:throw"extended fmt chunk not implemented"}N+=h;for(var Y=O.data,A=0;Y!=w&&(w=g.getUint32(N,!1),A=g.getUint32(N+4,!0),Y!=w);)N+=A+8;return B.dataLen=A,B.dataOffset=N+8,B}},m.exports.Mp3Encoder=S,m.exports.WavHeader=O},dbb1:function(m,T,t){var r=t("0206"),n=r.System,s=r.VbrMode;r.Float,r.ShortBlock;var e=r.Util,f=r.Arrays;r.new_array_n,r.new_byte,r.new_double;var d=r.new_float;r.new_float_n,r.new_int,r.new_int_n;var v=r.assert,E=t("a26a"),y=t("7276"),S=t("09e6"),O=t("4b5e"),b=t("f3b5"),g=t("9828");function B(){var w;this.rv=null;var h;this.qupvt=null;var N,Y=new E,A;this.setModules=function(Q,p,j,H){w=Q,h=p,this.rv=p,N=j,this.qupvt=j,A=H,Y.setModules(N,A)},this.ms_convert=function(Q,p){for(var j=0;j<576;++j){var H=Q.tt[p][0].xr[j],Z=Q.tt[p][1].xr[j];Q.tt[p][0].xr[j]=(H+Z)*(e.SQRT2*.5),Q.tt[p][1].xr[j]=(H-Z)*(e.SQRT2*.5)}};function L(Q,p,j,H){H=0;for(var Z=0;Z<=j;++Z){var P=Math.abs(Q.xr[Z]);H+=P,p[Z]=Math.sqrt(P*Math.sqrt(P)),p[Z]>Q.xrpow_max&&(Q.xrpow_max=p[Z])}return H}this.init_xrpow=function(Q,p,j){var H=0,Z=0|p.max_nonzero_coeff;if(v(j!=null),p.xrpow_max=0,v(0<=Z&&Z<=575),f.fill(j,Z,576,0),H=L(p,j,Z,H),H>1e-20){var P=0;(Q.substep_shaping&2)!=0&&(P=1);for(var o=0;o<p.psymax;o++)Q.pseudohalf[o]=P;return!0}return f.fill(p.l3_enc,0,576,0),!1};function D(Q,p){var j=Q.ATH,H=p.xr;if(p.block_type!=O.SHORT_TYPE)for(var Z=!1,P=O.PSFB21-1;P>=0&&!Z;P--){var o=Q.scalefac_band.psfb21[P],u=Q.scalefac_band.psfb21[P+1],c=N.athAdjust(j.adjust,j.psfb21[P],j.floor);Q.nsPsy.longfact[21]>1e-12&&(c*=Q.nsPsy.longfact[21]);for(var R=u-1;R>=o;R--)if(Math.abs(H[R])<c)H[R]=0;else{Z=!0;break}}else for(var U=0;U<3;U++)for(var Z=!1,P=O.PSFB12-1;P>=0&&!Z;P--){var o=Q.scalefac_band.s[12]*3+(Q.scalefac_band.s[13]-Q.scalefac_band.s[12])*U+(Q.scalefac_band.psfb12[P]-Q.scalefac_band.psfb12[0]),u=o+(Q.scalefac_band.psfb12[P+1]-Q.scalefac_band.psfb12[P]),C=N.athAdjust(j.adjust,j.psfb12[P],j.floor);Q.nsPsy.shortfact[12]>1e-12&&(C*=Q.nsPsy.shortfact[12]);for(var R=u-1;R>=o;R--)if(Math.abs(H[R])<C)H[R]=0;else{Z=!0;break}}}this.init_outer_loop=function(Q,p){p.part2_3_length=0,p.big_values=0,p.count1=0,p.global_gain=210,p.scalefac_compress=0,p.table_select[0]=0,p.table_select[1]=0,p.table_select[2]=0,p.subblock_gain[0]=0,p.subblock_gain[1]=0,p.subblock_gain[2]=0,p.subblock_gain[3]=0,p.region0_count=0,p.region1_count=0,p.preflag=0,p.scalefac_scale=0,p.count1table_select=0,p.part2_length=0,p.sfb_lmax=O.SBPSY_l,p.sfb_smin=O.SBPSY_s,p.psy_lmax=Q.sfb21_extra?O.SBMAX_l:O.SBPSY_l,p.psymax=p.psy_lmax,p.sfbmax=p.sfb_lmax,p.sfbdivide=11;for(var j=0;j<O.SBMAX_l;j++)p.width[j]=Q.scalefac_band.l[j+1]-Q.scalefac_band.l[j],p.window[j]=3;if(p.block_type==O.SHORT_TYPE){var H=d(576);p.sfb_smin=0,p.sfb_lmax=0,p.mixed_block_flag!=0&&(p.sfb_smin=3,p.sfb_lmax=Q.mode_gr*2+4),p.psymax=p.sfb_lmax+3*((Q.sfb21_extra?O.SBMAX_s:O.SBPSY_s)-p.sfb_smin),p.sfbmax=p.sfb_lmax+3*(O.SBPSY_s-p.sfb_smin),p.sfbdivide=p.sfbmax-18,p.psy_lmax=p.sfb_lmax;var Z=Q.scalefac_band.l[p.sfb_lmax];n.arraycopy(p.xr,0,H,0,576);for(var j=p.sfb_smin;j<O.SBMAX_s;j++)for(var P=Q.scalefac_band.s[j],o=Q.scalefac_band.s[j+1],u=0;u<3;u++)for(var c=P;c<o;c++)p.xr[Z++]=H[3*c+u];for(var R=p.sfb_lmax,j=p.sfb_smin;j<O.SBMAX_s;j++)p.width[R]=p.width[R+1]=p.width[R+2]=Q.scalefac_band.s[j+1]-Q.scalefac_band.s[j],p.window[R]=0,p.window[R+1]=1,p.window[R+2]=2,R+=3}p.count1bits=0,p.sfb_partition_table=N.nr_of_sfb_block[0][0],p.slen[0]=0,p.slen[1]=0,p.slen[2]=0,p.slen[3]=0,p.max_nonzero_coeff=575,f.fill(p.scalefac,0),D(Q,p)};function a(Q){this.ordinal=Q}a.BINSEARCH_NONE=new a(0),a.BINSEARCH_UP=new a(1),a.BINSEARCH_DOWN=new a(2);function F(Q,p,j,H,Z){var P,o=Q.CurrentStep[H],u=!1,c=Q.OldValue[H],R=a.BINSEARCH_NONE;for(p.global_gain=c,j-=p.part2_length,v(o!=0);;){var U;if(P=A.count_bits(Q,Z,p,null),o==1||P==j)break;P>j?(R==a.BINSEARCH_DOWN&&(u=!0),u&&(o/=2),R=a.BINSEARCH_UP,U=o):(R==a.BINSEARCH_UP&&(u=!0),u&&(o/=2),R=a.BINSEARCH_DOWN,U=-o),p.global_gain+=U,p.global_gain<0&&(p.global_gain=0,u=!0),p.global_gain>255&&(p.global_gain=255,u=!0)}for(v(p.global_gain>=0),v(p.global_gain<256);P>j&&p.global_gain<255;)p.global_gain++,P=A.count_bits(Q,Z,p,null);return Q.CurrentStep[H]=c-p.global_gain>=4?4:2,Q.OldValue[H]=p.global_gain,p.part2_3_length=P,P}this.trancate_smallspectrums=function(Q,p,j,H){var Z=d(g.SFBMAX);if(!((Q.substep_shaping&4)==0&&p.block_type==O.SHORT_TYPE||(Q.substep_shaping&128)!=0)){N.calc_noise(p,j,Z,new y,null);for(var o=0;o<576;o++){var P=0;p.l3_enc[o]!=0&&(P=Math.abs(p.xr[o])),H[o]=P}var o=0,u=8;p.block_type==O.SHORT_TYPE&&(u=6);do{var c,R,U,C,z=p.width[u];if(o+=z,!(Z[u]>=1)&&(f.sort(H,o-z,z),!BitStream.EQ(H[o-1],0))){c=(1-Z[u])*j[u],R=0,C=0;do{var V;for(U=1;C+U<z&&!BitStream.NEQ(H[C+o-z],H[C+o+U-z]);U++);if(V=H[C+o-z]*H[C+o-z]*U,c<V){C!=0&&(R=H[C+o-z-1]);break}c-=V,C+=U}while(C<z);if(!BitStream.EQ(R,0))do Math.abs(p.xr[o-z])<=R&&(p.l3_enc[o-z]=0);while(--z>0)}}while(++u<p.psymax);p.part2_3_length=A.noquant_count_bits(Q,p,null)}};function k(Q){for(var p=0;p<Q.sfbmax;p++)if(Q.scalefac[p]+Q.subblock_gain[Q.window[p]]==0)return!1;return!0}function _(Q){return e.FAST_LOG10(.368+.632*Q*Q*Q)}function ee(Q,p){for(var j=1e-37,H=0;H<p.psymax;H++)j+=_(Q[H]);return Math.max(1e-20,j)}function q(Q,p,j,H,Z){var P;switch(Q){default:case 9:{p.over_count>0?(P=j.over_SSD<=p.over_SSD,j.over_SSD==p.over_SSD&&(P=j.bits<p.bits)):P=j.max_noise<0&&j.max_noise*10+j.bits<=p.max_noise*10+p.bits;break}case 0:P=j.over_count<p.over_count||j.over_count==p.over_count&&j.over_noise<p.over_noise||j.over_count==p.over_count&&BitStream.EQ(j.over_noise,p.over_noise)&&j.tot_noise<p.tot_noise;break;case 8:j.max_noise=ee(Z,H);case 1:P=j.max_noise<p.max_noise;break;case 2:P=j.tot_noise<p.tot_noise;break;case 3:P=j.tot_noise<p.tot_noise&&j.max_noise<p.max_noise;break;case 4:P=j.max_noise<=0&&p.max_noise>.2||j.max_noise<=0&&p.max_noise<0&&p.max_noise>j.max_noise-.2&&j.tot_noise<p.tot_noise||j.max_noise<=0&&p.max_noise>0&&p.max_noise>j.max_noise-.2&&j.tot_noise<p.tot_noise+p.over_noise||j.max_noise>0&&p.max_noise>-.05&&p.max_noise>j.max_noise-.1&&j.tot_noise+j.over_noise<p.tot_noise+p.over_noise||j.max_noise>0&&p.max_noise>-.1&&p.max_noise>j.max_noise-.15&&j.tot_noise+j.over_noise+j.over_noise<p.tot_noise+p.over_noise+p.over_noise;break;case 5:P=j.over_noise<p.over_noise||BitStream.EQ(j.over_noise,p.over_noise)&&j.tot_noise<p.tot_noise;break;case 6:P=j.over_noise<p.over_noise||BitStream.EQ(j.over_noise,p.over_noise)&&(j.max_noise<p.max_noise||BitStream.EQ(j.max_noise,p.max_noise)&&j.tot_noise<=p.tot_noise);break;case 7:P=j.over_count<p.over_count||j.over_noise<p.over_noise;break}return p.over_count==0&&(P=P&&j.bits<p.bits),P}function re(Q,p,j,H,Z){var P=Q.internal_flags,o;p.scalefac_scale==0?o=1.2968395546510096:o=1.6817928305074292;for(var u=0,c=0;c<p.sfbmax;c++)u<j[c]&&(u=j[c]);var R=P.noise_shaping_amp;switch(R==3&&(Z?R=2:R=1),R){case 2:break;case 1:u>1?u=Math.pow(u,.5):u*=.95;break;case 0:default:u>1?u=1:u*=.95;break}for(var U=0,c=0;c<p.sfbmax;c++){var C=p.width[c],z;if(U+=C,!(j[c]<u)){if((P.substep_shaping&2)!=0&&(P.pseudohalf[c]=P.pseudohalf[c]==0?1:0,P.pseudohalf[c]==0&&P.noise_shaping_amp==2))return;for(p.scalefac[c]++,z=-C;z<0;z++)H[U+z]*=o,H[U+z]>p.xrpow_max&&(p.xrpow_max=H[U+z]);if(P.noise_shaping_amp==2)return}}}function Oe(Q,p){for(var j=1.2968395546510096,H=0,Z=0;Z<Q.sfbmax;Z++){var P=Q.width[Z],o=Q.scalefac[Z];if(Q.preflag!=0&&(o+=N.pretab[Z]),H+=P,(o&1)!=0){o++;for(var u=-P;u<0;u++)p[H+u]*=j,p[H+u]>Q.xrpow_max&&(Q.xrpow_max=p[H+u])}Q.scalefac[Z]=o>>1}Q.preflag=0,Q.scalefac_scale=1}function ue(Q,p,j){var H,Z=p.scalefac;for(H=0;H<p.sfb_lmax;H++)if(Z[H]>=16)return!0;for(var P=0;P<3;P++){var o=0,u=0;for(H=p.sfb_lmax+P;H<p.sfbdivide;H+=3)o<Z[H]&&(o=Z[H]);for(;H<p.sfbmax;H+=3)u<Z[H]&&(u=Z[H]);if(!(o<16&&u<8)){if(p.subblock_gain[P]>=7)return!0;p.subblock_gain[P]++;var c=Q.scalefac_band.l[p.sfb_lmax];for(H=p.sfb_lmax+P;H<p.sfbmax;H+=3){var R,U=p.width[H],C=Z[H];if(v(C>=0),C=C-(4>>p.scalefac_scale),C>=0){Z[H]=C,c+=U*3;continue}Z[H]=0;{var z=210+(C<<p.scalefac_scale+1);R=N.IPOW20(z)}c+=U*(P+1);for(var V=-U;V<0;V++)j[c+V]*=R,j[c+V]>p.xrpow_max&&(p.xrpow_max=j[c+V]);c+=U*(3-P-1)}{var R=N.IPOW20(202);c+=p.width[H]*(P+1);for(var V=-p.width[H];V<0;V++)j[c+V]*=R,j[c+V]>p.xrpow_max&&(p.xrpow_max=j[c+V])}}}return!1}function x(Q,p,j,H,Z){var P=Q.internal_flags;re(Q,p,j,H,Z);var o=k(p);return o?!1:(P.mode_gr==2?o=A.scale_bitcount(p):o=A.scale_bitcount_lsf(P,p),o?(P.noise_shaping>1&&(f.fill(P.pseudohalf,0),p.scalefac_scale==0?(Oe(p,H),o=!1):p.block_type==O.SHORT_TYPE&&P.subblock_gain>0&&(o=ue(P,p,H)||k(p))),o||(P.mode_gr==2?o=A.scale_bitcount(p):o=A.scale_bitcount_lsf(P,p)),!o):!0)}this.outer_loop=function(Q,p,j,H,Z,P){var o=Q.internal_flags,u=new b,c=d(576),R=d(g.SFBMAX),U=new y,C,z=new S,V=9999999,$=!1,se=!1,Ee=0;if(F(o,p,P,Z,H),o.noise_shaping==0)return 100;N.calc_noise(p,j,R,U,z),U.bits=p.part2_3_length,u.assign(p);var Ae=0;for(n.arraycopy(H,0,c,0,576);!$;){do{var Me=new y,Ce,He=255;if((o.substep_shaping&2)!=0?Ce=20:Ce=3,o.sfb21_extra&&(R[u.sfbmax]>1||u.block_type==O.SHORT_TYPE&&(R[u.sfbmax+1]>1||R[u.sfbmax+2]>1))||!x(Q,u,R,H,se))break;u.scalefac_scale!=0&&(He=254);var lt=P-u.part2_length;if(lt<=0)break;for(;(u.part2_3_length=A.count_bits(o,H,u,z))>lt&&u.global_gain<=He;)u.global_gain++;if(u.global_gain>He)break;if(U.over_count==0){for(;(u.part2_3_length=A.count_bits(o,H,u,z))>V&&u.global_gain<=He;)u.global_gain++;if(u.global_gain>He)break}if(N.calc_noise(u,j,R,Me,z),Me.bits=u.part2_3_length,p.block_type!=O.SHORT_TYPE?C=Q.quant_comp:C=Q.quant_comp_short,C=q(C,U,Me,u,R)?1:0,C!=0)V=p.part2_3_length,U=Me,p.assign(u),Ae=0,n.arraycopy(H,0,c,0,576);else if(o.full_outer_loop==0&&(++Ae>Ce&&U.over_count==0||o.noise_shaping_amp==3&&se&&Ae>30||o.noise_shaping_amp==3&&se&&u.global_gain-Ee>15))break}while(u.global_gain+u.scalefac_scale<255);o.noise_shaping_amp==3?se?$=!0:(u.assign(p),n.arraycopy(c,0,H,0,576),Ae=0,Ee=u.global_gain,se=!0):$=!0}return v(p.global_gain+p.scalefac_scale<=255),Q.VBR==s.vbr_rh||Q.VBR==s.vbr_mtrh?n.arraycopy(c,0,H,0,576):(o.substep_shaping&1)!=0&&trancate_smallspectrums(o,p,j,H),U.over_count},this.iteration_finish_one=function(Q,p,j){var H=Q.l3_side,Z=H.tt[p][j];A.best_scalefac_store(Q,p,j,H),Q.use_best_huffman==1&&A.best_huffman_divide(Q,Z),h.ResvAdjust(Q,Z)},this.VBR_encode_granule=function(Q,p,j,H,Z,P,o){var u=Q.internal_flags,c=new b,R=d(576),U=o,C=o+1,z=(o+P)/2,V,$,se=0,Ee=u.sfb21_extra;v(U<=LameInternalFlags.MAX_BITS_PER_CHANNEL),f.fill(c.l3_enc,0);do v(z>=P),v(z<=o),v(P<=o),z>U-42?u.sfb21_extra=!1:u.sfb21_extra=Ee,$=outer_loop(Q,p,j,H,Z,z),$<=0?(se=1,C=p.part2_3_length,c.assign(p),n.arraycopy(H,0,R,0,576),o=C-32,V=o-P,z=(o+P)/2):(P=z+32,V=o-P,z=(o+P)/2,se!=0&&(se=2,p.assign(c),n.arraycopy(R,0,H,0,576)));while(V>12);u.sfb21_extra=Ee,se==2&&n.arraycopy(c.l3_enc,0,p.l3_enc,0,576),v(p.part2_3_length<=U)},this.get_framebits=function(Q,p){var j=Q.internal_flags;j.bitrate_index=j.VBR_min_bitrate;var H=w.getframebits(Q);j.bitrate_index=1,H=w.getframebits(Q);for(var Z=1;Z<=j.VBR_max_bitrate;Z++){j.bitrate_index=Z;var P=new MeanBits(H);p[Z]=h.ResvFrameBegin(Q,P),H=P.bits}},this.VBR_old_prepare=function(Q,p,j,H,Z,P,o,u,c){var R=Q.internal_flags,U,C=0,z=1,V=0;R.bitrate_index=R.VBR_max_bitrate;var $=h.ResvFrameBegin(Q,new MeanBits(0))/R.mode_gr;get_framebits(Q,P);for(var se=0;se<R.mode_gr;se++){var Ee=N.on_pe(Q,p,u[se],$,se,0);R.mode_ext==O.MPG_MD_MS_LR&&(ms_convert(R.l3_side,se),N.reduce_side(u[se],j[se],$,Ee));for(var Ae=0;Ae<R.channels_out;++Ae){var Me=R.l3_side.tt[se][Ae];Me.block_type!=O.SHORT_TYPE?(C=1.28/(1+Math.exp(3.5-p[se][Ae]/300))-.05,U=R.PSY.mask_adjust-C):(C=2.56/(1+Math.exp(3.5-p[se][Ae]/300))-.14,U=R.PSY.mask_adjust_short-C),R.masking_lower=Math.pow(10,U*.1),init_outer_loop(R,Me),c[se][Ae]=N.calc_xmin(Q,H[se][Ae],Me,Z[se][Ae]),c[se][Ae]!=0&&(z=0),o[se][Ae]=126,V+=u[se][Ae]}}for(var se=0;se<R.mode_gr;se++)for(var Ae=0;Ae<R.channels_out;Ae++)V>P[R.VBR_max_bitrate]&&(u[se][Ae]*=P[R.VBR_max_bitrate],u[se][Ae]/=V),o[se][Ae]>u[se][Ae]&&(o[se][Ae]=u[se][Ae]);return z},this.bitpressure_strategy=function(Q,p,j,H){for(var Z=0;Z<Q.mode_gr;Z++)for(var P=0;P<Q.channels_out;P++){for(var o=Q.l3_side.tt[Z][P],u=p[Z][P],c=0,R=0;R<o.psy_lmax;R++)u[c++]*=1+.029*R*R/O.SBMAX_l/O.SBMAX_l;if(o.block_type==O.SHORT_TYPE)for(var R=o.sfb_smin;R<O.SBMAX_s;R++)u[c++]*=1+.029*R*R/O.SBMAX_s/O.SBMAX_s,u[c++]*=1+.029*R*R/O.SBMAX_s/O.SBMAX_s,u[c++]*=1+.029*R*R/O.SBMAX_s/O.SBMAX_s;H[Z][P]=0|Math.max(j[Z][P],.9*H[Z][P])}},this.VBR_new_prepare=function(Q,p,j,H,Z,P){var o=Q.internal_flags,u=1,c=0,R=0,U;if(Q.free_format){o.bitrate_index=0;var C=new MeanBits(c);U=h.ResvFrameBegin(Q,C),c=C.bits,Z[0]=U}else{o.bitrate_index=o.VBR_max_bitrate;var C=new MeanBits(c);h.ResvFrameBegin(Q,C),c=C.bits,get_framebits(Q,Z),U=Z[o.VBR_max_bitrate]}for(var z=0;z<o.mode_gr;z++){N.on_pe(Q,p,P[z],c,z,0),o.mode_ext==O.MPG_MD_MS_LR&&ms_convert(o.l3_side,z);for(var V=0;V<o.channels_out;++V){var $=o.l3_side.tt[z][V];o.masking_lower=Math.pow(10,o.PSY.mask_adjust*.1),init_outer_loop(o,$),N.calc_xmin(Q,j[z][V],$,H[z][V])!=0&&(u=0),R+=P[z][V]}}for(var z=0;z<o.mode_gr;z++)for(var V=0;V<o.channels_out;V++)R>U&&(P[z][V]*=U,P[z][V]/=R);return u},this.calc_target_bits=function(Q,p,j,H,Z,P){var o=Q.internal_flags,u=o.l3_side,c,R,U,C,z=0;o.bitrate_index=o.VBR_max_bitrate;var V=new MeanBits(z);for(P[0]=h.ResvFrameBegin(Q,V),z=V.bits,o.bitrate_index=1,z=w.getframebits(Q)-o.sideinfo_len*8,Z[0]=z/(o.mode_gr*o.channels_out),z=Q.VBR_mean_bitrate_kbps*Q.framesize*1e3,(o.substep_shaping&1)!=0&&(z*=1.09),z/=Q.out_samplerate,z-=o.sideinfo_len*8,z/=o.mode_gr*o.channels_out,c=.93+.07*(11-Q.compression_ratio)/(11-5.5),c<.9&&(c=.9),c>1&&(c=1),R=0;R<o.mode_gr;R++){var $=0;for(U=0;U<o.channels_out;U++){if(H[R][U]=int(c*z),p[R][U]>700){var se=int((p[R][U]-700)/1.4),Ee=u.tt[R][U];H[R][U]=int(c*z),Ee.block_type==O.SHORT_TYPE&&se<z/2&&(se=z/2),se>z*3/2?se=z*3/2:se<0&&(se=0),H[R][U]+=se}H[R][U]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(H[R][U]=LameInternalFlags.MAX_BITS_PER_CHANNEL),$+=H[R][U]}if($>LameInternalFlags.MAX_BITS_PER_GRANULE)for(U=0;U<o.channels_out;++U)H[R][U]*=LameInternalFlags.MAX_BITS_PER_GRANULE,H[R][U]/=$}if(o.mode_ext==O.MPG_MD_MS_LR)for(R=0;R<o.mode_gr;R++)N.reduce_side(H[R],j[R],z*o.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(C=0,R=0;R<o.mode_gr;R++)for(U=0;U<o.channels_out;U++)H[R][U]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(H[R][U]=LameInternalFlags.MAX_BITS_PER_CHANNEL),C+=H[R][U];if(C>P[0])for(R=0;R<o.mode_gr;R++)for(U=0;U<o.channels_out;U++)H[R][U]*=P[0],H[R][U]/=C}}m.exports=B},dbb4:function(m,T,t){var r=t("23e7"),n=t("83ab"),s=t("56ef"),e=t("fc6a"),f=t("06cf"),d=t("8418");r({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(E){for(var y=e(E),S=f.f,O=s(y),b={},g=0,B,w;O.length>g;)w=S(y,B=O[g++]),w!==void 0&&d(b,B,w);return b}})},dc4a:function(m,T,t){var r=t("59ed");m.exports=function(n,s){var e=n[s];return e==null?void 0:r(e)}},ddb0:function(m,T,t){var r=t("da84"),n=t("fdbc"),s=t("785a"),e=t("e260"),f=t("9112"),d=t("b622"),v=d("iterator"),E=d("toStringTag"),y=e.values,S=function(b,g){if(b){if(b[v]!==y)try{f(b,v,y)}catch{b[v]=y}if(b[E]||f(b,E,g),n[g]){for(var B in e)if(b[B]!==e[B])try{f(b,B,e[B])}catch{b[B]=e[B]}}}};for(var O in n)S(r[O]&&r[O].prototype,O);S(s,"DOMTokenList")},dead:function(m,T,t){var r=t("0206"),n=r.System,s=r.VbrMode;r.Float;var e=r.ShortBlock;r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var f=r.new_float;r.new_float_n,r.new_int;var d=r.new_int_n,v=r.new_short_n,E=r.assert,y=t("2474"),S=t("947f"),O=t("bd8b"),b=t("abf5"),g=t("725d"),B=t("4a65"),w=t("69b2"),h=t("5f84"),N=t("4b5e");function Y(){var A=this,L=128*1024;Y.V9=410,Y.V8=420,Y.V7=430,Y.V6=440,Y.V5=450,Y.V4=460,Y.V3=470,Y.V2=480,Y.V1=490,Y.V0=500,Y.R3MIX=1e3,Y.STANDARD=1001,Y.EXTREME=1002,Y.INSANE=1003,Y.STANDARD_FAST=1004,Y.EXTREME_FAST=1005,Y.MEDIUM=1006,Y.MEDIUM_FAST=1007;var D=16384+L;Y.LAME_MAXMP3BUFFER=D;var a,F,k,_,ee,q=new y,re,Oe,ue;this.enc=new N,this.setModules=function(I,X,Ne,Te,Fe,Ge,_e,We,st){a=I,F=X,k=Ne,_=Te,ee=Fe,re=Ge,Oe=We,ue=st,this.enc.setModules(F,q,_,re)};function x(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=f(N.SBMAX_l),this.bo_s_weight=f(N.SBMAX_s)}function Q(){this.lowerlimit=0}function p(I,X){this.lowpass=X}var j=4294479419;function H(I){var X;return I.class_id=j,X=I.internal_flags=new O,I.mode=MPEGMode.NOT_SET,I.original=1,I.in_samplerate=44100,I.num_channels=2,I.num_samples=-1,I.bWriteVbrTag=!0,I.quality=-1,I.short_blocks=null,X.subblock_gain=-1,I.lowpassfreq=0,I.highpassfreq=0,I.lowpasswidth=-1,I.highpasswidth=-1,I.VBR=s.vbr_off,I.VBR_q=4,I.ATHcurve=-1,I.VBR_mean_bitrate_kbps=128,I.VBR_min_bitrate_kbps=0,I.VBR_max_bitrate_kbps=0,I.VBR_hard_min=0,X.VBR_min_bitrate=1,X.VBR_max_bitrate=13,I.quant_comp=-1,I.quant_comp_short=-1,I.msfix=-1,X.resample_ratio=1,X.OldValue[0]=180,X.OldValue[1]=180,X.CurrentStep[0]=4,X.CurrentStep[1]=4,X.masking_lower=1,X.nsPsy.attackthre=-1,X.nsPsy.attackthre_s=-1,I.scale=-1,I.athaa_type=-1,I.ATHtype=-1,I.athaa_loudapprox=-1,I.athaa_sensitivity=0,I.useTemporal=null,I.interChRatio=-1,X.mf_samples_to_encode=N.ENCDELAY+N.POSTDELAY,I.encoder_padding=0,X.mf_size=N.ENCDELAY-N.MDCTDELAY,I.findReplayGain=!1,I.decode_on_the_fly=!1,X.decode_on_the_fly=!1,X.findReplayGain=!1,X.findPeakSample=!1,X.RadioGain=0,X.AudiophileGain=0,X.noclipGainChange=0,X.noclipScale=-1,I.preset=0,I.write_id3tag_automatic=!0,0}this.lame_init=function(){var I=new S;return H(I),I.lame_allocated_gfp=1,I};function Z(I){return I>1?0:I<=0?1:Math.cos(Math.PI/2*I)}this.nearestBitrateFullIndex=function(I){var X=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],Ne=0,Te=0,Fe=0,Ge=0;Ge=X[16],Fe=16,Te=X[16],Ne=16;for(var _e=0;_e<16;_e++)if(Math.max(I,X[_e+1])!=I){Ge=X[_e+1],Fe=_e+1,Te=X[_e],Ne=_e;break}return Ge-I>I-Te?Ne:Fe};function P(I,X){var Ne=44100;return X>=48e3?Ne=48e3:X>=44100?Ne=44100:X>=32e3?Ne=32e3:X>=24e3?Ne=24e3:X>=22050?Ne=22050:X>=16e3?Ne=16e3:X>=12e3?Ne=12e3:X>=11025?Ne=11025:X>=8e3&&(Ne=8e3),I==-1?Ne:(I<=15960&&(Ne=44100),I<=15250&&(Ne=32e3),I<=11220&&(Ne=24e3),I<=9970&&(Ne=22050),I<=7230&&(Ne=16e3),I<=5420&&(Ne=12e3),I<=4510&&(Ne=11025),I<=3970&&(Ne=8e3),X<Ne?X>44100?48e3:X>32e3?44100:X>24e3?32e3:X>22050?24e3:X>16e3?22050:X>12e3?16e3:X>11025?12e3:X>8e3?11025:8e3:Ne)}function o(I,X){switch(I){case 44100:return X.version=1,0;case 48e3:return X.version=1,1;case 32e3:return X.version=1,2;case 22050:return X.version=0,0;case 24e3:return X.version=0,1;case 16e3:return X.version=0,2;case 11025:return X.version=0,0;case 12e3:return X.version=0,1;case 8e3:return X.version=0,2;default:return X.version=0,-1}}function u(I,X,Ne){Ne<16e3&&(X=2);for(var Te=h.bitrate_table[X][1],Fe=2;Fe<=14;Fe++)h.bitrate_table[X][Fe]>0&&Math.abs(h.bitrate_table[X][Fe]-I)<Math.abs(Te-I)&&(Te=h.bitrate_table[X][Fe]);return Te}function c(I,X,Ne){Ne<16e3&&(X=2);for(var Te=0;Te<=14;Te++)if(h.bitrate_table[X][Te]>0&&h.bitrate_table[X][Te]==I)return Te;return-1}function R(I,X){var Ne=[new p(8,2e3),new p(16,3700),new p(24,3900),new p(32,5500),new p(40,7e3),new p(48,7500),new p(56,1e4),new p(64,11e3),new p(80,13500),new p(96,15100),new p(112,15600),new p(128,17e3),new p(160,17500),new p(192,18600),new p(224,19400),new p(256,19700),new p(320,20500)],Te=A.nearestBitrateFullIndex(X);I.lowerlimit=Ne[Te].lowpass}function U(I){var X=I.internal_flags,Ne=32,Te=-1;if(X.lowpass1>0){for(var Fe=999,Ge=0;Ge<=31;Ge++){var _e=Ge/31;_e>=X.lowpass2&&(Ne=Math.min(Ne,Ge)),X.lowpass1<_e&&_e<X.lowpass2&&(Fe=Math.min(Fe,Ge))}Fe==999?X.lowpass1=(Ne-.75)/31:X.lowpass1=(Fe-.75)/31,X.lowpass2=Ne/31}if(X.highpass2>0&&X.highpass2<.9*(.75/31)&&(X.highpass1=0,X.highpass2=0,n.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),X.highpass2>0){for(var We=-1,Ge=0;Ge<=31;Ge++){var _e=Ge/31;_e<=X.highpass1&&(Te=Math.max(Te,Ge)),X.highpass1<_e&&_e<X.highpass2&&(We=Math.max(We,Ge))}X.highpass1=Te/31,We==-1?X.highpass2=(Te+.75)/31:X.highpass2=(We+.75)/31}for(var Ge=0;Ge<32;Ge++){var st,ct,_e=Ge/31;X.highpass2>X.highpass1?st=Z((X.highpass2-_e)/(X.highpass2-X.highpass1+1e-20)):st=1,X.lowpass2>X.lowpass1?ct=Z((_e-X.lowpass1)/(X.lowpass2-X.lowpass1+1e-20)):ct=1,X.amp_filter[Ge]=st*ct}}function C(I){var X=I.internal_flags;switch(I.quality){default:case 9:X.psymodel=0,X.noise_shaping=0,X.noise_shaping_amp=0,X.noise_shaping_stop=0,X.use_best_huffman=0,X.full_outer_loop=0;break;case 8:I.quality=7;case 7:X.psymodel=1,X.noise_shaping=0,X.noise_shaping_amp=0,X.noise_shaping_stop=0,X.use_best_huffman=0,X.full_outer_loop=0;break;case 6:X.psymodel=1,X.noise_shaping==0&&(X.noise_shaping=1),X.noise_shaping_amp=0,X.noise_shaping_stop=0,X.subblock_gain==-1&&(X.subblock_gain=1),X.use_best_huffman=0,X.full_outer_loop=0;break;case 5:X.psymodel=1,X.noise_shaping==0&&(X.noise_shaping=1),X.noise_shaping_amp=0,X.noise_shaping_stop=0,X.subblock_gain==-1&&(X.subblock_gain=1),X.use_best_huffman=0,X.full_outer_loop=0;break;case 4:X.psymodel=1,X.noise_shaping==0&&(X.noise_shaping=1),X.noise_shaping_amp=0,X.noise_shaping_stop=0,X.subblock_gain==-1&&(X.subblock_gain=1),X.use_best_huffman=1,X.full_outer_loop=0;break;case 3:X.psymodel=1,X.noise_shaping==0&&(X.noise_shaping=1),X.noise_shaping_amp=1,X.noise_shaping_stop=1,X.subblock_gain==-1&&(X.subblock_gain=1),X.use_best_huffman=1,X.full_outer_loop=0;break;case 2:X.psymodel=1,X.noise_shaping==0&&(X.noise_shaping=1),X.substep_shaping==0&&(X.substep_shaping=2),X.noise_shaping_amp=1,X.noise_shaping_stop=1,X.subblock_gain==-1&&(X.subblock_gain=1),X.use_best_huffman=1,X.full_outer_loop=0;break;case 1:X.psymodel=1,X.noise_shaping==0&&(X.noise_shaping=1),X.substep_shaping==0&&(X.substep_shaping=2),X.noise_shaping_amp=2,X.noise_shaping_stop=1,X.subblock_gain==-1&&(X.subblock_gain=1),X.use_best_huffman=1,X.full_outer_loop=0;break;case 0:X.psymodel=1,X.noise_shaping==0&&(X.noise_shaping=1),X.substep_shaping==0&&(X.substep_shaping=2),X.noise_shaping_amp=2,X.noise_shaping_stop=1,X.subblock_gain==-1&&(X.subblock_gain=1),X.use_best_huffman=1,X.full_outer_loop=0;break}}function z(I){var X=I.internal_flags;I.frameNum=0,I.write_id3tag_automatic&&Oe.id3tag_write_v2(I),X.bitrate_stereoMode_Hist=d([16,4+1]),X.bitrate_blockType_Hist=d([16,4+1+1]),X.PeakSample=0,I.bWriteVbrTag&&re.InitVbrTag(I)}this.lame_init_params=function(I){var X=I.internal_flags;if(X.Class_ID=0,X.ATH==null&&(X.ATH=new b),X.PSY==null&&(X.PSY=new x),X.rgdata==null&&(X.rgdata=new g),X.channels_in=I.num_channels,X.channels_in==1&&(I.mode=MPEGMode.MONO),X.channels_out=I.mode==MPEGMode.MONO?1:2,X.mode_ext=N.MPG_MD_MS_LR,I.mode==MPEGMode.MONO&&(I.force_ms=!1),I.VBR==s.vbr_off&&I.VBR_mean_bitrate_kbps!=128&&I.brate==0&&(I.brate=I.VBR_mean_bitrate_kbps),I.VBR==s.vbr_off||I.VBR==s.vbr_mtrh||I.VBR==s.vbr_mt||(I.free_format=!1),I.VBR==s.vbr_off&&I.brate==0&&w.EQ(I.compression_ratio,0)&&(I.compression_ratio=11.025),I.VBR==s.vbr_off&&I.compression_ratio>0&&(I.out_samplerate==0&&(I.out_samplerate=map2MP3Frequency(int(.97*I.in_samplerate))),I.brate=0|I.out_samplerate*16*X.channels_out/(1e3*I.compression_ratio),X.samplerate_index=o(I.out_samplerate,I),I.free_format||(I.brate=u(I.brate,I.version,I.out_samplerate))),I.out_samplerate!=0&&(I.out_samplerate<16e3?(I.VBR_mean_bitrate_kbps=Math.max(I.VBR_mean_bitrate_kbps,8),I.VBR_mean_bitrate_kbps=Math.min(I.VBR_mean_bitrate_kbps,64)):I.out_samplerate<32e3?(I.VBR_mean_bitrate_kbps=Math.max(I.VBR_mean_bitrate_kbps,8),I.VBR_mean_bitrate_kbps=Math.min(I.VBR_mean_bitrate_kbps,160)):(I.VBR_mean_bitrate_kbps=Math.max(I.VBR_mean_bitrate_kbps,32),I.VBR_mean_bitrate_kbps=Math.min(I.VBR_mean_bitrate_kbps,320))),I.lowpassfreq==0){var Ne=16e3;switch(I.VBR){case s.vbr_off:{var Te=new Q;R(Te,I.brate),Ne=Te.lowerlimit;break}case s.vbr_abr:{var Te=new Q;R(Te,I.VBR_mean_bitrate_kbps),Ne=Te.lowerlimit;break}case s.vbr_rh:{var Fe=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=I.VBR_q&&I.VBR_q<=9){var Ge=Fe[I.VBR_q],_e=Fe[I.VBR_q+1],We=I.VBR_q_frac;Ne=linear_int(Ge,_e,We)}else Ne=19500;break}default:{var Fe=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=I.VBR_q&&I.VBR_q<=9){var Ge=Fe[I.VBR_q],_e=Fe[I.VBR_q+1],We=I.VBR_q_frac;Ne=linear_int(Ge,_e,We)}else Ne=19500}}I.mode==MPEGMode.MONO&&(I.VBR==s.vbr_off||I.VBR==s.vbr_abr)&&(Ne*=1.5),I.lowpassfreq=Ne|0}if(I.out_samplerate==0&&(2*I.lowpassfreq>I.in_samplerate&&(I.lowpassfreq=I.in_samplerate/2),I.out_samplerate=P(I.lowpassfreq|0,I.in_samplerate)),I.lowpassfreq=Math.min(20500,I.lowpassfreq),I.lowpassfreq=Math.min(I.out_samplerate/2,I.lowpassfreq),I.VBR==s.vbr_off&&(I.compression_ratio=I.out_samplerate*16*X.channels_out/(1e3*I.brate)),I.VBR==s.vbr_abr&&(I.compression_ratio=I.out_samplerate*16*X.channels_out/(1e3*I.VBR_mean_bitrate_kbps)),I.bWriteVbrTag||(I.findReplayGain=!1,I.decode_on_the_fly=!1,X.findPeakSample=!1),X.findReplayGain=I.findReplayGain,X.decode_on_the_fly=I.decode_on_the_fly,X.decode_on_the_fly&&(X.findPeakSample=!0),X.findReplayGain&&a.InitGainAnalysis(X.rgdata,I.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return I.internal_flags=null,-6;switch(X.decode_on_the_fly&&!I.decode_only&&(X.hip!=null&&ue.hip_decode_exit(X.hip),X.hip=ue.hip_decode_init()),X.mode_gr=I.out_samplerate<=24e3?1:2,I.framesize=576*X.mode_gr,I.encoder_delay=N.ENCDELAY,X.resample_ratio=I.in_samplerate/I.out_samplerate,I.VBR){case s.vbr_mt:case s.vbr_rh:case s.vbr_mtrh:{var st=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];I.compression_ratio=st[I.VBR_q]}break;case s.vbr_abr:I.compression_ratio=I.out_samplerate*16*X.channels_out/(1e3*I.VBR_mean_bitrate_kbps);break;default:I.compression_ratio=I.out_samplerate*16*X.channels_out/(1e3*I.brate);break}if(I.mode==MPEGMode.NOT_SET&&(I.mode=MPEGMode.JOINT_STEREO),I.highpassfreq>0?(X.highpass1=2*I.highpassfreq,I.highpasswidth>=0?X.highpass2=2*(I.highpassfreq+I.highpasswidth):X.highpass2=(1+0)*2*I.highpassfreq,X.highpass1/=I.out_samplerate,X.highpass2/=I.out_samplerate):(X.highpass1=0,X.highpass2=0),I.lowpassfreq>0?(X.lowpass2=2*I.lowpassfreq,I.lowpasswidth>=0?(X.lowpass1=2*(I.lowpassfreq-I.lowpasswidth),X.lowpass1<0&&(X.lowpass1=0)):X.lowpass1=(1-0)*2*I.lowpassfreq,X.lowpass1/=I.out_samplerate,X.lowpass2/=I.out_samplerate):(X.lowpass1=0,X.lowpass2=0),U(I),X.samplerate_index=o(I.out_samplerate,I),X.samplerate_index<0)return I.internal_flags=null,-1;if(I.VBR==s.vbr_off){if(I.free_format)X.bitrate_index=0;else if(I.brate=u(I.brate,I.version,I.out_samplerate),X.bitrate_index=c(I.brate,I.version,I.out_samplerate),X.bitrate_index<=0)return I.internal_flags=null,-1}else X.bitrate_index=1;I.analysis&&(I.bWriteVbrTag=!1),X.pinfo!=null&&(I.bWriteVbrTag=!1),F.init_bit_stream_w(X);for(var ct=X.samplerate_index+3*I.version+6*(I.out_samplerate<16e3?1:0),Ke=0;Ke<N.SBMAX_l+1;Ke++)X.scalefac_band.l[Ke]=_.sfBandIndex[ct].l[Ke];for(var Ke=0;Ke<N.PSFB21+1;Ke++){var Et=(X.scalefac_band.l[22]-X.scalefac_band.l[21])/N.PSFB21,$e=X.scalefac_band.l[21]+Ke*Et;X.scalefac_band.psfb21[Ke]=$e}X.scalefac_band.psfb21[N.PSFB21]=576;for(var Ke=0;Ke<N.SBMAX_s+1;Ke++)X.scalefac_band.s[Ke]=_.sfBandIndex[ct].s[Ke];for(var Ke=0;Ke<N.PSFB12+1;Ke++){var Et=(X.scalefac_band.s[13]-X.scalefac_band.s[12])/N.PSFB12,$e=X.scalefac_band.s[12]+Ke*Et;X.scalefac_band.psfb12[Ke]=$e}X.scalefac_band.psfb12[N.PSFB12]=192,I.version==1?X.sideinfo_len=X.channels_out==1?4+17:4+32:X.sideinfo_len=X.channels_out==1?4+9:4+17,I.error_protection&&(X.sideinfo_len+=2),z(I),X.Class_ID=j;{var tt;for(tt=0;tt<19;tt++)X.nsPsy.pefirbuf[tt]=700*X.mode_gr*X.channels_out;I.ATHtype==-1&&(I.ATHtype=4)}switch(E(I.VBR_q<=9),E(I.VBR_q>=0),I.VBR){case s.vbr_mt:I.VBR=s.vbr_mtrh;case s.vbr_mtrh:{I.useTemporal==null&&(I.useTemporal=!1),k.apply_preset(I,500-I.VBR_q*10,0),I.quality<0&&(I.quality=LAME_DEFAULT_QUALITY),I.quality<5&&(I.quality=0),I.quality>5&&(I.quality=5),X.PSY.mask_adjust=I.maskingadjust,X.PSY.mask_adjust_short=I.maskingadjust_short,I.experimentalY?X.sfb21_extra=!1:X.sfb21_extra=I.out_samplerate>44e3,X.iteration_loop=new VBRNewIterationLoop(ee);break}case s.vbr_rh:{k.apply_preset(I,500-I.VBR_q*10,0),X.PSY.mask_adjust=I.maskingadjust,X.PSY.mask_adjust_short=I.maskingadjust_short,I.experimentalY?X.sfb21_extra=!1:X.sfb21_extra=I.out_samplerate>44e3,I.quality>6&&(I.quality=6),I.quality<0&&(I.quality=LAME_DEFAULT_QUALITY),X.iteration_loop=new VBROldIterationLoop(ee);break}default:{var Ze;X.sfb21_extra=!1,I.quality<0&&(I.quality=LAME_DEFAULT_QUALITY),Ze=I.VBR,Ze==s.vbr_off&&(I.VBR_mean_bitrate_kbps=I.brate),k.apply_preset(I,I.VBR_mean_bitrate_kbps,0),I.VBR=Ze,X.PSY.mask_adjust=I.maskingadjust,X.PSY.mask_adjust_short=I.maskingadjust_short,Ze==s.vbr_off?X.iteration_loop=new B(ee):X.iteration_loop=new ABRIterationLoop(ee);break}}if(E(I.scale>=0),I.VBR!=s.vbr_off){if(X.VBR_min_bitrate=1,X.VBR_max_bitrate=14,I.out_samplerate<16e3&&(X.VBR_max_bitrate=8),I.VBR_min_bitrate_kbps!=0&&(I.VBR_min_bitrate_kbps=u(I.VBR_min_bitrate_kbps,I.version,I.out_samplerate),X.VBR_min_bitrate=c(I.VBR_min_bitrate_kbps,I.version,I.out_samplerate),X.VBR_min_bitrate<0)||I.VBR_max_bitrate_kbps!=0&&(I.VBR_max_bitrate_kbps=u(I.VBR_max_bitrate_kbps,I.version,I.out_samplerate),X.VBR_max_bitrate=c(I.VBR_max_bitrate_kbps,I.version,I.out_samplerate),X.VBR_max_bitrate<0))return-1;I.VBR_min_bitrate_kbps=h.bitrate_table[I.version][X.VBR_min_bitrate],I.VBR_max_bitrate_kbps=h.bitrate_table[I.version][X.VBR_max_bitrate],I.VBR_mean_bitrate_kbps=Math.min(h.bitrate_table[I.version][X.VBR_max_bitrate],I.VBR_mean_bitrate_kbps),I.VBR_mean_bitrate_kbps=Math.max(h.bitrate_table[I.version][X.VBR_min_bitrate],I.VBR_mean_bitrate_kbps)}return I.tune&&(X.PSY.mask_adjust+=I.tune_value_a,X.PSY.mask_adjust_short+=I.tune_value_a),C(I),E(I.scale>=0),I.athaa_type<0?X.ATH.useAdjust=3:X.ATH.useAdjust=I.athaa_type,X.ATH.aaSensitivityP=Math.pow(10,I.athaa_sensitivity/-10),I.short_blocks==null&&(I.short_blocks=e.short_block_allowed),I.short_blocks==e.short_block_allowed&&(I.mode==MPEGMode.JOINT_STEREO||I.mode==MPEGMode.STEREO)&&(I.short_blocks=e.short_block_coupled),I.quant_comp<0&&(I.quant_comp=1),I.quant_comp_short<0&&(I.quant_comp_short=0),I.msfix<0&&(I.msfix=0),I.exp_nspsytune=I.exp_nspsytune|1,I.internal_flags.nsPsy.attackthre<0&&(I.internal_flags.nsPsy.attackthre=y.NSATTACKTHRE),I.internal_flags.nsPsy.attackthre_s<0&&(I.internal_flags.nsPsy.attackthre_s=y.NSATTACKTHRE_S),E(I.scale>=0),I.scale<0&&(I.scale=1),I.ATHtype<0&&(I.ATHtype=4),I.ATHcurve<0&&(I.ATHcurve=4),I.athaa_loudapprox<0&&(I.athaa_loudapprox=2),I.interChRatio<0&&(I.interChRatio=0),I.useTemporal==null&&(I.useTemporal=!0),X.slot_lag=X.frac_SpF=0,I.VBR==s.vbr_off&&(X.slot_lag=X.frac_SpF=(I.version+1)*72e3*I.brate%I.out_samplerate|0),_.iteration_init(I),q.psymodel_init(I),E(I.scale>=0),0};function V(I,X){(I.in_buffer_0==null||I.in_buffer_nsamples<X)&&(I.in_buffer_0=f(X),I.in_buffer_1=f(X),I.in_buffer_nsamples=X)}this.lame_encode_flush=function(I,X,Ne,Te){var Fe=I.internal_flags,Ge=v([2,1152]),_e=0,We,st,ct,Ke,Et=Fe.mf_samples_to_encode-N.POSTDELAY,$e=$(I);if(Fe.mf_samples_to_encode<1)return 0;for(We=0,I.in_samplerate!=I.out_samplerate&&(Et+=16*I.out_samplerate/I.in_samplerate),ct=I.framesize-Et%I.framesize,ct<576&&(ct+=I.framesize),I.encoder_padding=ct,Ke=(Et+ct)/I.framesize;Ke>0&&_e>=0;){var tt=$e-Fe.mf_size,Ze=I.frameNum;tt*=I.in_samplerate,tt/=I.out_samplerate,tt>1152&&(tt=1152),tt<1&&(tt=1),st=Te-We,Te==0&&(st=0),_e=this.lame_encode_buffer(I,Ge[0],Ge[1],tt,X,Ne,st),Ne+=_e,We+=_e,Ke-=Ze!=I.frameNum?1:0}if(Fe.mf_samples_to_encode=0,_e<0||(st=Te-We,Te==0&&(st=0),F.flush_bitstream(I),_e=F.copy_buffer(Fe,X,Ne,st,1),_e<0))return _e;if(Ne+=_e,We+=_e,st=Te-We,Te==0&&(st=0),I.write_id3tag_automatic){if(Oe.id3tag_write_v1(I),_e=F.copy_buffer(Fe,X,Ne,st,0),_e<0)return _e;We+=_e}return We},this.lame_encode_buffer=function(I,X,Ne,Te,Fe,Ge,_e){var We=I.internal_flags,st=[null,null];if(We.Class_ID!=j)return-3;if(Te==0)return 0;V(We,Te),st[0]=We.in_buffer_0,st[1]=We.in_buffer_1;for(var ct=0;ct<Te;ct++)st[0][ct]=X[ct],We.channels_in>1&&(st[1][ct]=Ne[ct]);return se(I,st[0],st[1],Te,Fe,Ge,_e)};function $(I){var X=N.BLKSIZE+I.framesize-N.FFTOFFSET;return X=Math.max(X,512+I.framesize-32),E(O.MFSIZE>=X),X}function se(I,X,Ne,Te,Fe,Ge,_e){var We=I.internal_flags,st=0,ct,Ke,Et,$e,tt,Ze=[null,null],rt=[null,null];if(We.Class_ID!=j)return-3;if(Te==0)return 0;if(tt=F.copy_buffer(We,Fe,Ge,_e,0),tt<0)return tt;if(Ge+=tt,st+=tt,rt[0]=X,rt[1]=Ne,w.NEQ(I.scale,0)&&w.NEQ(I.scale,1))for(Ke=0;Ke<Te;++Ke)rt[0][Ke]*=I.scale,We.channels_out==2&&(rt[1][Ke]*=I.scale);if(w.NEQ(I.scale_left,0)&&w.NEQ(I.scale_left,1))for(Ke=0;Ke<Te;++Ke)rt[0][Ke]*=I.scale_left;if(w.NEQ(I.scale_right,0)&&w.NEQ(I.scale_right,1))for(Ke=0;Ke<Te;++Ke)rt[1][Ke]*=I.scale_right;if(I.num_channels==2&&We.channels_out==1)for(Ke=0;Ke<Te;++Ke)rt[0][Ke]=.5*(rt[0][Ke]+rt[1][Ke]),rt[1][Ke]=0;$e=$(I),Ze[0]=We.mfbuf[0],Ze[1]=We.mfbuf[1];for(var at=0;Te>0;){var we=[null,null],it=0,ut=0;we[0]=rt[0],we[1]=rt[1];var gt=new Ae;if(Mt(I,Ze,we,at,Te,gt),it=gt.n_in,ut=gt.n_out,We.findReplayGain&&!We.decode_on_the_fly&&a.AnalyzeSamples(We.rgdata,Ze[0],We.mf_size,Ze[1],We.mf_size,ut,We.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(Te-=it,at+=it,We.channels_out==2,We.mf_size+=ut,E(We.mf_size<=O.MFSIZE),We.mf_samples_to_encode<1&&(We.mf_samples_to_encode=N.ENCDELAY+N.POSTDELAY),We.mf_samples_to_encode+=ut,We.mf_size>=$e){var Ot=_e-st;if(_e==0&&(Ot=0),ct=Ee(I,Ze[0],Ze[1],Fe,Ge,Ot),ct<0)return ct;for(Ge+=ct,st+=ct,We.mf_size-=I.framesize,We.mf_samples_to_encode-=I.framesize,Et=0;Et<We.channels_out;Et++)for(Ke=0;Ke<We.mf_size;Ke++)Ze[Et][Ke]=Ze[Et][Ke+I.framesize]}}return E(Te==0),st}function Ee(I,X,Ne,Te,Fe,Ge){var _e=A.enc.lame_encode_mp3_frame(I,X,Ne,Te,Fe,Ge);return I.frameNum++,_e}function Ae(){this.n_in=0,this.n_out=0}function Me(){this.num_used=0}function Ce(I,X){return X!=0?Ce(X,I%X):I}function He(I,X,Ne){var Te=Math.PI*X;I/=Ne,I<0&&(I=0),I>1&&(I=1);var Fe=I-.5,Ge=.42-.5*Math.cos(2*I*Math.PI)+.08*Math.cos(4*I*Math.PI);return Math.abs(Fe)<1e-9?Te/Math.PI:Ge*Math.sin(Ne*Te*Fe)/(Math.PI*Ne*Fe)}function lt(I,X,Ne,Te,Fe,Ge,_e,We,st){var ct=I.internal_flags,Ke,Et=0,$e,tt=I.out_samplerate/Ce(I.out_samplerate,I.in_samplerate);tt>O.BPC&&(tt=O.BPC);var Ze=Math.abs(ct.resample_ratio-Math.floor(.5+ct.resample_ratio))<1e-4?1:0,rt=1/ct.resample_ratio;rt>1&&(rt=1);var at=31;at%2==0&&--at,at+=Ze;var we=at+1;if(ct.fill_buffer_resample_init==0){for(ct.inbuf_old[0]=f(we),ct.inbuf_old[1]=f(we),Ke=0;Ke<=2*tt;++Ke)ct.blackfilt[Ke]=f(we);for(ct.itime[0]=0,ct.itime[1]=0,Et=0;Et<=2*tt;Et++){var it=0,ut=(Et-tt)/(2*tt);for(Ke=0;Ke<=at;Ke++)it+=ct.blackfilt[Et][Ke]=He(Ke-ut,rt,at);for(Ke=0;Ke<=at;Ke++)ct.blackfilt[Et][Ke]/=it}ct.fill_buffer_resample_init=1}var gt=ct.inbuf_old[st];for($e=0;$e<Te;$e++){var Ot,wt;if(Ot=$e*ct.resample_ratio,Et=0|Math.floor(Ot-ct.itime[st]),at+Et-at/2>=_e)break;var ut=Ot-ct.itime[st]-(Et+.5*(at%2));E(Math.abs(ut)<=.501),wt=0|Math.floor(ut*2*tt+tt+.5);var Se=0;for(Ke=0;Ke<=at;++Ke){var me=Ke+Et-at/2,Re;E(me<_e),E(me+we>=0),Re=me<0?gt[we+me]:Fe[Ge+me],Se+=Re*ct.blackfilt[wt][Ke]}X[Ne+$e]=Se}if(We.num_used=Math.min(_e,at+Et-at/2),ct.itime[st]+=We.num_used-$e*ct.resample_ratio,We.num_used>=we)for(Ke=0;Ke<we;Ke++)gt[Ke]=Fe[Ge+We.num_used+Ke-we];else{var Ue=we-We.num_used;for(Ke=0;Ke<Ue;++Ke)gt[Ke]=gt[Ke+We.num_used];for(Et=0;Ke<we;++Ke,++Et)gt[Ke]=Fe[Ge+Et];E(Et==We.num_used)}return $e}function Mt(I,X,Ne,Te,Fe,Ge){var _e=I.internal_flags;if(_e.resample_ratio<.9999||_e.resample_ratio>1.0001)for(var We=0;We<_e.channels_out;We++){var st=new Me;Ge.n_out=lt(I,X[We],_e.mf_size,I.framesize,Ne[We],Te,Fe,st,We),Ge.n_in=st.num_used}else{Ge.n_out=Math.min(I.framesize,Fe),Ge.n_in=Ge.n_out;for(var ct=0;ct<Ge.n_out;++ct)X[0][_e.mf_size+ct]=Ne[0][Te+ct],_e.channels_out==2&&(X[1][_e.mf_size+ct]=Ne[1][Te+ct])}}}m.exports=Y},df75:function(m,T,t){var r=t("ca84"),n=t("7839");m.exports=Object.keys||function(e){return r(e,n)}},dfb9:function(m,T,t){var r=t("07fa");m.exports=function(n,s){for(var e=0,f=r(s),d=new n(f);f>e;)d[e]=s[e++];return d}},e01a:function(m,T,t){var r=t("23e7"),n=t("83ab"),s=t("da84"),e=t("e330"),f=t("1a2d"),d=t("1626"),v=t("3a9b"),E=t("577e"),y=t("9bf2").f,S=t("e893"),O=s.Symbol,b=O&&O.prototype;if(n&&d(O)&&(!("description"in b)||O().description!==void 0)){var g={},B=function(){var a=arguments.length<1||arguments[0]===void 0?void 0:E(arguments[0]),F=v(b,this)?new O(a):a===void 0?O():O(a);return a===""&&(g[F]=!0),F};S(B,O),B.prototype=b,b.constructor=B;var w=String(O("test"))=="Symbol(test)",h=e(b.toString),N=e(b.valueOf),Y=/^Symbol\((.*)\)[^)]+$/,A=e("".replace),L=e("".slice);y(b,"description",{configurable:!0,get:function(){var a=N(this),F=h(a);if(f(g,a))return"";var k=w?L(F,7,-1):A(F,Y,"$1");return k===""?void 0:k}}),r({global:!0,forced:!0},{Symbol:B})}},e107:function(m,T,t){var r=t("0206"),n=r.System,s=r.VbrMode;r.Float;var e=r.ShortBlock;r.Util;var f=r.Arrays;r.new_array_n;var d=r.new_byte;r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n;var v=r.assert;E.NUMTOCENTRIES=100,E.MAXFRAMESIZE=2880;function E(){var y,S,O;this.setModules=function(o,u,c){y=o,S=u,O=c};var b=1,g=2,B=4,w=8,h=E.NUMTOCENTRIES,N=E.MAXFRAMESIZE,Y=h+4+4+4+4+4,A=Y+9+1+1+8+1+1+3+1+1+2+4+2+2,L=128,D=64,a=32,F=null,k="Xing",_="Info",ee=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function q(o,u){if(o.nVbrNumFrames++,o.sum+=u,o.seen++,!(o.seen<o.want)&&(o.pos<o.size&&(o.bag[o.pos]=o.sum,o.pos++,o.seen=0),o.pos==o.size)){for(var c=1;c<o.size;c+=2)o.bag[c/2]=o.bag[c];o.want*=2,o.pos/=2}}function re(o,u){if(!(o.pos<=0))for(var c=1;c<h;++c){var R=c/h,U,C,z=0|Math.floor(R*o.pos);z>o.pos-1&&(z=o.pos-1),U=o.bag[z],C=o.sum;var V=0|256*U/C;V>255&&(V=255),u[c]=255&V}}this.addVbrFrame=function(o){var u=o.internal_flags,c=Tables.bitrate_table[o.version][u.bitrate_index];v(u.VBR_seek_table.bag!=null),q(u.VBR_seek_table,c)};function Oe(o,u){var c=o[u+0]&255;return c<<=8,c|=o[u+1]&255,c<<=8,c|=o[u+2]&255,c<<=8,c|=o[u+3]&255,c}function ue(o,u,c){o[u+0]=255&(c>>24&255),o[u+1]=255&(c>>16&255),o[u+2]=255&(c>>8&255),o[u+3]=255&(c&255)}function x(o,u,c){o[u+0]=255&(c>>8&255),o[u+1]=255&(c&255)}function Q(o,u){return new String(o,u,k.length(),F).equals(k)||new String(o,u,_.length(),F).equals(_)}function p(o,u,c){return 255&(o<<u|c&~(-1<<u))}function j(o,u){var c=o.internal_flags;u[0]=p(u[0],8,255),u[1]=p(u[1],3,7),u[1]=p(u[1],1,o.out_samplerate<16e3?0:1),u[1]=p(u[1],1,o.version),u[1]=p(u[1],2,4-3),u[1]=p(u[1],1,o.error_protection?0:1),u[2]=p(u[2],4,c.bitrate_index),u[2]=p(u[2],2,c.samplerate_index),u[2]=p(u[2],1,0),u[2]=p(u[2],1,o.extension),u[3]=p(u[3],2,o.mode.ordinal()),u[3]=p(u[3],2,c.mode_ext),u[3]=p(u[3],1,o.copyright),u[3]=p(u[3],1,o.original),u[3]=p(u[3],2,o.emphasis),u[0]=255;var R=255&(u[1]&241),U;o.version==1?U=L:o.out_samplerate<16e3?U=a:U=D,o.VBR==s.vbr_off&&(U=o.brate);var C;o.free_format?C=0:C=255&16*y.BitrateIndex(U,o.version,o.out_samplerate),o.version==1?(u[1]=255&(R|10),R=255&(u[2]&13),u[2]=255&(C|R)):(u[1]=255&(R|2),R=255&(u[2]&13),u[2]=255&(C|R))}this.getVbrTag=function(o){var u=new VBRTagData,c=0;u.flags=0;var R=o[c+1]>>3&1,U=o[c+2]>>2&3,C=o[c+3]>>6&3,z=o[c+2]>>4&15;if(z=Tables.bitrate_table[R][z],o[c+1]>>4==14?u.samprate=Tables.samplerate_table[2][U]:u.samprate=Tables.samplerate_table[R][U],R!=0?C!=3?c+=32+4:c+=17+4:C!=3?c+=17+4:c+=9+4,!Q(o,c))return null;c+=4,u.hId=R;var V=u.flags=Oe(o,c);if(c+=4,(V&b)!=0&&(u.frames=Oe(o,c),c+=4),(V&g)!=0&&(u.bytes=Oe(o,c),c+=4),(V&B)!=0){if(u.toc!=null)for(var $=0;$<h;$++)u.toc[$]=o[c+$];c+=h}u.vbrScale=-1,(V&w)!=0&&(u.vbrScale=Oe(o,c),c+=4),u.headersize=(R+1)*72e3*z/u.samprate,c+=21;var se=o[c+0]<<4;se+=o[c+1]>>4;var Ee=(o[c+1]&15)<<8;return Ee+=o[c+2]&255,(se<0||se>3e3)&&(se=-1),(Ee<0||Ee>3e3)&&(Ee=-1),u.encDelay=se,u.encPadding=Ee,u},this.InitVbrTag=function(o){var u=o.internal_flags,c;o.version==1?c=L:o.out_samplerate<16e3?c=a:c=D,o.VBR==s.vbr_off&&(c=o.brate);var R=(o.version+1)*72e3*c/o.out_samplerate,U=u.sideinfo_len+A;if(u.VBR_seek_table.TotalFrameSize=R,R<U||R>N){o.bWriteVbrTag=!1;return}u.VBR_seek_table.nVbrNumFrames=0,u.VBR_seek_table.nBytesWritten=0,u.VBR_seek_table.sum=0,u.VBR_seek_table.seen=0,u.VBR_seek_table.want=1,u.VBR_seek_table.pos=0,u.VBR_seek_table.bag==null&&(u.VBR_seek_table.bag=new int[400],u.VBR_seek_table.size=400);var C=d(N);j(o,C);for(var z=u.VBR_seek_table.TotalFrameSize,V=0;V<z;++V)S.add_dummy_byte(o,C[V]&255,1)};function H(o,u){var c=u^o;return u=u>>8^ee[c&255],u}this.updateMusicCRC=function(o,u,c,R){for(var U=0;U<R;++U)o[0]=H(u[c+U],o[0])};function Z(o,u,c,R,U){var C=o.internal_flags,z=0,V=o.encoder_delay,$=o.encoder_padding,se=100-10*o.VBR_q-o.quality,Ee=O.getLameVeryShortVersion(),Ae,Me=0,Ce,He=[1,5,3,2,4,0,3],lt=0|(o.lowpassfreq/100+.5>255?255:o.lowpassfreq/100+.5),Mt=0,I=0,X=0,Ne=o.internal_flags.noise_shaping,Te=0,Fe=0,Ge=0,_e=0,We=0,st=(o.exp_nspsytune&1)!=0,ct=(o.exp_nspsytune&2)!=0,Ke=!1,Et=!1,$e=o.internal_flags.nogap_total,tt=o.internal_flags.nogap_current,Ze=o.ATHtype,rt=0,at;switch(o.VBR){case vbr_abr:at=o.VBR_mean_bitrate_kbps;break;case vbr_off:at=o.brate;break;default:at=o.VBR_min_bitrate_kbps}switch(o.VBR.ordinal()<He.length?Ae=He[o.VBR.ordinal()]:Ae=0,Ce=16*Me+Ae,C.findReplayGain&&(C.RadioGain>510&&(C.RadioGain=510),C.RadioGain<-510&&(C.RadioGain=-510),I=8192,I|=3072,C.RadioGain>=0?I|=C.RadioGain:(I|=512,I|=-C.RadioGain)),C.findPeakSample&&(Mt=Math.abs(0|C.PeakSample/32767*Math.pow(2,23)+.5)),$e!=-1&&(tt>0&&(Et=!0),tt<$e-1&&(Ke=!0)),rt=Ze+((st?1:0)<<4)+((ct?1:0)<<5)+((Ke?1:0)<<6)+((Et?1:0)<<7),se<0&&(se=0),o.mode){case MONO:Te=0;break;case STEREO:Te=1;break;case DUAL_CHANNEL:Te=2;break;case JOINT_STEREO:o.force_ms?Te=4:Te=3;break;case NOT_SET:default:Te=7;break}o.in_samplerate<=32e3?Ge=0:o.in_samplerate==48e3?Ge=2:o.in_samplerate>48e3?Ge=3:Ge=1,(o.short_blocks==e.short_block_forced||o.short_blocks==e.short_block_dispensed||o.lowpassfreq==-1&&o.highpassfreq==-1||o.scale_left<o.scale_right||o.scale_left>o.scale_right||o.disable_reservoir&&o.brate<320||o.noATH||o.ATHonly||Ze==0||o.in_samplerate<=32e3)&&(Fe=1),_e=Ne+(Te<<2)+(Fe<<5)+(Ge<<6),We=C.nMusicCRC,ue(c,R+z,se),z+=4;for(var we=0;we<9;we++)c[R+z+we]=255&Ee.charAt(we);z+=9,c[R+z]=255&Ce,z++,c[R+z]=255&lt,z++,ue(c,R+z,Mt),z+=4,x(c,R+z,I),z+=2,x(c,R+z,X),z+=2,c[R+z]=255&rt,z++,at>=255?c[R+z]=255:c[R+z]=255&at,z++,c[R+z]=255&V>>4,c[R+z+1]=255&(V<<4)+($>>8),c[R+z+2]=255&$,z+=3,c[R+z]=255&_e,z++,c[R+z++]=0,x(c,R+z,o.preset),z+=2,ue(c,R+z,u),z+=4,x(c,R+z,We),z+=2;for(var it=0;it<z;it++)U=H(c[R+it],U);return x(c,R+z,U),z+=2,z}function P(o){o.seek(0);var u=d(10);o.readFully(u);var c;return new String(u,"ISO-8859-1").startsWith("ID3")?c=0:c=((u[6]&127)<<21|(u[7]&127)<<14|(u[8]&127)<<7|u[9]&127)+u.length,c}this.getLameTagFrame=function(o,u){var c=o.internal_flags;if(!o.bWriteVbrTag||c.Class_ID!=Lame.LAME_ID||c.VBR_seek_table.pos<=0)return 0;if(u.length<c.VBR_seek_table.TotalFrameSize)return c.VBR_seek_table.TotalFrameSize;f.fill(u,0,c.VBR_seek_table.TotalFrameSize,0),j(o,u);var R=d(h);if(o.free_format)for(var U=1;U<h;++U)R[U]=255&255*U/100;else re(c.VBR_seek_table,R);var C=c.sideinfo_len;o.error_protection&&(C-=2),o.VBR==s.vbr_off?(u[C++]=255&_.charAt(0),u[C++]=255&_.charAt(1),u[C++]=255&_.charAt(2),u[C++]=255&_.charAt(3)):(u[C++]=255&k.charAt(0),u[C++]=255&k.charAt(1),u[C++]=255&k.charAt(2),u[C++]=255&k.charAt(3)),ue(u,C,b+g+B+w),C+=4,ue(u,C,c.VBR_seek_table.nVbrNumFrames),C+=4;var z=c.VBR_seek_table.nBytesWritten+c.VBR_seek_table.TotalFrameSize;ue(u,C,0|z),C+=4,n.arraycopy(R,0,u,C,R.length),C+=R.length,o.error_protection&&S.CRC_writeheader(c,u);for(var V=0,U=0;U<C;U++)V=H(u[U],V);return C+=Z(o,z,u,C,V),c.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(o,u){var c=o.internal_flags;if(c.VBR_seek_table.pos<=0||(u.seek(u.length()),u.length()==0))return-1;var R=P(u);u.seek(R);var U=d(N),C=getLameTagFrame(o,U);return C>U.length?-1:(C<1||u.write(U,0,C),0)}}m.exports=E},e163:function(m,T,t){var r=t("da84"),n=t("1a2d"),s=t("1626"),e=t("7b0b"),f=t("f772"),d=t("e177"),v=f("IE_PROTO"),E=r.Object,y=E.prototype;m.exports=d?E.getPrototypeOf:function(S){var O=e(S);if(n(O,v))return O[v];var b=O.constructor;return s(b)&&O instanceof b?b.prototype:O instanceof E?y:null}},e177:function(m,T,t){var r=t("d039");m.exports=!r(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},e260:function(m,T,t){var r=t("fc6a"),n=t("44d2"),s=t("3f8c"),e=t("69f3"),f=t("9bf2").f,d=t("7dd0"),v=t("c430"),E=t("83ab"),y="Array Iterator",S=e.set,O=e.getterFor(y);m.exports=d(Array,"Array",function(g,B){S(this,{type:y,target:r(g),index:0,kind:B})},function(){var g=O(this),B=g.target,w=g.kind,h=g.index++;return!B||h>=B.length?(g.target=void 0,{value:void 0,done:!0}):w=="keys"?{value:h,done:!1}:w=="values"?{value:B[h],done:!1}:{value:[h,B[h]],done:!1}},"values");var b=s.Arguments=s.Array;if(n("keys"),n("values"),n("entries"),!v&&E&&b.name!=="values")try{f(b,"name",{value:"values"})}catch{}},e2cc:function(m,T,t){var r=t("6eeb");m.exports=function(n,s,e){for(var f in s)r(n,f,s[f],e);return n}},e323:function(m,T,t){var r=t("23e7"),n=t("e330"),s=t("1d80"),e=t("5926"),f=t("577e"),d=n("".slice),v=Math.max,E=Math.min,y=!"".substr||"ab".substr(-1)!=="b";r({target:"String",proto:!0,forced:y},{substr:function(O,b){var g=f(s(this)),B=g.length,w=e(O),h,N;return w===1/0&&(w=0),w<0&&(w=v(B+w,0)),h=b===void 0?B:e(b),h<=0||h===1/0?"":(N=E(w+h,B),w>=N?"":d(g,w,N))}})},e330:function(m,T,t){var r=t("40d5"),n=Function.prototype,s=n.bind,e=n.call,f=r&&s.bind(e,e);m.exports=r?function(d){return d&&f(d)}:function(d){return d&&function(){return e.apply(d,arguments)}}},e391:function(m,T,t){var r=t("577e");m.exports=function(n,s){return n===void 0?arguments.length<2?"":s:r(n)}},e439:function(m,T,t){var r=t("23e7"),n=t("d039"),s=t("fc6a"),e=t("06cf").f,f=t("83ab"),d=n(function(){e(1)}),v=!f||d;r({target:"Object",stat:!0,forced:v,sham:!f},{getOwnPropertyDescriptor:function(y,S){return e(s(y),S)}})},e538:function(m,T,t){var r=t("b622");T.f=r},e58c:function(m,T,t){var r=t("2ba4"),n=t("fc6a"),s=t("5926"),e=t("07fa"),f=t("a640"),d=Math.min,v=[].lastIndexOf,E=!!v&&1/[1].lastIndexOf(1,-0)<0,y=f("lastIndexOf"),S=E||!y;m.exports=S?function(b){if(E)return r(v,this,arguments)||0;var g=n(this),B=e(g),w=B-1;for(arguments.length>1&&(w=d(w,s(arguments[1]))),w<0&&(w=B+w);w>=0;w--)if(w in g&&g[w]===b)return w||0;return-1}:v},e5cb:function(m,T,t){var r=t("d066"),n=t("1a2d"),s=t("9112"),e=t("3a9b"),f=t("d2bb"),d=t("e893"),v=t("7156"),E=t("e391"),y=t("ab36"),S=t("c770"),O=t("b980"),b=t("c430");m.exports=function(g,B,w,h){var N=h?2:1,Y=g.split("."),A=Y[Y.length-1],L=r.apply(null,Y);if(!!L){var D=L.prototype;if(!b&&n(D,"cause")&&delete D.cause,!w)return L;var a=r("Error"),F=B(function(k,_){var ee=E(h?_:k,void 0),q=h?new L(k):new L;return ee!==void 0&&s(q,"message",ee),O&&s(q,"stack",S(q.stack,2)),this&&e(D,this)&&v(q,this,F),arguments.length>N&&y(q,arguments[N]),q});if(F.prototype=D,A!=="Error"&&(f?f(F,a):d(F,a,{name:!0})),d(F,L),!b)try{D.name!==A&&s(D,"name",A),D.constructor=F}catch{}return F}}},e667:function(m,T){m.exports=function(t){try{return{error:!1,value:t()}}catch(r){return{error:!0,value:r}}}},e6cf:function(m,T,t){var r=t("23e7"),n=t("c430"),s=t("da84"),e=t("d066"),f=t("c65b"),d=t("fea9"),v=t("6eeb"),E=t("e2cc"),y=t("d2bb"),S=t("d44e"),O=t("2626"),b=t("59ed"),g=t("1626"),B=t("861d"),w=t("19aa"),h=t("8925"),N=t("2266"),Y=t("1c7e"),A=t("4840"),L=t("2cf4").set,D=t("b575"),a=t("cdf9"),F=t("44de"),k=t("f069"),_=t("e667"),ee=t("01b4"),q=t("69f3"),re=t("94ca"),Oe=t("b622"),ue=t("6069"),x=t("605d"),Q=t("2d00"),p=Oe("species"),j="Promise",H=q.getterFor(j),Z=q.set,P=q.getterFor(j),o=d&&d.prototype,u=d,c=o,R=s.TypeError,U=s.document,C=s.process,z=k.f,V=z,$=!!(U&&U.createEvent&&s.dispatchEvent),se=g(s.PromiseRejectionEvent),Ee="unhandledrejection",Ae="rejectionhandled",Me=0,Ce=1,He=2,lt=1,Mt=2,I=!1,X,Ne,Te,Fe,Ge=re(j,function(){var we=h(u),it=we!==String(u);if(!it&&Q===66||n&&!c.finally)return!0;if(Q>=51&&/native code/.test(we))return!1;var ut=new u(function(wt){wt(1)}),gt=function(wt){wt(function(){},function(){})},Ot=ut.constructor={};return Ot[p]=gt,I=ut.then(function(){})instanceof gt,I?!it&&ue&&!se:!0}),_e=Ge||!Y(function(we){u.all(we).catch(function(){})}),We=function(we){var it;return B(we)&&g(it=we.then)?it:!1},st=function(we,it){var ut=it.value,gt=it.state==Ce,Ot=gt?we.ok:we.fail,wt=we.resolve,Se=we.reject,me=we.domain,Re,Ue,G;try{Ot?(gt||(it.rejection===Mt&&tt(it),it.rejection=lt),Ot===!0?Re=ut:(me&&me.enter(),Re=Ot(ut),me&&(me.exit(),G=!0)),Re===we.promise?Se(R("Promise-chain cycle")):(Ue=We(Re))?f(Ue,Re,wt,Se):wt(Re)):Se(ut)}catch(W){me&&!G&&me.exit(),Se(W)}},ct=function(we,it){we.notified||(we.notified=!0,D(function(){for(var ut=we.reactions,gt;gt=ut.get();)st(gt,we);we.notified=!1,it&&!we.rejection&&Et(we)}))},Ke=function(we,it,ut){var gt,Ot;$?(gt=U.createEvent("Event"),gt.promise=it,gt.reason=ut,gt.initEvent(we,!1,!0),s.dispatchEvent(gt)):gt={promise:it,reason:ut},!se&&(Ot=s["on"+we])?Ot(gt):we===Ee&&F("Unhandled promise rejection",ut)},Et=function(we){f(L,s,function(){var it=we.facade,ut=we.value,gt=$e(we),Ot;if(gt&&(Ot=_(function(){x?C.emit("unhandledRejection",ut,it):Ke(Ee,it,ut)}),we.rejection=x||$e(we)?Mt:lt,Ot.error))throw Ot.value})},$e=function(we){return we.rejection!==lt&&!we.parent},tt=function(we){f(L,s,function(){var it=we.facade;x?C.emit("rejectionHandled",it):Ke(Ae,it,we.value)})},Ze=function(we,it,ut){return function(gt){we(it,gt,ut)}},rt=function(we,it,ut){we.done||(we.done=!0,ut&&(we=ut),we.value=it,we.state=He,ct(we,!0))},at=function(we,it,ut){if(!we.done){we.done=!0,ut&&(we=ut);try{if(we.facade===it)throw R("Promise can't be resolved itself");var gt=We(it);gt?D(function(){var Ot={done:!1};try{f(gt,it,Ze(at,Ot,we),Ze(rt,Ot,we))}catch(wt){rt(Ot,wt,we)}}):(we.value=it,we.state=Ce,ct(we,!1))}catch(Ot){rt({done:!1},Ot,we)}}};if(Ge&&(u=function(it){w(this,c),b(it),f(X,this);var ut=H(this);try{it(Ze(at,ut),Ze(rt,ut))}catch(gt){rt(ut,gt)}},c=u.prototype,X=function(it){Z(this,{type:j,done:!1,notified:!1,parent:!1,reactions:new ee,rejection:!1,state:Me,value:void 0})},X.prototype=E(c,{then:function(it,ut){var gt=P(this),Ot=z(A(this,u));return gt.parent=!0,Ot.ok=g(it)?it:!0,Ot.fail=g(ut)&&ut,Ot.domain=x?C.domain:void 0,gt.state==Me?gt.reactions.add(Ot):D(function(){st(Ot,gt)}),Ot.promise},catch:function(we){return this.then(void 0,we)}}),Ne=function(){var we=new X,it=H(we);this.promise=we,this.resolve=Ze(at,it),this.reject=Ze(rt,it)},k.f=z=function(we){return we===u||we===Te?new Ne(we):V(we)},!n&&g(d)&&o!==Object.prototype)){Fe=o.then,I||(v(o,"then",function(it,ut){var gt=this;return new u(function(Ot,wt){f(Fe,gt,Ot,wt)}).then(it,ut)},{unsafe:!0}),v(o,"catch",c.catch,{unsafe:!0}));try{delete o.constructor}catch{}y&&y(o,c)}r({global:!0,wrap:!0,forced:Ge},{Promise:u}),S(u,j,!1,!0),O(j),Te=e(j),r({target:j,stat:!0,forced:Ge},{reject:function(it){var ut=z(this);return f(ut.reject,void 0,it),ut.promise}}),r({target:j,stat:!0,forced:n||Ge},{resolve:function(it){return a(n&&this===Te?u:this,it)}}),r({target:j,stat:!0,forced:_e},{all:function(it){var ut=this,gt=z(ut),Ot=gt.resolve,wt=gt.reject,Se=_(function(){var me=b(ut.resolve),Re=[],Ue=0,G=1;N(it,function(W){var ie=Ue++,ce=!1;G++,f(me,ut,W).then(function(pe){ce||(ce=!0,Re[ie]=pe,--G||Ot(Re))},wt)}),--G||Ot(Re)});return Se.error&&wt(Se.value),gt.promise},race:function(it){var ut=this,gt=z(ut),Ot=gt.reject,wt=_(function(){var Se=b(ut.resolve);N(it,function(me){f(Se,ut,me).then(gt.resolve,Ot)})});return wt.error&&Ot(wt.value),gt.promise}})},e893:function(m,T,t){var r=t("1a2d"),n=t("56ef"),s=t("06cf"),e=t("9bf2");m.exports=function(f,d,v){for(var E=n(d),y=e.f,S=s.f,O=0;O<E.length;O++){var b=E[O];!r(f,b)&&!(v&&r(v,b))&&y(f,b,S(d,b))}}},e8b5:function(m,T,t){var r=t("c6b6");m.exports=Array.isArray||function(s){return r(s)=="Array"}},e91f:function(m,T,t){var r=t("ebb5"),n=t("4d64").indexOf,s=r.aTypedArray,e=r.exportTypedArrayMethod;e("indexOf",function(d){return n(s(this),d,arguments.length>1?arguments[1]:void 0)})},e95a:function(m,T,t){var r=t("b622"),n=t("3f8c"),s=r("iterator"),e=Array.prototype;m.exports=function(f){return f!==void 0&&(n.Array===f||e[s]===f)}},e9c4:function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("d066"),e=t("2ba4"),f=t("e330"),d=t("d039"),v=n.Array,E=s("JSON","stringify"),y=f(/./.exec),S=f("".charAt),O=f("".charCodeAt),b=f("".replace),g=f(1 .toString),B=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,h=/^[\uDC00-\uDFFF]$/,N=function(A,L,D){var a=S(D,L-1),F=S(D,L+1);return y(w,A)&&!y(h,F)||y(h,A)&&!y(w,a)?"\\u"+g(O(A,0),16):A},Y=d(function(){return E("\uDF06\uD834")!=='"\\udf06\\ud834"'||E("\uDEAD")!=='"\\udead"'});E&&r({target:"JSON",stat:!0,forced:Y},{stringify:function(L,D,a){for(var F=0,k=arguments.length,_=v(k);F<k;F++)_[F]=arguments[F];var ee=e(E,null,_);return typeof ee=="string"?b(ee,B,N):ee}})},eac5:function(m,T,t){var r=t("861d"),n=Math.floor;m.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&n(e)===e}},ebb5:function(m,T,t){var r=t("a981"),n=t("83ab"),s=t("da84"),e=t("1626"),f=t("861d"),d=t("1a2d"),v=t("f5df"),E=t("0d51"),y=t("9112"),S=t("6eeb"),O=t("9bf2").f,b=t("3a9b"),g=t("e163"),B=t("d2bb"),w=t("b622"),h=t("90e3"),N=s.Int8Array,Y=N&&N.prototype,A=s.Uint8ClampedArray,L=A&&A.prototype,D=N&&g(N),a=Y&&g(Y),F=Object.prototype,k=s.TypeError,_=w("toStringTag"),ee=h("TYPED_ARRAY_TAG"),q=h("TYPED_ARRAY_CONSTRUCTOR"),re=r&&!!B&&v(s.opera)!=="Opera",Oe=!1,ue,x,Q,p={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j={BigInt64Array:8,BigUint64Array:8},H=function(U){if(!f(U))return!1;var C=v(U);return C==="DataView"||d(p,C)||d(j,C)},Z=function(R){if(!f(R))return!1;var U=v(R);return d(p,U)||d(j,U)},P=function(R){if(Z(R))return R;throw k("Target is not a typed array")},o=function(R){if(e(R)&&(!B||b(D,R)))return R;throw k(E(R)+" is not a typed array constructor")},u=function(R,U,C,z){if(!!n){if(C)for(var V in p){var $=s[V];if($&&d($.prototype,R))try{delete $.prototype[R]}catch{try{$.prototype[R]=U}catch{}}}(!a[R]||C)&&S(a,R,C?U:re&&Y[R]||U,z)}},c=function(R,U,C){var z,V;if(!!n){if(B){if(C){for(z in p)if(V=s[z],V&&d(V,R))try{delete V[R]}catch{}}if(!D[R]||C)try{return S(D,R,C?U:re&&D[R]||U)}catch{}else return}for(z in p)V=s[z],V&&(!V[R]||C)&&S(V,R,U)}};for(ue in p)x=s[ue],Q=x&&x.prototype,Q?y(Q,q,x):re=!1;for(ue in j)x=s[ue],Q=x&&x.prototype,Q&&y(Q,q,x);if((!re||!e(D)||D===Function.prototype)&&(D=function(){throw k("Incorrect invocation")},re))for(ue in p)s[ue]&&B(s[ue],D);if((!re||!a||a===F)&&(a=D.prototype,re))for(ue in p)s[ue]&&B(s[ue].prototype,a);if(re&&g(L)!==a&&B(L,a),n&&!d(a,_)){Oe=!0,O(a,_,{get:function(){return f(this)?this[ee]:void 0}});for(ue in p)s[ue]&&y(s[ue],ee,ue)}m.exports={NATIVE_ARRAY_BUFFER_VIEWS:re,TYPED_ARRAY_CONSTRUCTOR:q,TYPED_ARRAY_TAG:Oe&&ee,aTypedArray:P,aTypedArrayConstructor:o,exportTypedArrayMethod:u,exportTypedArrayStaticMethod:c,isView:H,isTypedArray:Z,TypedArray:D,TypedArrayPrototype:a}},f052:function(m,T){function t(r){this.bits=r}m.exports=t},f069:function(m,T,t){var r=t("59ed"),n=function(s){var e,f;this.promise=new s(function(d,v){if(e!==void 0||f!==void 0)throw TypeError("Bad Promise constructor");e=d,f=v}),this.resolve=r(e),this.reject=r(f)};m.exports.f=function(s){return new n(s)}},f183:function(m,T,t){var r=t("23e7"),n=t("e330"),s=t("d012"),e=t("861d"),f=t("1a2d"),d=t("9bf2").f,v=t("241c"),E=t("057f"),y=t("4fadd"),S=t("90e3"),O=t("bb2f"),b=!1,g=S("meta"),B=0,w=function(D){d(D,g,{value:{objectID:"O"+B++,weakData:{}}})},h=function(D,a){if(!e(D))return typeof D=="symbol"?D:(typeof D=="string"?"S":"P")+D;if(!f(D,g)){if(!y(D))return"F";if(!a)return"E";w(D)}return D[g].objectID},N=function(D,a){if(!f(D,g)){if(!y(D))return!0;if(!a)return!1;w(D)}return D[g].weakData},Y=function(D){return O&&b&&y(D)&&!f(D,g)&&w(D),D},A=function(){L.enable=function(){},b=!0;var D=v.f,a=n([].splice),F={};F[g]=1,D(F).length&&(v.f=function(k){for(var _=D(k),ee=0,q=_.length;ee<q;ee++)if(_[ee]===g){a(_,ee,1);break}return _},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:E.f}))},L=m.exports={enable:A,fastKey:h,getWeakData:N,onFreeze:Y};s[g]=!0},f26d:function(m,T,t){var r=t("a1b7");function n(){this.thm=new r,this.en=new r}m.exports=n},f36a:function(m,T,t){var r=t("e330");m.exports=r([].slice)},f3b5:function(m,T,t){var r=t("0206");r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var n=r.new_float;r.new_float_n;var s=r.new_int;r.new_int_n,r.assert;var e=t("9828");function f(){this.xr=n(576),this.l3_enc=s(576),this.scalefac=s(e.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=s(3),this.subblock_gain=s(3+1),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=s(e.SFBMAX),this.window=s(e.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=s(4),this.max_nonzero_coeff=0;var d=this;function v(y){return new Int32Array(y)}function E(y){return new Float32Array(y)}this.assign=function(y){d.xr=E(y.xr),d.l3_enc=v(y.l3_enc),d.scalefac=v(y.scalefac),d.xrpow_max=y.xrpow_max,d.part2_3_length=y.part2_3_length,d.big_values=y.big_values,d.count1=y.count1,d.global_gain=y.global_gain,d.scalefac_compress=y.scalefac_compress,d.block_type=y.block_type,d.mixed_block_flag=y.mixed_block_flag,d.table_select=v(y.table_select),d.subblock_gain=v(y.subblock_gain),d.region0_count=y.region0_count,d.region1_count=y.region1_count,d.preflag=y.preflag,d.scalefac_scale=y.scalefac_scale,d.count1table_select=y.count1table_select,d.part2_length=y.part2_length,d.sfb_lmax=y.sfb_lmax,d.sfb_smin=y.sfb_smin,d.psy_lmax=y.psy_lmax,d.sfbmax=y.sfbmax,d.psymax=y.psymax,d.sfbdivide=y.sfbdivide,d.width=v(y.width),d.window=v(y.window),d.count1bits=y.count1bits,d.sfb_partition_table=y.sfb_partition_table.slice(0),d.slen=v(y.slen),d.max_nonzero_coeff=y.max_nonzero_coeff}}m.exports=f},f3e2:function(m,T,t){var r=t("0206"),n=r.System;r.VbrMode,r.Float,r.ShortBlock;var s=r.Util,e=r.Arrays;r.new_array_n,r.new_byte,r.new_double;var f=r.new_float;r.new_float_n,r.new_int,r.new_int_n,r.assert;var d=t("4b5e");function v(){var E=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*s.SQRT2*.5/2384e-9,.017876148*s.SQRT2*.5/2384e-9,.003134727*s.SQRT2*.5/2384e-9,.002457142*s.SQRT2*.5/2384e-9,971317e-9*s.SQRT2*.5/2384e-9,218868e-9*s.SQRT2*.5/2384e-9,101566e-9*s.SQRT2*.5/2384e-9,13828e-9*s.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],y=12,S=36,O=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],b=O[d.SHORT_TYPE],g=O[d.SHORT_TYPE],B=O[d.SHORT_TYPE],w=O[d.SHORT_TYPE],h=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function N(L,D,a){for(var F=10,k=D+238-14-286,_=-15;_<0;_++){var ee,q,re;ee=E[F+-10],q=L[k+-224]*ee,re=L[D+224]*ee,ee=E[F+-9],q+=L[k+-160]*ee,re+=L[D+160]*ee,ee=E[F+-8],q+=L[k+-96]*ee,re+=L[D+96]*ee,ee=E[F+-7],q+=L[k+-32]*ee,re+=L[D+32]*ee,ee=E[F+-6],q+=L[k+32]*ee,re+=L[D+-32]*ee,ee=E[F+-5],q+=L[k+96]*ee,re+=L[D+-96]*ee,ee=E[F+-4],q+=L[k+160]*ee,re+=L[D+-160]*ee,ee=E[F+-3],q+=L[k+224]*ee,re+=L[D+-224]*ee,ee=E[F+-2],q+=L[D+-256]*ee,re-=L[k+256]*ee,ee=E[F+-1],q+=L[D+-192]*ee,re-=L[k+192]*ee,ee=E[F+0],q+=L[D+-128]*ee,re-=L[k+128]*ee,ee=E[F+1],q+=L[D+-64]*ee,re-=L[k+64]*ee,ee=E[F+2],q+=L[D+0]*ee,re-=L[k+0]*ee,ee=E[F+3],q+=L[D+64]*ee,re-=L[k+-64]*ee,ee=E[F+4],q+=L[D+128]*ee,re-=L[k+-128]*ee,ee=E[F+5],q+=L[D+192]*ee,re-=L[k+-192]*ee,q*=E[F+6],ee=re-q,a[30+_*2]=re+q,a[31+_*2]=E[F+7]*ee,F+=18,D--,k++}{var q,re,Oe,ue;re=L[D+-16]*E[F+-10],q=L[D+-32]*E[F+-2],re+=(L[D+-48]-L[D+16])*E[F+-9],q+=L[D+-96]*E[F+-1],re+=(L[D+-80]+L[D+48])*E[F+-8],q+=L[D+-160]*E[F+0],re+=(L[D+-112]-L[D+80])*E[F+-7],q+=L[D+-224]*E[F+1],re+=(L[D+-144]+L[D+112])*E[F+-6],q-=L[D+32]*E[F+2],re+=(L[D+-176]-L[D+144])*E[F+-5],q-=L[D+96]*E[F+3],re+=(L[D+-208]+L[D+176])*E[F+-4],q-=L[D+160]*E[F+4],re+=(L[D+-240]-L[D+208])*E[F+-3],q-=L[D+224],Oe=q-re,ue=q+re,re=a[14],q=a[15]-re,a[31]=ue+re,a[30]=Oe+q,a[15]=Oe-q,a[14]=ue-re}{var x;x=a[28]-a[0],a[0]+=a[28],a[28]=x*E[F+-2*18+7],x=a[29]-a[1],a[1]+=a[29],a[29]=x*E[F+-2*18+7],x=a[26]-a[2],a[2]+=a[26],a[26]=x*E[F+-4*18+7],x=a[27]-a[3],a[3]+=a[27],a[27]=x*E[F+-4*18+7],x=a[24]-a[4],a[4]+=a[24],a[24]=x*E[F+-6*18+7],x=a[25]-a[5],a[5]+=a[25],a[25]=x*E[F+-6*18+7],x=a[22]-a[6],a[6]+=a[22],a[22]=x*s.SQRT2,x=a[23]-a[7],a[7]+=a[23],a[23]=x*s.SQRT2-a[7],a[7]-=a[6],a[22]-=a[7],a[23]-=a[22],x=a[6],a[6]=a[31]-x,a[31]=a[31]+x,x=a[7],a[7]=a[30]-x,a[30]=a[30]+x,x=a[22],a[22]=a[15]-x,a[15]=a[15]+x,x=a[23],a[23]=a[14]-x,a[14]=a[14]+x,x=a[20]-a[8],a[8]+=a[20],a[20]=x*E[F+-10*18+7],x=a[21]-a[9],a[9]+=a[21],a[21]=x*E[F+-10*18+7],x=a[18]-a[10],a[10]+=a[18],a[18]=x*E[F+-12*18+7],x=a[19]-a[11],a[11]+=a[19],a[19]=x*E[F+-12*18+7],x=a[16]-a[12],a[12]+=a[16],a[16]=x*E[F+-14*18+7],x=a[17]-a[13],a[13]+=a[17],a[17]=x*E[F+-14*18+7],x=-a[20]+a[24],a[20]+=a[24],a[24]=x*E[F+-12*18+7],x=-a[21]+a[25],a[21]+=a[25],a[25]=x*E[F+-12*18+7],x=a[4]-a[8],a[4]+=a[8],a[8]=x*E[F+-12*18+7],x=a[5]-a[9],a[5]+=a[9],a[9]=x*E[F+-12*18+7],x=a[0]-a[12],a[0]+=a[12],a[12]=x*E[F+-4*18+7],x=a[1]-a[13],a[1]+=a[13],a[13]=x*E[F+-4*18+7],x=a[16]-a[28],a[16]+=a[28],a[28]=x*E[F+-4*18+7],x=-a[17]+a[29],a[17]+=a[29],a[29]=x*E[F+-4*18+7],x=s.SQRT2*(a[2]-a[10]),a[2]+=a[10],a[10]=x,x=s.SQRT2*(a[3]-a[11]),a[3]+=a[11],a[11]=x,x=s.SQRT2*(-a[18]+a[26]),a[18]+=a[26],a[26]=x-a[18],x=s.SQRT2*(-a[19]+a[27]),a[19]+=a[27],a[27]=x-a[19],x=a[2],a[19]-=a[3],a[3]-=x,a[2]=a[31]-x,a[31]+=x,x=a[3],a[11]-=a[19],a[18]-=x,a[3]=a[30]-x,a[30]+=x,x=a[18],a[27]-=a[11],a[19]-=x,a[18]=a[15]-x,a[15]+=x,x=a[19],a[10]-=x,a[19]=a[14]-x,a[14]+=x,x=a[10],a[11]-=x,a[10]=a[23]-x,a[23]+=x,x=a[11],a[26]-=x,a[11]=a[22]-x,a[22]+=x,x=a[26],a[27]-=x,a[26]=a[7]-x,a[7]+=x,x=a[27],a[27]=a[6]-x,a[6]+=x,x=s.SQRT2*(a[0]-a[4]),a[0]+=a[4],a[4]=x,x=s.SQRT2*(a[1]-a[5]),a[1]+=a[5],a[5]=x,x=s.SQRT2*(a[16]-a[20]),a[16]+=a[20],a[20]=x,x=s.SQRT2*(a[17]-a[21]),a[17]+=a[21],a[21]=x,x=-s.SQRT2*(a[8]-a[12]),a[8]+=a[12],a[12]=x-a[8],x=-s.SQRT2*(a[9]-a[13]),a[9]+=a[13],a[13]=x-a[9],x=-s.SQRT2*(a[25]-a[29]),a[25]+=a[29],a[29]=x-a[25],x=-s.SQRT2*(a[24]+a[28]),a[24]-=a[28],a[28]=x-a[24],x=a[24]-a[16],a[24]=x,x=a[20]-x,a[20]=x,x=a[28]-x,a[28]=x,x=a[25]-a[17],a[25]=x,x=a[21]-x,a[21]=x,x=a[29]-x,a[29]=x,x=a[17]-a[1],a[17]=x,x=a[9]-x,a[9]=x,x=a[25]-x,a[25]=x,x=a[5]-x,a[5]=x,x=a[21]-x,a[21]=x,x=a[13]-x,a[13]=x,x=a[29]-x,a[29]=x,x=a[1]-a[0],a[1]=x,x=a[16]-x,a[16]=x,x=a[17]-x,a[17]=x,x=a[8]-x,a[8]=x,x=a[9]-x,a[9]=x,x=a[24]-x,a[24]=x,x=a[25]-x,a[25]=x,x=a[4]-x,a[4]=x,x=a[5]-x,a[5]=x,x=a[20]-x,a[20]=x,x=a[21]-x,a[21]=x,x=a[12]-x,a[12]=x,x=a[13]-x,a[13]=x,x=a[28]-x,a[28]=x,x=a[29]-x,a[29]=x,x=a[0],a[0]+=a[31],a[31]-=x,x=a[1],a[1]+=a[30],a[30]-=x,x=a[16],a[16]+=a[15],a[15]-=x,x=a[17],a[17]+=a[14],a[14]-=x,x=a[8],a[8]+=a[23],a[23]-=x,x=a[9],a[9]+=a[22],a[22]-=x,x=a[24],a[24]+=a[7],a[7]-=x,x=a[25],a[25]+=a[6],a[6]-=x,x=a[4],a[4]+=a[27],a[27]-=x,x=a[5],a[5]+=a[26],a[26]-=x,x=a[20],a[20]+=a[11],a[11]-=x,x=a[21],a[21]+=a[10],a[10]-=x,x=a[12],a[12]+=a[19],a[19]-=x,x=a[13],a[13]+=a[18],a[18]-=x,x=a[28],a[28]+=a[3],a[3]-=x,x=a[29],a[29]+=a[2],a[2]-=x}}function Y(L,D){for(var a=0;a<3;a++){var F,k,_,ee,q,re;ee=L[D+2*3]*O[d.SHORT_TYPE][0]-L[D+5*3],F=L[D+0*3]*O[d.SHORT_TYPE][2]-L[D+3*3],k=ee+F,_=ee-F,ee=L[D+5*3]*O[d.SHORT_TYPE][0]+L[D+2*3],F=L[D+3*3]*O[d.SHORT_TYPE][2]+L[D+0*3],q=ee+F,re=-ee+F,F=(L[D+1*3]*O[d.SHORT_TYPE][1]-L[D+4*3])*2069978111953089e-26,ee=(L[D+4*3]*O[d.SHORT_TYPE][1]+L[D+1*3])*2069978111953089e-26,L[D+3*0]=k*190752519173728e-25+F,L[D+3*5]=-q*190752519173728e-25+ee,_=_*.8660254037844387*1907525191737281e-26,q=q*.5*1907525191737281e-26+ee,L[D+3*1]=_-q,L[D+3*2]=_+q,k=k*.5*1907525191737281e-26-F,re=re*.8660254037844387*1907525191737281e-26,L[D+3*3]=k+re,L[D+3*4]=k-re,D++}}function A(L,D,a){var F,k;{var _,ee,q,re,Oe,ue,x,Q;_=a[17]-a[9],q=a[15]-a[11],re=a[14]-a[12],Oe=a[0]+a[8],ue=a[1]+a[7],x=a[2]+a[6],Q=a[3]+a[5],L[D+17]=Oe+x-Q-(ue-a[4]),k=(Oe+x-Q)*g[12+7]+(ue-a[4]),F=(_-q-re)*g[12+6],L[D+5]=F+k,L[D+6]=F-k,ee=(a[16]-a[10])*g[12+6],ue=ue*g[12+7]+a[4],F=_*g[12+0]+ee+q*g[12+1]+re*g[12+2],k=-Oe*g[12+4]+ue-x*g[12+5]+Q*g[12+3],L[D+1]=F+k,L[D+2]=F-k,F=_*g[12+1]-ee-q*g[12+2]+re*g[12+0],k=-Oe*g[12+5]+ue-x*g[12+3]+Q*g[12+4],L[D+9]=F+k,L[D+10]=F-k,F=_*g[12+2]-ee+q*g[12+0]-re*g[12+1],k=Oe*g[12+3]-ue+x*g[12+4]-Q*g[12+5],L[D+13]=F+k,L[D+14]=F-k}{var p,j,H,Z,P,o,u,c;p=a[8]-a[0],H=a[6]-a[2],Z=a[5]-a[3],P=a[17]+a[9],o=a[16]+a[10],u=a[15]+a[11],c=a[14]+a[12],L[D+0]=P+u+c+(o+a[13]),F=(P+u+c)*g[12+7]-(o+a[13]),k=(p-H+Z)*g[12+6],L[D+11]=F+k,L[D+12]=F-k,j=(a[7]-a[1])*g[12+6],o=a[13]-o*g[12+7],F=P*g[12+3]-o+u*g[12+4]+c*g[12+5],k=p*g[12+2]+j+H*g[12+0]+Z*g[12+1],L[D+3]=F+k,L[D+4]=F-k,F=-P*g[12+5]+o-u*g[12+3]-c*g[12+4],k=p*g[12+1]+j-H*g[12+2]-Z*g[12+0],L[D+7]=F+k,L[D+8]=F-k,F=-P*g[12+4]+o-u*g[12+5]-c*g[12+3],k=p*g[12+0]-j+H*g[12+1]-Z*g[12+2],L[D+15]=F+k,L[D+16]=F-k}}this.mdct_sub48=function(L,D,a){for(var F=D,k=286,_=0;_<L.channels_out;_++){for(var ee=0;ee<L.mode_gr;ee++){for(var q,re=L.l3_side.tt[ee][_],Oe=re.xr,ue=0,x=L.sb_sample[_][1-ee],Q=0,p=0;p<18/2;p++)for(N(F,k,x[Q]),N(F,k+32,x[Q+1]),Q+=2,k+=64,q=1;q<32;q+=2)x[Q-1][q]*=-1;for(q=0;q<32;q++,ue+=18){var j=re.block_type,H=L.sb_sample[_][ee],Z=L.sb_sample[_][1-ee];if(re.mixed_block_flag!=0&&q<2&&(j=0),L.amp_filter[q]<1e-12)e.fill(Oe,ue+0,ue+18,0);else{if(L.amp_filter[q]<1)for(var p=0;p<18;p++)Z[p][h[q]]*=L.amp_filter[q];if(j==d.SHORT_TYPE){for(var p=-y/4;p<0;p++){var P=O[d.SHORT_TYPE][p+3];Oe[ue+p*3+9]=H[9+p][h[q]]*P-H[8-p][h[q]],Oe[ue+p*3+18]=H[14-p][h[q]]*P+H[15+p][h[q]],Oe[ue+p*3+10]=H[15+p][h[q]]*P-H[14-p][h[q]],Oe[ue+p*3+19]=Z[2-p][h[q]]*P+Z[3+p][h[q]],Oe[ue+p*3+11]=Z[3+p][h[q]]*P-Z[2-p][h[q]],Oe[ue+p*3+20]=Z[8-p][h[q]]*P+Z[9+p][h[q]]}Y(Oe,ue)}else{for(var o=f(18),p=-S/4;p<0;p++){var u,c;u=O[j][p+27]*Z[p+9][h[q]]+O[j][p+36]*Z[8-p][h[q]],c=O[j][p+9]*H[p+9][h[q]]-O[j][p+18]*H[8-p][h[q]],o[p+9]=u-c*b[3+p+9],o[p+18]=u*b[3+p+9]+c}A(Oe,ue,o)}}if(j!=d.SHORT_TYPE&&q!=0)for(var p=7;p>=0;--p){var R,U;R=Oe[ue+p]*B[20+p]+Oe[ue+-1-p]*w[28+p],U=Oe[ue+p]*w[28+p]-Oe[ue+-1-p]*B[20+p],Oe[ue+-1-p]=R,Oe[ue+p]=U}}}if(F=a,k=286,L.mode_gr==1)for(var C=0;C<18;C++)n.arraycopy(L.sb_sample[_][1][C],0,L.sb_sample[_][0][C],0,32)}}}m.exports=v},f5df:function(m,T,t){var r=t("da84"),n=t("00ee"),s=t("1626"),e=t("c6b6"),f=t("b622"),d=f("toStringTag"),v=r.Object,E=e(function(){return arguments}())=="Arguments",y=function(S,O){try{return S[O]}catch{}};m.exports=n?e:function(S){var O,b,g;return S===void 0?"Undefined":S===null?"Null":typeof(b=y(O=v(S),d))=="string"?b:E?e(O):(g=e(O))=="Object"&&s(O.callee)?"Arguments":g}},f772:function(m,T,t){var r=t("5692"),n=t("90e3"),s=r("keys");m.exports=function(e){return s[e]||(s[e]=n(e))}},f8cd:function(m,T,t){var r=t("da84"),n=t("5926"),s=r.RangeError;m.exports=function(e){var f=n(e);if(f<0)throw s("The argument can't be less than 0");return f}},fb15:function(m,T,t){if(t.r(T),typeof window!="undefined"){var r=window.document.currentScript;{var n=t("8875");r=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n})}var s=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(t.p=s[1])}t("7a82");var e=t("8bbf"),f={class:"vac-chat-container"};function d(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("rooms-list"),Xe=Object(e.resolveComponent)("room"),ft=Object(e.resolveComponent)("media-preview");return Object(e.openBlock)(),Object(e.createElementBlock)("div",{class:"vac-card-window",style:Object(e.normalizeStyle)([{height:i.height},J.cssVars])},[Object(e.createElementVNode)("div",f,[i.singleRoom?Object(e.createCommentVNode)("",!0):(Object(e.openBlock)(),Object(e.createBlock)(De,{key:0,"current-user-id":i.currentUserId,rooms:J.orderedRooms,"loading-rooms":i.loadingRooms,"rooms-loaded":i.roomsLoaded,room:oe.room,"room-actions":i.roomActions,"text-messages":J.t,"show-search":i.showSearch,"show-add-room":i.showAddRoom,"show-rooms-list":oe.showRoomsList,"text-formatting":i.textFormatting,"link-options":i.linkOptions,"is-mobile":oe.isMobile,"scroll-distance":i.scrollDistance,onFetchRoom:J.fetchRoom,onFetchMoreRooms:J.fetchMoreRooms,onLoadingMoreRooms:l[0]||(l[0]=function(Ye){return oe.loadingMoreRooms=Ye}),onAddRoom:J.addRoom,onRoomActionHandler:J.roomActionHandler},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Ye,mt){return{name:mt,fn:Object(e.withCtx)(function(vt){return[Object(e.renderSlot)(M.$slots,mt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(vt)))]})}})]),1032,["current-user-id","rooms","loading-rooms","rooms-loaded","room","room-actions","text-messages","show-search","show-add-room","show-rooms-list","text-formatting","link-options","is-mobile","scroll-distance","onFetchRoom","onFetchMoreRooms","onAddRoom","onRoomActionHandler"])),Object(e.createVNode)(Xe,{"current-user-id":i.currentUserId,rooms:i.rooms,"room-id":oe.room.roomId||"","load-first-room":i.loadFirstRoom,messages:i.messages,"room-message":i.roomMessage,"messages-loaded":i.messagesLoaded,"menu-actions":i.menuActions,"message-actions":i.messageActions,"message-selection-actions":i.messageSelectionActions,"auto-scroll":i.autoScroll,"show-send-icon":i.showSendIcon,"show-files":i.showFiles,"show-audio":i.showAudio,"audio-bit-rate":i.audioBitRate,"audio-sample-rate":i.audioSampleRate,"show-emojis":i.showEmojis,"show-reaction-emojis":i.showReactionEmojis,"show-new-messages-divider":i.showNewMessagesDivider,"show-footer":i.showFooter,"text-messages":J.t,"single-room":i.singleRoom,"show-rooms-list":oe.showRoomsList,"text-formatting":i.textFormatting,"link-options":i.linkOptions,"is-mobile":oe.isMobile,"loading-rooms":i.loadingRooms,"room-info-enabled":i.roomInfoEnabled,"textarea-action-enabled":i.textareaActionEnabled,"user-tags-enabled":i.userTagsEnabled,"emojis-suggestion-enabled":i.emojisSuggestionEnabled,"scroll-distance":i.scrollDistance,"accepted-files":i.acceptedFiles,"templates-text":i.templatesText,"username-options":i.usernameOptions,onToggleRoomsList:J.toggleRoomsList,onRoomInfo:J.roomInfo,onFetchMessages:J.fetchMessages,onSendMessage:J.sendMessage,onEditMessage:J.editMessage,onDeleteMessage:J.deleteMessage,onOpenFile:J.openFile,onOpenUserTag:J.openUserTag,onOpenFailedMessage:J.openFailedMessage,onMenuActionHandler:J.menuActionHandler,onMessageActionHandler:J.messageActionHandler,onMessageSelectionActionHandler:J.messageSelectionActionHandler,onSendMessageReaction:J.sendMessageReaction,onTypingMessage:J.typingMessage,onTextareaActionHandler:J.textareaActionHandler},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Ye,mt){return{name:mt,fn:Object(e.withCtx)(function(vt){return[Object(e.renderSlot)(M.$slots,mt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(vt)))]})}})]),1032,["current-user-id","rooms","room-id","load-first-room","messages","room-message","messages-loaded","menu-actions","message-actions","message-selection-actions","auto-scroll","show-send-icon","show-files","show-audio","audio-bit-rate","audio-sample-rate","show-emojis","show-reaction-emojis","show-new-messages-divider","show-footer","text-messages","single-room","show-rooms-list","text-formatting","link-options","is-mobile","loading-rooms","room-info-enabled","textarea-action-enabled","user-tags-enabled","emojis-suggestion-enabled","scroll-distance","accepted-files","templates-text","username-options","onToggleRoomsList","onRoomInfo","onFetchMessages","onSendMessage","onEditMessage","onDeleteMessage","onOpenFile","onOpenUserTag","onOpenFailedMessage","onMenuActionHandler","onMessageActionHandler","onMessageSelectionActionHandler","onSendMessageReaction","onTypingMessage","onTextareaActionHandler"])]),Object(e.createVNode)(e.Transition,{name:"vac-fade-preview",appear:""},{default:Object(e.withCtx)(function(){return[oe.showMediaPreview?(Object(e.openBlock)(),Object(e.createBlock)(ft,{key:0,file:oe.previewFile,onCloseMediaPreview:l[1]||(l[1]=function(Ye){return oe.showMediaPreview=!1})},null,8,["file"])):Object(e.createCommentVNode)("",!0)]}),_:1})],4)}t("b64b"),t("a4d3"),t("4de4"),t("d3b7"),t("e439"),t("4160"),t("159b"),t("dbb4"),t("1d1c");function v(M,l,i){return l in M?Object.defineProperty(M,l,{value:i,enumerable:!0,configurable:!0,writable:!0}):M[l]=i,M}function E(M,l){var i=Object.keys(M);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(M);l&&(ae=ae.filter(function(oe){return Object.getOwnPropertyDescriptor(M,oe).enumerable})),i.push.apply(i,ae)}return i}function y(M){for(var l=1;l<arguments.length;l++){var i=arguments[l]!=null?arguments[l]:{};l%2?E(Object(i),!0).forEach(function(ae){v(M,ae,i[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach(function(ae){Object.defineProperty(M,ae,Object.getOwnPropertyDescriptor(i,ae))})}return M}t("a9e3"),t("d81d"),t("4e82"),t("fb6a"),t("7db0"),t("4fad");var S={key:0,class:"vac-rooms-empty"},O={key:1,id:"rooms-list",class:"vac-room-list"},b=["id","onClick"],g={key:0,id:"infinite-loader-rooms"};function B(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("rooms-search"),Xe=Object(e.resolveComponent)("loader"),ft=Object(e.resolveComponent)("room-content");return Object(e.withDirectives)((Object(e.openBlock)(),Object(e.createElementBlock)("div",{class:Object(e.normalizeClass)(["vac-rooms-container",{"vac-rooms-container-full":i.isMobile,"vac-app-border-r":!i.isMobile}])},[Object(e.renderSlot)(M.$slots,"rooms-header"),Object(e.renderSlot)(M.$slots,"rooms-list-search",{},function(){return[Object(e.createVNode)(De,{rooms:i.rooms,"loading-rooms":i.loadingRooms,"text-messages":i.textMessages,"show-search":i.showSearch,"show-add-room":i.showAddRoom,onSearchRoom:J.searchRoom,onAddRoom:l[0]||(l[0]=function(Ye){return M.$emit("add-room")})},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Ye,mt){return{name:mt,fn:Object(e.withCtx)(function(vt){return[Object(e.renderSlot)(M.$slots,mt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(vt)))]})}})]),1032,["rooms","loading-rooms","text-messages","show-search","show-add-room","onSearchRoom"])]}),Object(e.createVNode)(Xe,{show:i.loadingRooms},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Ye,mt){return{name:mt,fn:Object(e.withCtx)(function(vt){return[Object(e.renderSlot)(M.$slots,mt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(vt)))]})}})]),1032,["show"]),!i.loadingRooms&&!i.rooms.length?(Object(e.openBlock)(),Object(e.createElementBlock)("div",S,[Object(e.renderSlot)(M.$slots,"rooms-empty",{},function(){return[Object(e.createTextVNode)(Object(e.toDisplayString)(i.textMessages.ROOMS_EMPTY),1)]})])):Object(e.createCommentVNode)("",!0),i.loadingRooms?Object(e.createCommentVNode)("",!0):(Object(e.openBlock)(),Object(e.createElementBlock)("div",O,[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(oe.filteredRooms,function(Ye){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{id:Ye.roomId,key:Ye.roomId,class:Object(e.normalizeClass)(["vac-room-item",{"vac-room-selected":oe.selectedRoomId===Ye.roomId}]),onClick:function(vt){return J.openRoom(Ye)}},[Object(e.createVNode)(ft,{"current-user-id":i.currentUserId,room:Ye,"text-formatting":i.textFormatting,"link-options":i.linkOptions,"text-messages":i.textMessages,"room-actions":i.roomActions,onRoomActionHandler:l[1]||(l[1]=function(mt){return M.$emit("room-action-handler",mt)})},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(mt,vt){return{name:vt,fn:Object(e.withCtx)(function(Vt){return[Object(e.renderSlot)(M.$slots,vt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(Vt)))]})}})]),1032,["current-user-id","room","text-formatting","link-options","text-messages","room-actions"])],10,b)}),128)),Object(e.createVNode)(e.Transition,{name:"vac-fade-message"},{default:Object(e.withCtx)(function(){return[i.rooms.length&&!i.loadingRooms?(Object(e.openBlock)(),Object(e.createElementBlock)("div",g,[Object(e.createVNode)(Xe,{show:oe.showLoader,infinite:!0},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Ye,mt){return{name:mt,fn:Object(e.withCtx)(function(vt){return[Object(e.renderSlot)(M.$slots,mt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(vt)))]})}})]),1032,["show"])])):Object(e.createCommentVNode)("",!0)]}),_:3})]))],2)),[[e.vShow,i.showRoomsList]])}t("4795");var w=Object(e.createElementVNode)("div",{id:"vac-circle"},null,-1);function h(M,l,i,ae,oe,J){return Object(e.openBlock)(),Object(e.createBlock)(e.Transition,{name:"vac-fade-spinner",appear:""},{default:Object(e.withCtx)(function(){return[i.show?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:Object(e.normalizeClass)(["vac-loader-wrapper",{"vac-container-center":!i.infinite,"vac-container-top":i.infinite}])},[Object(e.renderSlot)(M.$slots,"spinner-icon",Object(e.normalizeProps)(Object(e.guardReactiveProps)({show:i.show,infinite:i.infinite})),function(){return[w]})],2)):Object(e.createCommentVNode)("",!0)]}),_:3})}var N={name:"Loader",props:{show:{type:Boolean,default:!1},infinite:{type:Boolean,default:!1}}},Y=t("6b0d"),A=t.n(Y),D=A()(N,[["render",h]]),a={key:0,class:"vac-icon-search"},F=["placeholder"];function k(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("svg-icon");return Object(e.openBlock)(),Object(e.createElementBlock)("div",{class:Object(e.normalizeClass)({"vac-box-search":J.showSearchBar,"vac-box-empty":!J.showSearchBar})},[i.showSearch?(Object(e.openBlock)(),Object(e.createElementBlock)(e.Fragment,{key:0},[!i.loadingRooms&&i.rooms.length?(Object(e.openBlock)(),Object(e.createElementBlock)("div",a,[Object(e.renderSlot)(M.$slots,"search-icon",{},function(){return[Object(e.createVNode)(De,{name:"search"})]})])):Object(e.createCommentVNode)("",!0),!i.loadingRooms&&i.rooms.length?(Object(e.openBlock)(),Object(e.createElementBlock)("input",{key:1,type:"search",placeholder:i.textMessages.SEARCH,autocomplete:"off",class:"vac-input",onInput:l[0]||(l[0]=function(Xe){return M.$emit("search-room",Xe)})},null,40,F)):Object(e.createCommentVNode)("",!0)],64)):Object(e.createCommentVNode)("",!0),i.showAddRoom?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:1,class:"vac-svg-button vac-add-icon",onClick:l[1]||(l[1]=function(Xe){return M.$emit("add-room")})},[Object(e.renderSlot)(M.$slots,"add-icon",{},function(){return[Object(e.createVNode)(De,{name:"add"})]})])):Object(e.createCommentVNode)("",!0)],2)}t("99af"),t("b0c0");var _=["viewBox"],ee=["id","d"],q=["id","d"];function re(M,l,i,ae,oe,J){return Object(e.openBlock)(),Object(e.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:"0 0 ".concat(J.size," ").concat(J.size)},[Object(e.createElementVNode)("path",{id:J.svgId,d:oe.svgItem[i.name].path},null,8,ee),oe.svgItem[i.name].path2?(Object(e.openBlock)(),Object(e.createElementBlock)("path",{key:0,id:J.svgId,d:oe.svgItem[i.name].path2},null,8,q)):Object(e.createCommentVNode)("",!0)],8,_)}var Oe={name:"SvgIcon",props:{name:{type:String,default:null},param:{type:String,default:null}},data:function(){return{svgItem:{search:{path:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},add:{path:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},toggle:{path:"M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z"},menu:{path:"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"},close:{path:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"},file:{path:"M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},paperclip:{path:"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z"},"close-outline":{path:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},send:{path:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},emoji:{path:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"},document:{path:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"},pencil:{path:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"},checkmark:{path:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},"double-checkmark":{path:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"},eye:{path:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},dropdown:{path:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},deleted:{path:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z"},microphone:{size:"large",path:"M432.8,216.4v39.2c0,45.2-15.3,84.3-45.2,118.4c-29.8,33.2-67.3,52.8-111.6,57.9v40.9h78.4c5.1,0,10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6c0,5.1-1.7,10.2-6,13.6c-4.3,4.3-8.5,6-13.6,6H157.6c-5.1,0-10.2-1.7-13.6-6c-4.3-4.3-6-8.5-6-13.6c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6H236v-40.9c-44.3-5.1-81.8-23.9-111.6-57.9s-45.2-73.3-45.2-118.4v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6s10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6v39.2c0,37.5,13.6,70.7,40,97.1s59.6,40,97.1,40s70.7-13.6,97.1-40c26.4-26.4,40-59.6,40-97.1v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6c5.1,0,10.2,1.7,13.6,6C430.2,206.2,432.8,211.3,432.8,216.4z M353.5,98v157.6c0,27.3-9.4,50.3-29,69c-19.6,19.6-42.6,29-69,29s-50.3-9.4-69-29c-19.6-19.6-29-42.6-29-69V98c0-27.3,9.4-50.3,29-69c19.6-19.6,42.6-29,69-29s50.3,9.4,69,29C344.2,47.7,353.5,71.6,353.5,98z"},"audio-play":{size:"medium",path:"M43.331,21.237L7.233,0.397c-0.917-0.529-2.044-0.529-2.96,0c-0.916,0.528-1.48,1.505-1.48,2.563v41.684   c0,1.058,0.564,2.035,1.48,2.563c0.458,0.268,0.969,0.397,1.48,0.397c0.511,0,1.022-0.133,1.48-0.397l36.098-20.84   c0.918-0.529,1.479-1.506,1.479-2.564S44.247,21.767,43.331,21.237z"},"audio-pause":{size:"medium",path:"M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z",path2:"M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z"}}}},computed:{svgId:function(){var l=this.param?"-"+this.param:"";return"vac-icon-".concat(this.name).concat(l)},size:function(){var l=this.svgItem[this.name];return l.size==="large"?512:l.size==="medium"?48:24}}},x=A()(Oe,[["render",re]]),Q={name:"RoomsSearch",components:{SvgIcon:x},props:{textMessages:{type:Object,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0}},emits:["search-room","add-room"],computed:{showSearchBar:function(){return this.showSearch||this.showAddRoom}}},j=A()(Q,[["render",k]]),H={class:"vac-room-container"},Z={class:"vac-name-container vac-text-ellipsis"},P={class:"vac-title-container"},o={class:"vac-room-name vac-text-ellipsis"},u={key:1,class:"vac-text-date"},c={key:0},R={key:1,class:"vac-text-ellipsis"},U={key:3,class:"vac-text-ellipsis"},C={class:"vac-room-options-container"},z={key:0,class:"vac-badge-counter vac-room-badge"},V={key:0,class:"vac-menu-options"},$={class:"vac-menu-list"},se=["onClick"];function Ee(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("svg-icon"),Xe=Object(e.resolveComponent)("format-message"),ft=Object(e.resolveDirective)("click-outside");return Object(e.openBlock)(),Object(e.createElementBlock)("div",H,[Object(e.renderSlot)(M.$slots,"room-list-item",Object(e.normalizeProps)(Object(e.guardReactiveProps)({room:i.room})),function(){return[Object(e.renderSlot)(M.$slots,"room-list-avatar",Object(e.normalizeProps)(Object(e.guardReactiveProps)({room:i.room})),function(){return[i.room.avatar?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-avatar",style:Object(e.normalizeStyle)({"background-image":"url('".concat(i.room.avatar,"')")})},null,4)):Object(e.createCommentVNode)("",!0)]}),Object(e.createElementVNode)("div",Z,[Object(e.createElementVNode)("div",P,[J.userStatus?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:Object(e.normalizeClass)(["vac-state-circle",{"vac-state-online":J.userStatus==="online"}])},null,2)):Object(e.createCommentVNode)("",!0),Object(e.createElementVNode)("div",o,Object(e.toDisplayString)(i.room.roomName),1),i.room.lastMessage?(Object(e.openBlock)(),Object(e.createElementBlock)("div",u,Object(e.toDisplayString)(i.room.lastMessage.timestamp),1)):Object(e.createCommentVNode)("",!0)]),Object(e.createElementVNode)("div",{class:Object(e.normalizeClass)(["vac-text-last",{"vac-message-new":i.room.lastMessage&&i.room.lastMessage.new&&!J.typingUsers}])},[J.isMessageCheckmarkVisible?(Object(e.openBlock)(),Object(e.createElementBlock)("span",c,[Object(e.renderSlot)(M.$slots,"checkmark-icon",Object(e.normalizeProps)(Object(e.guardReactiveProps)({message:i.room.lastMessage})),function(){return[Object(e.createVNode)(De,{name:i.room.lastMessage.distributed?"double-checkmark":"checkmark",param:i.room.lastMessage.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])]})])):Object(e.createCommentVNode)("",!0),i.room.lastMessage&&!i.room.lastMessage.deleted&&J.isAudio?(Object(e.openBlock)(),Object(e.createElementBlock)("div",R,[Object(e.renderSlot)(M.$slots,"microphone-icon",{},function(){return[Object(e.createVNode)(De,{name:"microphone",class:"vac-icon-microphone"})]}),Object(e.createTextVNode)(" "+Object(e.toDisplayString)(J.formattedDuration),1)])):i.room.lastMessage?(Object(e.openBlock)(),Object(e.createBlock)(Xe,{key:2,content:J.getLastMessage,deleted:!!i.room.lastMessage.deleted&&!J.typingUsers,users:i.room.users,linkify:!1,"text-formatting":i.textFormatting,"link-options":i.linkOptions,"single-line":!0},{"deleted-icon":Object(e.withCtx)(function(Ye){return[Object(e.renderSlot)(M.$slots,"deleted-icon",Object(e.normalizeProps)(Object(e.guardReactiveProps)(Ye)))]}),_:3},8,["content","deleted","users","text-formatting","link-options"])):Object(e.createCommentVNode)("",!0),!i.room.lastMessage&&J.typingUsers?(Object(e.openBlock)(),Object(e.createElementBlock)("div",U,Object(e.toDisplayString)(J.typingUsers),1)):Object(e.createCommentVNode)("",!0),Object(e.createElementVNode)("div",C,[i.room.unreadCount?(Object(e.openBlock)(),Object(e.createElementBlock)("div",z,Object(e.toDisplayString)(i.room.unreadCount),1)):Object(e.createCommentVNode)("",!0),Object(e.renderSlot)(M.$slots,"room-list-options",Object(e.normalizeProps)(Object(e.guardReactiveProps)({room:i.room})),function(){return[i.roomActions.length?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-svg-button vac-list-room-options",onClick:l[0]||(l[0]=Object(e.withModifiers)(function(Ye){return oe.roomMenuOpened=i.room.roomId},["stop"]))},[Object(e.renderSlot)(M.$slots,"room-list-options-icon",{},function(){return[Object(e.createVNode)(De,{name:"dropdown",param:"room"})]})])):Object(e.createCommentVNode)("",!0),i.roomActions.length?(Object(e.openBlock)(),Object(e.createBlock)(e.Transition,{key:1,name:"vac-slide-left"},{default:Object(e.withCtx)(function(){return[oe.roomMenuOpened===i.room.roomId?Object(e.withDirectives)((Object(e.openBlock)(),Object(e.createElementBlock)("div",V,[Object(e.createElementVNode)("div",$,[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(i.roomActions,function(Ye){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:Ye.name},[Object(e.createElementVNode)("div",{class:"vac-menu-item",onClick:Object(e.withModifiers)(function(mt){return J.roomActionHandler(Ye)},["stop"])},Object(e.toDisplayString)(Ye.title),9,se)])}),128))])])),[[ft,J.closeRoomMenu]]):Object(e.createCommentVNode)("",!0)]}),_:1})):Object(e.createCommentVNode)("",!0)]})])],2)])]})])}t("cc71"),t("c5d0"),t("2315");var Ae={class:"vac-image-link-container"},Me={class:"vac-image-link-message"},Ce={key:1},He={key:1};function lt(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("svg-icon");return Object(e.openBlock)(),Object(e.createElementBlock)("div",{class:Object(e.normalizeClass)(["vac-format-message-wrapper",{"vac-text-ellipsis":i.singleLine}])},[i.textFormatting.disabled?(Object(e.openBlock)(),Object(e.createElementBlock)("div",He,Object(e.toDisplayString)(J.formattedContent),1)):(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:Object(e.normalizeClass)({"vac-text-ellipsis":i.singleLine})},[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(J.linkifiedMessage,function(Xe,ft){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:ft,class:"vac-format-container"},[(Object(e.openBlock)(),Object(e.createBlock)(Object(e.resolveDynamicComponent)(Xe.url?"a":"span"),{class:Object(e.normalizeClass)({"vac-text-ellipsis":i.singleLine,"vac-text-bold":Xe.bold,"vac-text-italic":i.deleted||Xe.italic,"vac-text-strike":Xe.strike,"vac-text-underline":Xe.underline,"vac-text-inline-code":!i.singleLine&&Xe.inline,"vac-text-multiline-code":!i.singleLine&&Xe.multiline,"vac-text-tag":!i.singleLine&&!i.reply&&Xe.tag}),href:Xe.href,target:Xe.href?i.linkOptions.target:null,rel:Xe.href?i.linkOptions.rel:null,onClick:function(mt){return J.openTag(Xe)}},{default:Object(e.withCtx)(function(){return[Object(e.renderSlot)(M.$slots,"deleted-icon",Object(e.normalizeProps)(Object(e.guardReactiveProps)({deleted:i.deleted})),function(){return[i.deleted?(Object(e.openBlock)(),Object(e.createBlock)(De,{key:0,name:"deleted",class:"vac-icon-deleted"})):Object(e.createCommentVNode)("",!0)]}),Xe.url&&Xe.image?(Object(e.openBlock)(),Object(e.createElementBlock)(e.Fragment,{key:0},[Object(e.createElementVNode)("div",Ae,[Object(e.createElementVNode)("div",{class:"vac-image-link",style:Object(e.normalizeStyle)({"background-image":"url('".concat(Xe.value,"')"),height:Xe.height})},null,4)]),Object(e.createElementVNode)("div",Me,[Object(e.createElementVNode)("span",null,Object(e.toDisplayString)(Xe.value),1)])],64)):(Object(e.openBlock)(),Object(e.createElementBlock)("span",Ce,Object(e.toDisplayString)(Xe.value),1))]}),_:2},1032,["class","href","target","rel","onClick"]))])}),128))],2))],2)}t("277d");function Mt(M,l){(l==null||l>M.length)&&(l=M.length);for(var i=0,ae=new Array(l);i<l;i++)ae[i]=M[i];return ae}function I(M){if(Array.isArray(M))return Mt(M)}t("e01a"),t("d28b"),t("e260"),t("3ca3"),t("ddb0"),t("a630");function X(M){if(typeof Symbol!="undefined"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}t("ac1f"),t("00b4");function Ne(M,l){if(!!M){if(typeof M=="string")return Mt(M,l);var i=Object.prototype.toString.call(M).slice(8,-1);if(i==="Object"&&M.constructor&&(i=M.constructor.name),i==="Map"||i==="Set")return Array.from(M);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Mt(M,l)}}t("d9e2"),t("d401");function Te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fe(M){return I(M)||X(M)||Ne(M)||Te()}t("c975"),t("baa5"),t("45fc"),t("caad"),t("2532"),t("a1f0"),t("4d63"),t("c607"),t("2c3e"),t("25f0"),t("5319"),t("5b81"),t("e323"),t("466d"),t("6062");var Ge=t("74fe"),_e=function(M,l,i){var ae,oe={bold:i.bold,italic:i.italic,strike:i.strike,underline:i.underline,multilineCode:i.multilineCode,inlineCode:i.inlineCode},J=(ae={},v(ae,oe.bold,{end:"\\"+oe.bold,allowed_chars:".",type:"bold"}),v(ae,oe.italic,{end:oe.italic,allowed_chars:".",type:"italic"}),v(ae,oe.strike,{end:oe.strike,allowed_chars:".",type:"strike"}),v(ae,oe.underline,{end:oe.underline,allowed_chars:".",type:"underline"}),v(ae,oe.multilineCode,{end:oe.multilineCode,allowed_chars:`(.|
)`,type:"multiline-code"}),v(ae,oe.inlineCode,{end:oe.inlineCode,allowed_chars:".",type:"inline-code"}),v(ae,"<usertag>",{allowed_chars:".",end:"</usertag>",type:"tag"}),ae),De=We(M,J),Xe=st(De,J),ft=[].concat.apply([],Xe);return l&&$e(ft),ft};function We(M,l){var i=[],ae=-1,oe=null,J=Ge.find(M),De=!1;if(J.length>0&&(ae=M.indexOf(J[0].value),De=!0),Object.keys(l).forEach(function(Xt){var kr=M.indexOf(Xt);kr>=0&&(ae<0||kr<ae)&&(ae=kr,oe=Xt,De=!1)}),De&&oe!==-1){var Xe=M.substr(0,ae),ft=M.substr(ae,J[0].value.length),Ye=M.substr(ae+J[0].value.length);return i.push(Xe),i.push(ft),i=i.concat(We(Ye,l)),i}if(oe){var mt=M.substr(0,ae),vt=oe,Vt=M.substr(ae+vt.length);if(M.replace(/\s/g,"").length===vt.length*2)return[M];var bt=Vt.match(new RegExp("^("+(l[vt].allowed_chars||".")+"*"+(l[vt].end?"?":"")+")"+(l[vt].end?"("+l[vt].end+")":""),"m"));if(!bt||!bt[1])mt=mt+vt,i.push(mt);else{mt&&i.push(mt);var Nt={start:vt,content:We(bt[1],l),end:bt[2],type:l[vt].type};i.push(Nt),Vt=Vt.substr(bt[0].length)}return i=i.concat(We(Vt,l)),i}else return M?[M]:[]}function st(M,l){var i=[];return M.forEach(function(ae){typeof ae=="string"?i.push({types:[],value:ae}):l[ae.start]&&i.push(ct(ae))}),i}function ct(M){var l=[];return Ke(M,l,[]),l}function Ke(M,l,i){M.content.forEach(function(ae){typeof ae=="string"?l.push({types:Et(i.concat([M.type])),value:ae}):Ke(ae,l,Et([ae.type].concat([M.type]).concat(i)))})}function Et(M){return Fe(new Set(M))}function $e(M){var l=[];return M.forEach(function(i){var ae=Ge.find(i.value);if(ae.length){var oe=i.value.replace(ae[0].value,"");l.push({types:i.types,value:oe}),i.types=["url"].concat(i.types),i.href=ae[0].href,i.value=ae[0].value}l.push(i)}),l}var tt=t("c9d9"),Ze={name:"FormatMessage",components:{SvgIcon:x},props:{content:{type:[String,Number],required:!0},deleted:{type:Boolean,default:!1},users:{type:Array,default:function(){return[]}},linkify:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!1},reply:{type:Boolean,default:!1},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0}},emits:["open-user-tag"],computed:{linkifiedMessage:function(){var l=this,i=_e(this.formatTags(this.content),this.linkify&&!this.linkOptions.disabled,this.textFormatting);return i.forEach(function(ae){ae.url=l.checkType(ae,"url"),ae.bold=l.checkType(ae,"bold"),ae.italic=l.checkType(ae,"italic"),ae.strike=l.checkType(ae,"strike"),ae.underline=l.checkType(ae,"underline"),ae.inline=l.checkType(ae,"inline-code"),ae.multiline=l.checkType(ae,"multiline-code"),ae.tag=l.checkType(ae,"tag"),ae.image=l.checkImageType(ae)}),i},formattedContent:function(){return this.formatTags(this.content)}},methods:{checkType:function(l,i){return l.types.indexOf(i)!==-1},checkImageType:function(l){var i=l.value.lastIndexOf("."),ae=l.value.lastIndexOf("/");ae>i&&(i=-1);var oe=l.value.substring(i+1,l.value.length),J=i>0&&tt.b.some(function(De){return oe.toLowerCase().includes(De)});return J&&this.setImageSize(l),J},setImageSize:function(l){var i=new Image;i.src=l.value,i.addEventListener("load",ae);function ae(oe){var J=oe.path[0].width/150;l.height=Math.round(oe.path[0].height/J)+"px",i.removeEventListener("load",ae)}},formatTags:function(l){var i=this,ae="<usertag>",oe="</usertag>",J=Fe(l.matchAll(new RegExp(ae,"gi"))).map(function(Xe){return Xe.index}),De=l;return J.forEach(function(Xe){var ft=De.substring(Xe+ae.length,De.indexOf(oe,Xe)),Ye=i.users.find(function(mt){return mt._id===ft});l=l.replaceAll(ft,"@".concat((Ye==null?void 0:Ye.username)||"unknown"))}),l},openTag:function(l){if(!this.singleLine&&this.checkType(l,"tag")){var i=this.users.find(function(ae){return l.value.indexOf(ae.username)!==-1});this.$emit("open-user-tag",i)}}}},at=A()(Ze,[["render",lt]]),we=t("53ca");t("e9c4");var it="__v-click-outside",ut=typeof window!="undefined",gt=typeof navigator!="undefined",Ot=ut&&("ontouchstart"in window||gt&&navigator.msMaxTouchPoints>0),wt=Ot?["touchstart"]:["click"],Se=function(l){var i=typeof l=="function";if(!i&&Object(we.a)(l)!=="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:i?l:l.handler,middleware:l.middleware||function(ae){return ae},events:l.events||wt,isActive:l.isActive!==!1,detectIframe:l.detectIframe!==!1,capture:Boolean(l.capture)}},me=function(l){var i=l.event,ae=l.handler,oe=l.middleware;oe(i)&&ae(i)},Re=function(l){var i=l.el,ae=l.event,oe=l.handler,J=l.middleware;setTimeout(function(){var De=document,Xe=De.activeElement;Xe&&Xe.tagName==="IFRAME"&&!i.contains(Xe)&&me({event:ae,handler:oe,middleware:J})},0)},Ue=function(l){var i=l.el,ae=l.event,oe=l.handler,J=l.middleware,De=ae.path||ae.composedPath&&ae.composedPath(),Xe=De?De.indexOf(i)<0:!i.contains(ae.target);!Xe||me({event:ae,handler:oe,middleware:J})},G=function(l,i){var ae=i.value,oe=Se(ae),J=oe.events,De=oe.handler,Xe=oe.middleware,ft=oe.isActive,Ye=oe.detectIframe,mt=oe.capture;if(!!ft){if(l[it]=J.map(function(Vt){return{event:Vt,srcTarget:document.documentElement,handler:function(Nt){return Ue({el:l,event:Nt,handler:De,middleware:Xe})},capture:mt}}),Ye){var vt={event:"blur",srcTarget:window,handler:function(bt){return Re({el:l,event:bt,handler:De,middleware:Xe})},capture:mt};l[it]=[].concat(Fe(l[it]),[vt])}l[it].forEach(function(Vt){var bt=Vt.event,Nt=Vt.srcTarget,Xt=Vt.handler;return setTimeout(function(){!l[it]||Nt.addEventListener(bt,Xt,mt)},0)})}},W=function(l){var i=l[it]||[];i.forEach(function(ae){var oe=ae.event,J=ae.srcTarget,De=ae.handler,Xe=ae.capture;return J.removeEventListener(oe,De,Xe)}),delete l[it]},ie=function(l,i){var ae=i.value,oe=i.oldValue;JSON.stringify(ae)!==JSON.stringify(oe)&&(W(l),G(l,{value:ae}))},ce={beforeMount:G,updated:ie,unmounted:W},pe=ut?ce:{};t("a15b");var te=function(M,l,i){if(M.typingUsers&&M.typingUsers.length){var ae=M.users.filter(function(oe){if(oe._id!==l&&M.typingUsers.indexOf(oe._id)!==-1&&!(oe.status&&oe.status.state==="offline"))return!0});return ae.length?M.users.length===2?i.IS_TYPING:ae.map(function(oe){return oe.username}).join(", ")+" "+i.IS_TYPING:void 0}},he=t("bd43"),be=he.isAudioFile,ve={name:"RoomsContent",components:{SvgIcon:x,FormatMessage:at},directives:{clickOutside:pe},props:{currentUserId:{type:[String,Number],required:!0},room:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},roomActions:{type:Array,required:!0}},emits:["room-action-handler"],data:function(){return{roomMenuOpened:null}},computed:{getLastMessage:function(){var l=this,i=this.typingUsers;if(i)return i;var ae=this.room.lastMessage.deleted?this.textMessages.MESSAGE_DELETED:this.room.lastMessage.content;if(this.room.users.length<=2)return ae;var oe=this.room.users.find(function(J){return J._id===l.room.lastMessage.senderId});return this.room.lastMessage.username?"".concat(this.room.lastMessage.username," - ").concat(ae):!oe||oe._id===this.currentUserId?ae:"".concat(oe.username," - ").concat(ae)},userStatus:function(){var l=this;if(!(!this.room.users||this.room.users.length!==2)){var i=this.room.users.find(function(ae){return ae._id!==l.currentUserId});return i&&i.status?i.status.state:null}},typingUsers:function(){return te(this.room,this.currentUserId,this.textMessages)},isMessageCheckmarkVisible:function(){return!this.typingUsers&&this.room.lastMessage&&!this.room.lastMessage.deleted&&this.room.lastMessage.senderId===this.currentUserId&&(this.room.lastMessage.saved||this.room.lastMessage.distributed||this.room.lastMessage.seen)},formattedDuration:function(){var l,i,ae=(l=this.room.lastMessage)===null||l===void 0||(i=l.files)===null||i===void 0?void 0:i[0];if(ae){if(!ae.duration)return"".concat(ae.name,".").concat(ae.extension);var oe=Math.floor(ae.duration);return(oe-(oe%=60))/60+(oe>9?":":":0")+oe}return""},isAudio:function(){return this.room.lastMessage.files?be(this.room.lastMessage.files[0]):!1}},methods:{roomActionHandler:function(l){this.closeRoomMenu(),this.$emit("room-action-handler",{action:l,roomId:this.room.roomId})},closeRoomMenu:function(){this.roomMenuOpened=null}}},xe=A()(ve,[["render",Ee]]);t("2ca0");var Le=function(M,l,i){var ae=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return!i||i===""?M:M.filter(function(oe){return ae?et(oe[l]).startsWith(et(i)):et(oe[l]).includes(et(i))})};function et(M){return M.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}var xt={name:"RoomsList",components:{Loader:D,RoomsSearch:j,RoomContent:xe},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},showRoomsList:{type:Boolean,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0},roomsLoaded:{type:Boolean,required:!0},room:{type:Object,required:!0},roomActions:{type:Array,required:!0},scrollDistance:{type:Number,required:!0}},emits:["add-room","room-action-handler","loading-more-rooms","fetch-room","fetch-more-rooms"],data:function(){return{filteredRooms:this.rooms||[],observer:null,showLoader:!0,loadingMoreRooms:!1,selectedRoomId:""}},watch:{rooms:{deep:!0,handler:function(l,i){this.filteredRooms=l,(l.length!==i.length||this.roomsLoaded)&&(this.loadingMoreRooms=!1)}},loadingRooms:function(l){var i=this;l||setTimeout(function(){return i.initIntersectionObserver()})},loadingMoreRooms:function(l){this.$emit("loading-more-rooms",l)},roomsLoaded:{immediate:!0,handler:function(l){l&&(this.loadingMoreRooms=!1,this.loadingRooms||(this.showLoader=!1))}},room:{immediate:!0,handler:function(l){l&&!this.isMobile&&(this.selectedRoomId=l.roomId)}}},methods:{initIntersectionObserver:function(){var l=this;this.observer&&(this.showLoader=!0,this.observer.disconnect());var i=document.getElementById("infinite-loader-rooms");if(i){var ae={root:document.getElementById("rooms-list"),rootMargin:"".concat(this.scrollDistance,"px"),threshold:0};this.observer=new IntersectionObserver(function(oe){oe[0].isIntersecting&&l.loadMoreRooms()},ae),this.observer.observe(i)}},searchRoom:function(l){this.filteredRooms=Le(this.rooms,"roomName",l.target.value)},openRoom:function(l){l.roomId===this.room.roomId&&!this.isMobile||(this.isMobile||(this.selectedRoomId=l.roomId),this.$emit("fetch-room",{room:l}))},loadMoreRooms:function(){if(!this.loadingMoreRooms){if(this.roomsLoaded){this.loadingMoreRooms=!1,this.showLoader=!1;return}this.$emit("fetch-more-rooms"),this.loadingMoreRooms=!0}}}},Tt=A()(xt,[["render",B]]),Be={class:"vac-container-center vac-room-empty"},ge={class:"vac-messages-container"},Pe={key:0,class:"vac-text-started"},de={key:1,class:"vac-text-started"},fe={key:0,id:"infinite-loader-messages"},ye={key:2},Je={key:0,class:"vac-badge-counter vac-messages-count"};function dt(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("room-header"),Xe=Object(e.resolveComponent)("loader"),ft=Object(e.resolveComponent)("room-message"),Ye=Object(e.resolveComponent)("svg-icon"),mt=Object(e.resolveComponent)("room-footer");return Object(e.withDirectives)((Object(e.openBlock)(),Object(e.createElementBlock)("div",{class:"vac-col-messages",onTouchstart:l[12]||(l[12]=function(){return J.touchStart&&J.touchStart.apply(J,arguments)})},[J.showNoRoom?Object(e.renderSlot)(M.$slots,"no-room-selected",{key:0},function(){return[Object(e.createElementVNode)("div",Be,[Object(e.createElementVNode)("div",null,Object(e.toDisplayString)(i.textMessages.ROOM_EMPTY),1)])]}):(Object(e.openBlock)(),Object(e.createBlock)(De,{key:1,"current-user-id":i.currentUserId,"text-messages":i.textMessages,"single-room":i.singleRoom,"show-rooms-list":i.showRoomsList,"is-mobile":i.isMobile,"room-info-enabled":i.roomInfoEnabled,"menu-actions":i.menuActions,room:J.room,"message-selection-enabled":oe.messageSelectionEnabled,"message-selection-actions":i.messageSelectionActions,"selected-messages-total":oe.selectedMessages.length,onToggleRoomsList:l[0]||(l[0]=function(vt){return M.$emit("toggle-rooms-list")}),onRoomInfo:l[1]||(l[1]=function(vt){return M.$emit("room-info")}),onMenuActionHandler:l[2]||(l[2]=function(vt){return M.$emit("menu-action-handler",vt)}),onMessageSelectionActionHandler:J.messageSelectionActionHandler,onCancelMessageSelection:l[3]||(l[3]=function(vt){return oe.messageSelectionEnabled=!1})},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(vt,Vt){return{name:Vt,fn:Object(e.withCtx)(function(bt){return[Object(e.renderSlot)(M.$slots,Vt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(bt)))]})}})]),1032,["current-user-id","text-messages","single-room","show-rooms-list","is-mobile","room-info-enabled","menu-actions","room","message-selection-enabled","message-selection-actions","selected-messages-total","onMessageSelectionActionHandler"])),Object(e.createElementVNode)("div",{id:"messages-list",ref:"scrollContainer",class:"vac-container-scroll",onScroll:l[5]||(l[5]=function(){return J.onContainerScroll&&J.onContainerScroll.apply(J,arguments)})},[Object(e.createVNode)(Xe,{show:oe.loadingMessages},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(vt,Vt){return{name:Vt,fn:Object(e.withCtx)(function(bt){return[Object(e.renderSlot)(M.$slots,Vt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(bt)))]})}})]),1032,["show"]),Object(e.createElementVNode)("div",ge,[Object(e.createElementVNode)("div",{class:Object(e.normalizeClass)({"vac-messages-hidden":oe.loadingMessages})},[Object(e.createVNode)(e.Transition,{name:"vac-fade-message"},{default:Object(e.withCtx)(function(){return[Object(e.createElementVNode)("div",null,[J.showNoMessages?(Object(e.openBlock)(),Object(e.createElementBlock)("div",Pe,[Object(e.renderSlot)(M.$slots,"messages-empty",{},function(){return[Object(e.createTextVNode)(Object(e.toDisplayString)(i.textMessages.MESSAGES_EMPTY),1)]})])):Object(e.createCommentVNode)("",!0),J.showMessagesStarted?(Object(e.openBlock)(),Object(e.createElementBlock)("div",de,Object(e.toDisplayString)(i.textMessages.CONVERSATION_STARTED)+" "+Object(e.toDisplayString)(i.messages[0].date),1)):Object(e.createCommentVNode)("",!0)])]}),_:3}),i.messages.length&&!i.messagesLoaded?(Object(e.openBlock)(),Object(e.createElementBlock)("div",fe,[Object(e.createVNode)(Xe,{show:!0,infinite:!0},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(vt,Vt){return{name:Vt,fn:Object(e.withCtx)(function(bt){return[Object(e.renderSlot)(M.$slots,Vt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(bt)))]})}})]),1024)])):Object(e.createCommentVNode)("",!0),(Object(e.openBlock)(),Object(e.createBlock)(e.TransitionGroup,{key:i.roomId,name:"vac-fade-message",tag:"span"},{default:Object(e.withCtx)(function(){return[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(i.messages,function(vt,Vt){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:vt.indexId||vt._id},[Object(e.createVNode)(ft,{"current-user-id":i.currentUserId,message:vt,index:Vt,messages:i.messages,"edited-message-id":oe.editedMessageId,"message-actions":i.messageActions,"room-users":J.room.users,"text-messages":i.textMessages,"new-messages":oe.newMessages,"show-reaction-emojis":i.showReactionEmojis,"show-new-messages-divider":i.showNewMessagesDivider,"text-formatting":i.textFormatting,"link-options":i.linkOptions,"username-options":i.usernameOptions,"message-selection-enabled":oe.messageSelectionEnabled,"selected-messages":oe.selectedMessages,onMessageAdded:J.onMessageAdded,onMessageActionHandler:J.messageActionHandler,onOpenFile:J.openFile,onOpenUserTag:J.openUserTag,onOpenFailedMessage:l[4]||(l[4]=function(bt){return M.$emit("open-failed-message",bt)}),onSendMessageReaction:J.sendMessageReaction,onSelectMessage:J.selectMessage,onUnselectMessage:J.unselectMessage},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(bt,Nt){return{name:Nt,fn:Object(e.withCtx)(function(Xt){return[Object(e.renderSlot)(M.$slots,Nt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(Xt)))]})}})]),1032,["current-user-id","message","index","messages","edited-message-id","message-actions","room-users","text-messages","new-messages","show-reaction-emojis","show-new-messages-divider","text-formatting","link-options","username-options","message-selection-enabled","selected-messages","onMessageAdded","onMessageActionHandler","onOpenFile","onOpenUserTag","onSendMessageReaction","onSelectMessage","onUnselectMessage"])])}),128))]}),_:3}))],2)])],544),oe.loadingMessages?Object(e.createCommentVNode)("",!0):(Object(e.openBlock)(),Object(e.createElementBlock)("div",ye,[Object(e.createVNode)(e.Transition,{name:"vac-bounce"},{default:Object(e.withCtx)(function(){return[oe.scrollIcon?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-icon-scroll",onClick:l[6]||(l[6]=function(){return J.scrollToBottom&&J.scrollToBottom.apply(J,arguments)})},[Object(e.createVNode)(e.Transition,{name:"vac-bounce"},{default:Object(e.withCtx)(function(){return[oe.scrollMessagesCount?(Object(e.openBlock)(),Object(e.createElementBlock)("div",Je,Object(e.toDisplayString)(oe.scrollMessagesCount),1)):Object(e.createCommentVNode)("",!0)]}),_:1}),Object(e.renderSlot)(M.$slots,"scroll-icon",{},function(){return[Object(e.createVNode)(Ye,{name:"dropdown",param:"scroll"})]})])):Object(e.createCommentVNode)("",!0)]}),_:3})])),Object(e.createVNode)(mt,{room:J.room,"room-id":i.roomId,"room-message":i.roomMessage,"text-messages":i.textMessages,"show-send-icon":i.showSendIcon,"show-files":i.showFiles,"show-audio":i.showAudio,"show-emojis":i.showEmojis,"show-footer":i.showFooter,"accepted-files":i.acceptedFiles,"textarea-action-enabled":i.textareaActionEnabled,"user-tags-enabled":i.userTagsEnabled,"emojis-suggestion-enabled":i.emojisSuggestionEnabled,"templates-text":i.templatesText,"text-formatting":i.textFormatting,"link-options":i.linkOptions,"audio-bit-rate":i.audioBitRate,"audio-sample-rate":i.audioSampleRate,"init-reply-message":oe.initReplyMessage,"init-edit-message":oe.initEditMessage,onUpdateEditedMessageId:l[7]||(l[7]=function(vt){return oe.editedMessageId=vt}),onEditMessage:l[8]||(l[8]=function(vt){return M.$emit("edit-message",vt)}),onSendMessage:l[9]||(l[9]=function(vt){return M.$emit("send-message",vt)}),onTypingMessage:l[10]||(l[10]=function(vt){return M.$emit("typing-message",vt)}),onTextareaActionHandler:l[11]||(l[11]=function(vt){return M.$emit("textarea-action-handler",vt)})},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(vt,Vt){return{name:Vt,fn:Object(e.withCtx)(function(bt){return[Object(e.renderSlot)(M.$slots,Vt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(bt)))]})}})]),1032,["room","room-id","room-message","text-messages","show-send-icon","show-files","show-audio","show-emojis","show-footer","accepted-files","textarea-action-enabled","user-tags-enabled","emojis-suggestion-enabled","templates-text","text-formatting","link-options","audio-bit-rate","audio-sample-rate","init-reply-message","init-edit-message"])],544)),[[e.vShow,i.isMobile&&!i.showRoomsList||!i.isMobile||i.singleRoom]])}var Qe={class:"vac-room-header vac-app-border-b"},St={class:"vac-room-wrapper"},Ct={key:0,class:"vac-room-selection"},ne=["id"],K=["onClick"],le={class:"vac-selection-button-count"},je={class:"vac-text-ellipsis"},ot={class:"vac-room-name vac-text-ellipsis"},qe={key:0,class:"vac-room-info vac-text-ellipsis"},Rt={key:1,class:"vac-room-info vac-text-ellipsis"},jt={key:0,class:"vac-menu-options"},At={class:"vac-menu-list"},ht=["onClick"];function Bt(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("svg-icon"),Xe=Object(e.resolveDirective)("click-outside");return Object(e.openBlock)(),Object(e.createElementBlock)("div",Qe,[Object(e.renderSlot)(M.$slots,"room-header",Object(e.normalizeProps)(Object(e.guardReactiveProps)({room:i.room,typingUsers:J.typingUsers,userStatus:J.userStatus})),function(){return[Object(e.createElementVNode)("div",St,[Object(e.createVNode)(e.Transition,{name:"vac-slide-up"},{default:Object(e.withCtx)(function(){return[i.messageSelectionEnabled?(Object(e.openBlock)(),Object(e.createElementBlock)("div",Ct,[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(i.messageSelectionActions,function(ft){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{id:ft.name,key:ft.name},[Object(e.createElementVNode)("div",{class:"vac-selection-button",onClick:function(mt){return J.messageSelectionActionHandler(ft)}},[Object(e.createTextVNode)(Object(e.toDisplayString)(ft.title)+" ",1),Object(e.createElementVNode)("span",le,Object(e.toDisplayString)(i.selectedMessagesTotal),1)],8,K)],8,ne)}),128)),Object(e.createElementVNode)("div",{class:"vac-selection-cancel vac-item-clickable",onClick:l[0]||(l[0]=function(ft){return M.$emit("cancel-message-selection")})},Object(e.toDisplayString)(i.textMessages.CANCEL_SELECT_MESSAGE),1)])):Object(e.createCommentVNode)("",!0)]}),_:1}),!i.messageSelectionEnabled&&oe.messageSelectionAnimationEnded?(Object(e.openBlock)(),Object(e.createElementBlock)(e.Fragment,{key:0},[i.singleRoom?Object(e.createCommentVNode)("",!0):(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:Object(e.normalizeClass)(["vac-svg-button vac-toggle-button",{"vac-rotate-icon-init":!i.isMobile,"vac-rotate-icon":!i.showRoomsList&&!i.isMobile}]),onClick:l[1]||(l[1]=function(ft){return M.$emit("toggle-rooms-list")})},[Object(e.renderSlot)(M.$slots,"toggle-icon",{},function(){return[Object(e.createVNode)(De,{name:"toggle"})]})],2)),Object(e.createElementVNode)("div",{class:Object(e.normalizeClass)(["vac-info-wrapper",{"vac-item-clickable":i.roomInfoEnabled}]),onClick:l[2]||(l[2]=function(ft){return M.$emit("room-info")})},[Object(e.renderSlot)(M.$slots,"room-header-avatar",Object(e.normalizeProps)(Object(e.guardReactiveProps)({room:i.room})),function(){return[i.room.avatar?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-avatar",style:Object(e.normalizeStyle)({"background-image":"url('".concat(i.room.avatar,"')")})},null,4)):Object(e.createCommentVNode)("",!0)]}),Object(e.renderSlot)(M.$slots,"room-header-info",Object(e.normalizeProps)(Object(e.guardReactiveProps)({room:i.room,typingUsers:J.typingUsers,userStatus:J.userStatus})),function(){return[Object(e.createElementVNode)("div",je,[Object(e.createElementVNode)("div",ot,Object(e.toDisplayString)(i.room.roomName),1),J.typingUsers?(Object(e.openBlock)(),Object(e.createElementBlock)("div",qe,Object(e.toDisplayString)(J.typingUsers),1)):(Object(e.openBlock)(),Object(e.createElementBlock)("div",Rt,Object(e.toDisplayString)(J.userStatus),1))])]})],2),i.room.roomId?Object(e.renderSlot)(M.$slots,"room-options",{key:1},function(){return[i.menuActions.length?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-svg-button vac-room-options",onClick:l[3]||(l[3]=function(ft){return oe.menuOpened=!oe.menuOpened})},[Object(e.renderSlot)(M.$slots,"menu-icon",{},function(){return[Object(e.createVNode)(De,{name:"menu"})]})])):Object(e.createCommentVNode)("",!0),i.menuActions.length?(Object(e.openBlock)(),Object(e.createBlock)(e.Transition,{key:1,name:"vac-slide-left"},{default:Object(e.withCtx)(function(){return[oe.menuOpened?Object(e.withDirectives)((Object(e.openBlock)(),Object(e.createElementBlock)("div",jt,[Object(e.createElementVNode)("div",At,[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(i.menuActions,function(ft){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:ft.name},[Object(e.createElementVNode)("div",{class:"vac-menu-item",onClick:function(mt){return J.menuActionHandler(ft)}},Object(e.toDisplayString)(ft.title),9,ht)])}),128))])])),[[Xe,J.closeMenu]]):Object(e.createCommentVNode)("",!0)]}),_:1})):Object(e.createCommentVNode)("",!0)]}):Object(e.createCommentVNode)("",!0)],64)):Object(e.createCommentVNode)("",!0)])]})])}var Lt={name:"RoomHeader",components:{SvgIcon:x},directives:{clickOutside:pe},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},room:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},messageSelectionActions:{type:Array,required:!0},selectedMessagesTotal:{type:Number,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","cancel-message-selection","message-selection-action-handler"],data:function(){return{menuOpened:!1,messageSelectionAnimationEnded:!0}},computed:{typingUsers:function(){return te(this.room,this.currentUserId,this.textMessages)},userStatus:function(){var l=this;if(!(!this.room.users||this.room.users.length!==2)){var i=this.room.users.find(function(oe){return oe._id!==l.currentUserId});if(!!i.status){var ae="";return i.status.state==="online"?ae=this.textMessages.IS_ONLINE:i.status.lastChanged&&(ae=this.textMessages.LAST_SEEN+i.status.lastChanged),ae}}}},watch:{messageSelectionEnabled:function(l){var i=this;l?this.messageSelectionAnimationEnded=!1:setTimeout(function(){i.messageSelectionAnimationEnded=!0},300)}},methods:{menuActionHandler:function(l){this.closeMenu(),this.$emit("menu-action-handler",l)},closeMenu:function(){this.menuOpened=!1},messageSelectionActionHandler:function(l){this.$emit("message-selection-action-handler",l)}}},Pt=A()(Lt,[["render",Bt]]),Yt={key:0,class:"vac-icon-textarea-left"},zt=Object(e.createElementVNode)("div",{class:"vac-dot-audio-record"},null,-1),pt={class:"vac-dot-audio-record-time"},Kt=["placeholder"],er={class:"vac-icon-textarea"},Jt={key:1},rr=["accept"];function nr(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("room-emojis"),Xe=Object(e.resolveComponent)("room-users-tag"),ft=Object(e.resolveComponent)("room-templates-text"),Ye=Object(e.resolveComponent)("room-message-reply"),mt=Object(e.resolveComponent)("room-files"),vt=Object(e.resolveComponent)("svg-icon"),Vt=Object(e.resolveComponent)("emoji-picker-container"),bt=Object(e.resolveDirective)("click-outside");return Object(e.withDirectives)((Object(e.openBlock)(),Object(e.createElementBlock)("div",{id:"room-footer",class:Object(e.normalizeClass)(["vac-room-footer",{"vac-app-box-shadow":J.shadowFooter}])},[Object(e.createVNode)(De,{"filtered-emojis":oe.filteredEmojis,"select-item":oe.selectEmojiItem,"active-up-or-down":oe.activeUpOrDownEmojis,onSelectEmoji:l[0]||(l[0]=function(Nt){return J.selectEmoji(Nt)}),onActivateItem:l[1]||(l[1]=function(Nt){return oe.activeUpOrDownEmojis=0})},null,8,["filtered-emojis","select-item","active-up-or-down"]),Object(e.createVNode)(Xe,{"filtered-users-tag":oe.filteredUsersTag,"select-item":oe.selectUsersTagItem,"active-up-or-down":oe.activeUpOrDownUsersTag,onSelectUserTag:l[2]||(l[2]=function(Nt){return J.selectUserTag(Nt)}),onActivateItem:l[3]||(l[3]=function(Nt){return oe.activeUpOrDownUsersTag=0})},null,8,["filtered-users-tag","select-item","active-up-or-down"]),Object(e.createVNode)(ft,{"filtered-templates-text":oe.filteredTemplatesText,"select-item":oe.selectTemplatesTextItem,"active-up-or-down":oe.activeUpOrDownTemplatesText,onSelectTemplateText:l[4]||(l[4]=function(Nt){return J.selectTemplateText(Nt)}),onActivateItem:l[5]||(l[5]=function(Nt){return oe.activeUpOrDownTemplatesText=0})},null,8,["filtered-templates-text","select-item","active-up-or-down"]),Object(e.createVNode)(Ye,{room:i.room,"message-reply":oe.messageReply,"text-formatting":i.textFormatting,"link-options":i.linkOptions,onResetMessage:J.resetMessage},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Nt,Xt){return{name:Xt,fn:Object(e.withCtx)(function(kr){return[Object(e.renderSlot)(M.$slots,Xt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(kr)))]})}})]),1032,["room","message-reply","text-formatting","link-options","onResetMessage"]),Object(e.createVNode)(mt,{files:oe.files,onRemoveFile:J.removeFile,onResetMessage:J.resetMessage},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Nt,Xt){return{name:Xt,fn:Object(e.withCtx)(function(kr){return[Object(e.renderSlot)(M.$slots,Xt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(kr)))]})}})]),1032,["files","onRemoveFile","onResetMessage"]),Object(e.createElementVNode)("div",{class:Object(e.normalizeClass)(["vac-box-footer",{"vac-box-footer-border":!oe.files.length}])},[i.showAudio&&!oe.files.length?(Object(e.openBlock)(),Object(e.createElementBlock)("div",Yt,[oe.isRecording?(Object(e.openBlock)(),Object(e.createElementBlock)(e.Fragment,{key:0},[Object(e.createElementVNode)("div",{class:"vac-svg-button vac-icon-audio-stop",onClick:l[6]||(l[6]=function(){return J.stopRecorder&&J.stopRecorder.apply(J,arguments)})},[Object(e.renderSlot)(M.$slots,"audio-stop-icon",{},function(){return[Object(e.createVNode)(vt,{name:"close-outline"})]})]),zt,Object(e.createElementVNode)("div",pt,Object(e.toDisplayString)(J.recordedTime),1),Object(e.createElementVNode)("div",{class:"vac-svg-button vac-icon-audio-confirm",onClick:l[7]||(l[7]=function(Nt){return J.toggleRecorder(!1)})},[Object(e.renderSlot)(M.$slots,"audio-stop-icon",{},function(){return[Object(e.createVNode)(vt,{name:"checkmark"})]})])],64)):(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:1,class:"vac-svg-button",onClick:l[8]||(l[8]=function(Nt){return J.toggleRecorder(!0)})},[Object(e.renderSlot)(M.$slots,"microphone-icon",{},function(){return[Object(e.createVNode)(vt,{name:"microphone",class:"vac-icon-microphone"})]})]))])):Object(e.createCommentVNode)("",!0),Object(e.createElementVNode)("textarea",{id:"roomTextarea",ref:"roomTextarea",placeholder:i.textMessages.TYPE_MESSAGE,class:Object(e.normalizeClass)(["vac-textarea",{"vac-textarea-outline":oe.editedMessage._id}]),style:{"min-height":"20px","padding-left":"12px"},onInput:l[9]||(l[9]=function(){return J.onChangeInput&&J.onChangeInput.apply(J,arguments)}),onKeydown:[l[10]||(l[10]=Object(e.withKeys)(function(){return J.escapeTextarea&&J.escapeTextarea.apply(J,arguments)},["esc"])),l[11]||(l[11]=Object(e.withKeys)(Object(e.withModifiers)(function(){return J.selectItem&&J.selectItem.apply(J,arguments)},["exact","prevent"]),["enter"])),l[13]||(l[13]=Object(e.withKeys)(Object(e.withModifiers)(function(){},["exact","prevent"]),["tab"])),l[14]||(l[14]=Object(e.withKeys)(function(){return J.selectItem&&J.selectItem.apply(J,arguments)},["tab"])),l[15]||(l[15]=Object(e.withKeys)(Object(e.withModifiers)(function(){},["exact","prevent"]),["up"])),l[16]||(l[16]=Object(e.withKeys)(function(Nt){return J.updateActiveUpOrDown(-1)},["up"])),l[17]||(l[17]=Object(e.withKeys)(Object(e.withModifiers)(function(){},["exact","prevent"]),["down"])),l[18]||(l[18]=Object(e.withKeys)(function(Nt){return J.updateActiveUpOrDown(1)},["down"]))],onPaste:l[12]||(l[12]=function(){return J.onPasteImage&&J.onPasteImage.apply(J,arguments)})},null,42,Kt),Object(e.createElementVNode)("div",er,[oe.editedMessage._id?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-svg-button",onClick:l[19]||(l[19]=function(){return J.resetMessage&&J.resetMessage.apply(J,arguments)})},[Object(e.renderSlot)(M.$slots,"edit-close-icon",{},function(){return[Object(e.createVNode)(vt,{name:"close-outline"})]})])):Object(e.createCommentVNode)("",!0),i.showEmojis?Object(e.withDirectives)((Object(e.openBlock)(),Object(e.createElementBlock)("div",Jt,[Object(e.renderSlot)(M.$slots,"emoji-picker",Object(e.mergeProps)({emojiOpened:oe.emojiOpened},{addEmoji:J.addEmoji}),function(){return[Object(e.createVNode)(Vt,{"emoji-opened":oe.emojiOpened,"position-top":!0,onAddEmoji:J.addEmoji,onOpenEmoji:l[20]||(l[20]=function(Nt){return oe.emojiOpened=Nt})},{"emoji-picker-icon":Object(e.withCtx)(function(){return[Object(e.renderSlot)(M.$slots,"emoji-picker-icon")]}),_:3},8,["emoji-opened","onAddEmoji"])]})])),[[bt,function(){return oe.emojiOpened=!1}]]):Object(e.createCommentVNode)("",!0),i.showFiles?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:2,class:"vac-svg-button",onClick:l[21]||(l[21]=function(){return J.launchFilePicker&&J.launchFilePicker.apply(J,arguments)})},[Object(e.renderSlot)(M.$slots,"paperclip-icon",{},function(){return[Object(e.createVNode)(vt,{name:"paperclip"})]})])):Object(e.createCommentVNode)("",!0),i.textareaActionEnabled?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:3,class:"vac-svg-button",onClick:l[22]||(l[22]=function(){return J.textareaActionHandler&&J.textareaActionHandler.apply(J,arguments)})},[Object(e.renderSlot)(M.$slots,"custom-action-icon",{},function(){return[Object(e.createVNode)(vt,{name:"deleted"})]})])):Object(e.createCommentVNode)("",!0),i.showFiles?(Object(e.openBlock)(),Object(e.createElementBlock)("input",{key:4,ref:"file",type:"file",multiple:"",accept:i.acceptedFiles,style:{display:"none"},onChange:l[23]||(l[23]=function(Nt){return J.onFileChange(Nt.target.files)})},null,40,rr)):Object(e.createCommentVNode)("",!0),i.showSendIcon?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:5,class:Object(e.normalizeClass)(["vac-svg-button",{"vac-send-disabled":J.isMessageEmpty}]),onClick:l[24]||(l[24]=function(){return J.sendMessage&&J.sendMessage.apply(J,arguments)})},[Object(e.renderSlot)(M.$slots,"send-icon",{},function(){return[Object(e.createVNode)(vt,{name:"send",param:J.isMessageEmpty||J.isFileLoading?"disabled":""},null,8,["param"])]})],2)):Object(e.createCommentVNode)("",!0)])],2)],2)),[[e.vShow,Object.keys(i.room).length&&i.showFooter]])}t("e6cf");function Ht(M,l,i,ae,oe,J,De){try{var Xe=M[J](De),ft=Xe.value}catch(Ye){i(Ye);return}Xe.done?l(ft):Promise.resolve(ft).then(ae,oe)}function Ft(M){return function(){var l=this,i=arguments;return new Promise(function(ae,oe){var J=M.apply(l,i);function De(ft){Ht(J,ae,oe,De,Xe,"next",ft)}function Xe(ft){Ht(J,ae,oe,De,Xe,"throw",ft)}De(void 0)})}}t("96cf"),t("498a"),t("accc"),t("0d03"),t("2b3d"),t("9861"),t("a434"),t("874e");var Ut=t("da58"),lr={class:"vac-emoji-wrapper"},fr={ref:"emojiPicker","v-if":"emojiOpened"};function sr(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("svg-icon");return Object(e.openBlock)(),Object(e.createElementBlock)("div",lr,[Object(e.createElementVNode)("div",{class:Object(e.normalizeClass)(["vac-svg-button",{"vac-emoji-reaction":i.emojiReaction}]),onClick:l[0]||(l[0]=function(){return J.openEmoji&&J.openEmoji.apply(J,arguments)})},[Object(e.renderSlot)(M.$slots,"emoji-picker-icon",{},function(){return[Object(e.createVNode)(De,{name:"emoji",param:i.emojiReaction?"reaction":""},null,8,["param"])]})],2),i.emojiOpened?(Object(e.openBlock)(),Object(e.createBlock)(e.Transition,{key:0,name:"vac-slide-up",appear:""},{default:Object(e.withCtx)(function(){return[Object(e.createElementVNode)("div",{class:Object(e.normalizeClass)(["vac-emoji-picker",{"vac-picker-reaction":i.emojiReaction}]),style:Object(e.normalizeStyle)({height:"".concat(oe.emojiPickerHeight,"px"),top:i.positionTop?oe.emojiPickerHeight:"".concat(oe.emojiPickerTop,"px"),right:oe.emojiPickerRight,display:oe.emojiPickerTop||!i.emojiReaction?"initial":"none"})},[Object(e.createElementVNode)("emoji-picker",fr,null,512)],6)]}),_:1})):Object(e.createCommentVNode)("",!0)])}var Zt={name:"EmojiPickerContainer",components:{SvgIcon:x},props:{emojiOpened:{type:Boolean,default:!1},emojiReaction:{type:Boolean,default:!1},positionTop:{type:Boolean,default:!1},positionRight:{type:Boolean,default:!1}},emits:["add-emoji","open-emoji"],data:function(){return{emojiPickerHeight:320,emojiPickerTop:0,emojiPickerRight:""}},watch:{emojiOpened:function(l){var i=this;l&&setTimeout(function(){i.addCustomStyling(),i.$refs.emojiPicker.shadowRoot.addEventListener("emoji-click",function(ae){var oe=ae.detail;i.$emit("add-emoji",{unicode:oe.unicode})})},0)}},methods:{addCustomStyling:function(){var l=`.picker {
				border: none;
			}`,i=`.nav {
				overflow-x: auto;
			}`,ae=`.search-wrapper {
				padding-right: 2px;
				padding-left: 2px;
			}`,oe=`input.search {
				height: 32px;
				font-size: 14px;
				border-radius: 10rem;
				border: var(--chat-border-style);
				padding: 5px 10px;
				outline: none;
				background: var(--chat-bg-color-input);
				color: var(--chat-color);
			}`,J=document.createElement("style");J.textContent=l+i+ae+oe,this.$refs.emojiPicker.shadowRoot.appendChild(J)},openEmoji:function(l){this.$emit("open-emoji",!this.emojiOpened),this.setEmojiPickerPosition(l.clientY,l.view.innerWidth,l.view.innerHeight)},setEmojiPickerPosition:function(l,i,ae){var oe=this;setTimeout(function(){var J=i<500||ae<700,De=document.getElementById("room-footer");if(!De){J&&(oe.emojiPickerRight="-50px");return}if(J)oe.emojiPickerRight=i/2-150+"px",oe.emojiPickerTop=100,oe.emojiPickerHeight=ae-200;else{var Xe=De.getBoundingClientRect().top,ft=Xe-l>oe.emojiPickerHeight-50;ft?oe.emojiPickerTop=l+10:oe.emojiPickerTop=l-oe.emojiPickerHeight-10,oe.emojiPickerRight=oe.positionTop?"-50px":oe.positionRight?"60px":""}})}}},Wt=A()(Zt,[["render",sr]]),ar={class:"vac-files-box"},ur={class:"vac-icon-close"};function dr(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("room-file"),Xe=Object(e.resolveComponent)("svg-icon");return Object(e.openBlock)(),Object(e.createBlock)(e.Transition,{name:"vac-slide-up"},{default:Object(e.withCtx)(function(){return[i.files.length?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-room-files-container",style:Object(e.normalizeStyle)({bottom:"".concat(J.footerHeight,"px")})},[Object(e.createElementVNode)("div",ar,[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(i.files,function(ft,Ye){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:Ye},[Object(e.createVNode)(De,{file:ft,index:Ye,onRemoveFile:l[0]||(l[0]=function(mt){return M.$emit("remove-file",mt)})},null,8,["file","index"])])}),128))]),Object(e.createElementVNode)("div",ur,[Object(e.createElementVNode)("div",{class:"vac-svg-button",onClick:l[1]||(l[1]=function(ft){return M.$emit("reset-message")})},[Object(e.renderSlot)(M.$slots,"reply-close-icon",{},function(){return[Object(e.createVNode)(Xe,{name:"close-outline"})]})])])],4)):Object(e.createCommentVNode)("",!0)]}),_:3})}var $t={class:"vac-room-file-container"},tr=["src"],_t={class:"vac-text-ellipsis"},vr={key:0,class:"vac-text-ellipsis vac-text-extension"};function pr(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("loader"),Xe=Object(e.resolveComponent)("svg-icon");return Object(e.openBlock)(),Object(e.createElementBlock)("div",$t,[Object(e.createVNode)(De,{show:i.file.loading},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(ft,Ye){return{name:Ye,fn:Object(e.withCtx)(function(mt){return[Object(e.renderSlot)(M.$slots,Ye,Object(e.normalizeProps)(Object(e.guardReactiveProps)(mt)))]})}})]),1032,["show"]),Object(e.createElementVNode)("div",{class:"vac-svg-button vac-icon-remove",onClick:l[0]||(l[0]=function(ft){return M.$emit("remove-file",i.index)})},[Object(e.renderSlot)(M.$slots,"image-close-icon",{},function(){return[Object(e.createVNode)(Xe,{name:"close",param:"image"})]})]),J.isImage?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:Object(e.normalizeClass)(["vac-message-image",{"vac-blur-loading":i.file.loading}]),style:Object(e.normalizeStyle)({"background-image":"url('".concat(i.file.localUrl||i.file.url,"')")})},null,6)):J.isVideo?(Object(e.openBlock)(),Object(e.createElementBlock)("video",{key:1,controls:"",class:Object(e.normalizeClass)({"vac-blur-loading":i.file.loading})},[Object(e.createElementVNode)("source",{src:i.file.localUrl||i.file.url},null,8,tr)],2)):(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:2,class:Object(e.normalizeClass)(["vac-file-container",{"vac-blur-loading":i.file.loading}])},[Object(e.createElementVNode)("div",null,[Object(e.renderSlot)(M.$slots,"file-icon",{},function(){return[Object(e.createVNode)(Xe,{name:"file"})]})]),Object(e.createElementVNode)("div",_t,Object(e.toDisplayString)(i.file.name),1),i.file.extension?(Object(e.openBlock)(),Object(e.createElementBlock)("div",vr,Object(e.toDisplayString)(i.file.extension),1)):Object(e.createCommentVNode)("",!0)],2))])}var qt=t("bd43"),yr=qt.isImageFile,mr=qt.isVideoFile,Ur={name:"RoomFiles",components:{Loader:D,SvgIcon:x},props:{file:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["remove-file"],computed:{isImage:function(){return yr(this.file)},isVideo:function(){return mr(this.file)}}},jr=A()(Ur,[["render",pr]]),Ir={name:"RoomFiles",components:{SvgIcon:x,RoomFile:jr},props:{files:{type:Array,required:!0}},emits:["remove-file","reset-message"],computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight}}},or=A()(Ir,[["render",dr]]),hr={class:"vac-reply-box"},Yr={class:"vac-reply-info"},Br={class:"vac-reply-username"},xr={class:"vac-reply-content"},br=["src"],Tr={key:1,controls:"",class:"vac-image-reply"},Hr=["src"],Lr={key:3,class:"vac-image-reply vac-file-container"},Nr={class:"vac-text-ellipsis"},Kr={key:0,class:"vac-text-ellipsis vac-text-extension"},Pr={class:"vac-icon-reply"};function Xr(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("format-message"),Xe=Object(e.resolveComponent)("audio-player"),ft=Object(e.resolveComponent)("svg-icon");return Object(e.openBlock)(),Object(e.createBlock)(e.Transition,{name:"vac-slide-up"},{default:Object(e.withCtx)(function(){return[i.messageReply?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-reply-container",style:Object(e.normalizeStyle)({bottom:"".concat(J.footerHeight,"px")})},[Object(e.createElementVNode)("div",hr,[Object(e.createElementVNode)("div",Yr,[Object(e.createElementVNode)("div",Br,Object(e.toDisplayString)(i.messageReply.username),1),Object(e.createElementVNode)("div",xr,[Object(e.createVNode)(De,{content:i.messageReply.content,users:i.room.users,"text-formatting":i.textFormatting,"link-options":i.linkOptions,reply:!0},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Ye,mt){return{name:mt,fn:Object(e.withCtx)(function(vt){return[Object(e.renderSlot)(M.$slots,mt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(vt)))]})}})]),1032,["content","users","text-formatting","link-options"])])]),J.isImage?(Object(e.openBlock)(),Object(e.createElementBlock)("img",{key:0,src:J.firstFile.url,class:"vac-image-reply"},null,8,br)):J.isVideo?(Object(e.openBlock)(),Object(e.createElementBlock)("video",Tr,[Object(e.createElementVNode)("source",{src:J.firstFile.url},null,8,Hr)])):J.isAudio?(Object(e.openBlock)(),Object(e.createBlock)(Xe,{key:2,src:J.firstFile.url,class:"vac-audio-reply"},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Ye,mt){return{name:mt,fn:Object(e.withCtx)(function(vt){return[Object(e.renderSlot)(M.$slots,mt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(vt)))]})}})]),1032,["src"])):J.isOtherFile?(Object(e.openBlock)(),Object(e.createElementBlock)("div",Lr,[Object(e.createElementVNode)("div",null,[Object(e.renderSlot)(M.$slots,"file-icon",{},function(){return[Object(e.createVNode)(ft,{name:"file"})]})]),Object(e.createElementVNode)("div",Nr,Object(e.toDisplayString)(J.firstFile.name),1),J.firstFile.extension?(Object(e.openBlock)(),Object(e.createElementBlock)("div",Kr,Object(e.toDisplayString)(J.firstFile.extension),1)):Object(e.createCommentVNode)("",!0)])):Object(e.createCommentVNode)("",!0)]),Object(e.createElementVNode)("div",Pr,[Object(e.createElementVNode)("div",{class:"vac-svg-button",onClick:l[0]||(l[0]=function(Ye){return M.$emit("reset-message")})},[Object(e.renderSlot)(M.$slots,"reply-close-icon",{},function(){return[Object(e.createVNode)(ft,{name:"close-outline"})]})])])],4)):Object(e.createCommentVNode)("",!0)]}),_:3})}var wr={class:"vac-audio-player"},Wr=["id","src"];function Fr(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("svg-icon"),Xe=Object(e.resolveComponent)("audio-control");return Object(e.openBlock)(),Object(e.createElementBlock)("div",null,[Object(e.createElementVNode)("div",wr,[Object(e.createElementVNode)("div",{class:"vac-svg-button",onClick:l[0]||(l[0]=function(){return J.playback&&J.playback.apply(J,arguments)})},[oe.isPlaying?Object(e.renderSlot)(M.$slots,"audio-pause-icon",{key:0},function(){return[Object(e.createVNode)(De,{name:"audio-pause"})]}):Object(e.renderSlot)(M.$slots,"audio-play-icon",{key:1},function(){return[Object(e.createVNode)(De,{name:"audio-play"})]})]),Object(e.createVNode)(Xe,{percentage:oe.progress,"message-selection-enabled":i.messageSelectionEnabled,onChangeLinehead:J.onUpdateProgress,onHoverAudioProgress:l[1]||(l[1]=function(ft){return M.$emit("hover-audio-progress",ft)})},null,8,["percentage","message-selection-enabled","onChangeLinehead"]),Object(e.createElementVNode)("audio",{id:J.playerUniqId,src:J.audioSource},null,8,Wr)])])}var Zr={class:"vac-player-progress"},nt={class:"vac-line-container"};function yt(M,l,i,ae,oe,J){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{ref:"progress",class:"vac-player-bar",onMousedown:l[0]||(l[0]=function(){return J.onMouseDown&&J.onMouseDown.apply(J,arguments)}),onMouseover:l[1]||(l[1]=function(De){return M.$emit("hover-audio-progress",!0)}),onMouseout:l[2]||(l[2]=function(De){return M.$emit("hover-audio-progress",!1)})},[Object(e.createElementVNode)("div",Zr,[Object(e.createElementVNode)("div",nt,[Object(e.createElementVNode)("div",{class:"vac-line-progress",style:Object(e.normalizeStyle)({width:"".concat(i.percentage,"%")})},null,4),Object(e.createElementVNode)("div",{class:Object(e.normalizeClass)(["vac-line-dot",{"vac-line-dot__active":oe.isMouseDown}]),style:Object(e.normalizeStyle)({left:"".concat(i.percentage,"%")})},null,6)])])],544)}var Ve={props:{percentage:{type:Number,default:0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","change-linehead"],data:function(){return{isMouseDown:!1}},methods:{onMouseDown:function(l){if(!this.messageSelectionEnabled){this.isMouseDown=!0;var i=this.calculateLineHeadPosition(l,this.$refs.progress);this.$emit("change-linehead",i),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}},onMouseUp:function(l){if(!this.messageSelectionEnabled){this.isMouseDown=!1,document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove);var i=this.calculateLineHeadPosition(l,this.$refs.progress);this.$emit("change-linehead",i)}},onMouseMove:function(l){if(!this.messageSelectionEnabled){var i=this.calculateLineHeadPosition(l,this.$refs.progress);this.$emit("change-linehead",i)}},calculateLineHeadPosition:function(l,i){var ae=i.getBoundingClientRect().width,oe=i.getBoundingClientRect().left,J=(l.clientX-oe)/ae;return J=J<0?0:J,J=J>1?1:J,J}}},kt=A()(Ve,[["render",yt]]),Qt={name:"AudioPlayer",components:{SvgIcon:x,AudioControl:kt},props:{messageId:{type:[String,Number],default:null},src:{type:String,default:null},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","update-progress-time"],data:function(){return{isPlaying:!1,duration:this.convertTimeMMSS(0),playedTime:this.convertTimeMMSS(0),progress:0}},computed:{playerUniqId:function(){return"audio-player".concat(this.messageId)},audioSource:function(){return this.src?this.src:(this.resetProgress(),null)}},mounted:function(){var l=this;this.player=document.getElementById(this.playerUniqId),this.player.addEventListener("ended",function(){l.isPlaying=!1}),this.player.addEventListener("loadeddata",function(){l.resetProgress(),l.duration=l.convertTimeMMSS(l.player.duration),l.updateProgressTime()}),this.player.addEventListener("timeupdate",this.onTimeUpdate)},methods:{convertTimeMMSS:function(l){return new Date(l*1e3).toISOString().substr(14,5)},playback:function(){var l=this;this.messageSelectionEnabled||!this.audioSource||(this.isPlaying?this.player.pause():setTimeout(function(){return l.player.play()}),this.isPlaying=!this.isPlaying)},resetProgress:function(){this.isPlaying&&this.player.pause(),this.duration=this.convertTimeMMSS(0),this.playedTime=this.convertTimeMMSS(0),this.progress=0,this.isPlaying=!1,this.updateProgressTime()},onTimeUpdate:function(){this.playedTime=this.convertTimeMMSS(this.player.currentTime),this.progress=this.player.currentTime/this.player.duration*100,this.updateProgressTime()},onUpdateProgress:function(l){l&&(this.player.currentTime=l*this.player.duration)},updateProgressTime:function(){this.$emit("update-progress-time",this.progress>1?this.playedTime:this.duration)}}},rn=A()(Qt,[["render",Fr]]),Jr=t("bd43"),ba=Jr.isAudioFile,Sa=Jr.isImageFile,Oa=Jr.isVideoFile,Ea={name:"RoomMessageReply",components:{SvgIcon:x,FormatMessage:at,AudioPlayer:rn},props:{room:{type:Object,required:!0},messageReply:{type:Object,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0}},emits:["reset-message"],computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight},firstFile:function(){var l,i;return(l=this.messageReply)!==null&&l!==void 0&&(i=l.files)!==null&&i!==void 0&&i.length?this.messageReply.files[0]:{}},isImage:function(){return Sa(this.firstFile)},isVideo:function(){return Oa(this.firstFile)},isAudio:function(){return ba(this.firstFile)},isOtherFile:function(){var l,i;return((l=this.messageReply)===null||l===void 0||(i=l.files)===null||i===void 0?void 0:i.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},Ra=A()(Ea,[["render",Xr]]),xa=["onMouseover","onClick"],Ta={class:"vac-tags-info"},Aa={class:"vac-tags-username"};function Ma(M,l,i,ae,oe,J){return Object(e.openBlock)(),Object(e.createBlock)(e.Transition,{name:"vac-slide-up"},{default:Object(e.withCtx)(function(){return[i.filteredUsersTag.length?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-tags-container",style:Object(e.normalizeStyle)({bottom:"".concat(J.footerHeight,"px")})},[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(i.filteredUsersTag,function(De,Xe){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:De._id,class:Object(e.normalizeClass)(["vac-tags-box",{"vac-tags-box-active":Xe===oe.activeItem}]),onMouseover:function(Ye){return oe.activeItem=Xe},onClick:function(Ye){return M.$emit("select-user-tag",De)}},[Object(e.createElementVNode)("div",Ta,[De.avatar?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-avatar vac-tags-avatar",style:Object(e.normalizeStyle)({"background-image":"url('".concat(De.avatar,"')")})},null,4)):Object(e.createCommentVNode)("",!0),Object(e.createElementVNode)("div",Aa,Object(e.toDisplayString)(De.username),1)])],42,xa)}),128))],4)):Object(e.createCommentVNode)("",!0)]}),_:1})}var ja={name:"RoomUsersTag",props:{filteredUsersTag:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-user-tag","activate-item"],data:function(){return{activeItem:null}},computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight}},watch:{filteredUsersTag:function(l,i){(!i.length||l.length!==i.length)&&(this.activeItem=0)},selectItem:function(l){l&&this.$emit("select-user-tag",this.filteredUsersTag[this.activeItem])},activeUpOrDown:function(){this.activeUpOrDown>0&&this.activeItem<this.filteredUsersTag.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},Ia=A()(ja,[["render",Ma]]),Ca=["onMouseover","onClick"];function Ba(M,l,i,ae,oe,J){return Object(e.openBlock)(),Object(e.createBlock)(e.Transition,{name:"vac-slide-up"},{default:Object(e.withCtx)(function(){return[i.filteredEmojis.length?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-emojis-container",style:Object(e.normalizeStyle)({bottom:"".concat(J.footerHeight,"px")})},[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(i.filteredEmojis,function(De,Xe){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:De,class:Object(e.normalizeClass)(["vac-emoji-element",{"vac-emoji-element-active":Xe===oe.activeItem}]),onMouseover:function(Ye){return oe.activeItem=Xe},onClick:function(Ye){return M.$emit("select-emoji",De)}},Object(e.toDisplayString)(De),43,Ca)}),128))],4)):Object(e.createCommentVNode)("",!0)]}),_:1})}var La={name:"RoomEmojis",props:{filteredEmojis:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-emoji","activate-item"],data:function(){return{activeItem:null}},computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight}},watch:{filteredEmojis:function(l,i){(!i.length||l.length!==i.length)&&(this.activeItem=0)},selectItem:function(l){l&&this.$emit("select-emoji",this.filteredEmojis[this.activeItem])},activeUpOrDown:function(){this.activeUpOrDown>0&&this.activeItem<this.filteredEmojis.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},Na=A()(La,[["render",Ba]]),Pa=["onMouseover","onClick"],wa={class:"vac-template-info"},Fa={class:"vac-template-tag"},Da={class:"vac-template-text"};function Ua(M,l,i,ae,oe,J){return Object(e.openBlock)(),Object(e.createBlock)(e.Transition,{name:"vac-slide-up"},{default:Object(e.withCtx)(function(){return[i.filteredTemplatesText.length?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-template-container vac-app-box-shadow",style:Object(e.normalizeStyle)({bottom:"".concat(J.footerHeight,"px")})},[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(i.filteredTemplatesText,function(De,Xe){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:Xe,class:Object(e.normalizeClass)(["vac-template-box",{"vac-template-active":Xe===oe.activeItem}]),onMouseover:function(Ye){return oe.activeItem=Xe},onClick:function(Ye){return M.$emit("select-template-text",De)}},[Object(e.createElementVNode)("div",wa,[Object(e.createElementVNode)("div",Fa," /"+Object(e.toDisplayString)(De.tag),1),Object(e.createElementVNode)("div",Da,Object(e.toDisplayString)(De.text),1)])],42,Pa)}),128))],4)):Object(e.createCommentVNode)("",!0)]}),_:1})}var Va={name:"RoomTemplatesText",props:{filteredTemplatesText:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-template-text","activate-item"],data:function(){return{activeItem:null}},computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight}},watch:{filteredTemplatesText:function(l,i){(!i.length||l.length!==i.length)&&(this.activeItem=0)},selectItem:function(l){l&&this.$emit("select-template-text",this.filteredTemplatesText[this.activeItem])},activeUpOrDown:function(){this.activeUpOrDown>0&&this.activeItem<this.filteredTemplatesText.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},Ha=A()(Va,[["render",Ua]]);function Ln(M,l){if(!(M instanceof l))throw new TypeError("Cannot call a class as a function")}function Nn(M,l){for(var i=0;i<l.length;i++){var ae=l[i];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(M,ae.key,ae)}}function Pn(M,l,i){return l&&Nn(M.prototype,l),i&&Nn(M,i),Object.defineProperty(M,"prototype",{writable:!1}),M}t("c0b6"),t("acd8"),t("b680"),t("ace4"),t("fd87"),t("907a"),t("9a8c"),t("a975"),t("735e"),t("c1ac"),t("d139"),t("3a7b"),t("d5d6"),t("82f8"),t("e91f"),t("60bd"),t("5f96"),t("3280"),t("3fcc"),t("ca91"),t("25a1"),t("cd26"),t("3c5d"),t("2954"),t("649e"),t("219c"),t("170b"),t("b39a"),t("72f7"),t("6eba"),t("cfc3"),t("8b09");var nn;try{nn=t("db3f")}catch{nn={missing:!0}}var ka=nn,za=ka.Mp3Encoder,Ga=function(){function M(l){if(Ln(this,M),nn.missing)throw new Error('You must add lamejs in your dependencies to use the audio recorder. Please run "npm install lamejs --save"');this.bitRate=l.bitRate,this.sampleRate=l.sampleRate,this.dataBuffer=[],this.encoder=new za(1,this.sampleRate,this.bitRate)}return Pn(M,[{key:"encode",value:function(i){for(var ae=1152,oe=this._convertBuffer(i),J=oe.length,De=0;J>=0;De+=ae){var Xe=oe.subarray(De,De+ae),ft=this.encoder.encodeBuffer(Xe);this.dataBuffer.push(new Int8Array(ft)),J-=ae}}},{key:"finish",value:function(){this.dataBuffer.push(this.encoder.flush());var i=new Blob(this.dataBuffer,{type:"audio/mp3"});return this.dataBuffer=[],{id:Date.now(),blob:i,url:URL.createObjectURL(i)}}},{key:"_floatTo16BitPCM",value:function(i,ae){for(var oe=0;oe<i.length;oe++){var J=Math.max(-1,Math.min(1,i[oe]));ae[oe]=J<0?J*32768:J*32767}}},{key:"_convertBuffer",value:function(i){var ae=new Float32Array(i),oe=new Int16Array(i.length);return this._floatTo16BitPCM(ae,oe),oe}}]),M}(),Ya=function(){function M(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ln(this,M),this.beforeRecording=l.beforeRecording,this.pauseRecording=l.pauseRecording,this.afterRecording=l.afterRecording,this.micFailed=l.micFailed,this.encoderOptions={bitRate:l.bitRate,sampleRate:l.sampleRate},this.bufferSize=4096,this.records=[],this.isPause=!1,this.isRecording=!1,this.duration=0,this.volume=0,this._duration=0}return Pn(M,[{key:"start",value:function(){var i={video:!1,audio:{channelCount:1,echoCancellation:!1}};this.beforeRecording&&this.beforeRecording("start recording"),navigator.mediaDevices.getUserMedia(i).then(this._micCaptured.bind(this)).catch(this._micError.bind(this)),this.isPause=!1,this.isRecording=!0,this.lameEncoder||(this.lameEncoder=new Ga(this.encoderOptions))}},{key:"stop",value:function(){this.stream.getTracks().forEach(function(ae){return ae.stop()}),this.input.disconnect(),this.processor.disconnect(),this.context.close();var i=null;i=this.lameEncoder.finish(),i.duration=this.duration,this.records.push(i),this._duration=0,this.duration=0,this.isPause=!1,this.isRecording=!1,this.afterRecording&&this.afterRecording(i)}},{key:"pause",value:function(){this.stream.getTracks().forEach(function(i){return i.stop()}),this.input.disconnect(),this.processor.disconnect(),this._duration=this.duration,this.isPause=!0,this.pauseRecording&&this.pauseRecording("pause recording")}},{key:"_micCaptured",value:function(i){var ae=this;this.context=new(window.AudioContext||window.webkitAudioContext),this.duration=this._duration,this.input=this.context.createMediaStreamSource(i),this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),this.stream=i,this.processor.onaudioprocess=function(oe){var J=oe.inputBuffer.getChannelData(0),De=0;ae.lameEncoder&&ae.lameEncoder.encode(J);for(var Xe=0;Xe<J.length;++Xe)De+=J[Xe]*J[Xe];ae.duration=parseFloat(ae._duration)+parseFloat(ae.context.currentTime.toFixed(2)),ae.volume=Math.sqrt(De/J.length).toFixed(2)},this.input.connect(this.processor),this.processor.connect(this.context.destination)}},{key:"_micError",value:function(i){this.micFailed&&this.micFailed(i)}}]),M}(),Ka=t("1a98"),wn=Ka.detectMobile,Xa={name:"RoomFooter",components:{SvgIcon:x,EmojiPickerContainer:Wt,RoomFiles:or,RoomMessageReply:Ra,RoomUsersTag:Ia,RoomEmojis:Na,RoomTemplatesText:Ha},directives:{clickOutside:pe},props:{room:{type:Object,required:!0},roomId:{type:[String,Number],required:!0},roomMessage:{type:String,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},showEmojis:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},textareaActionEnabled:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},templatesText:{type:Array,default:null},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},initReplyMessage:{type:Object,default:null},initEditMessage:{type:Object,default:null}},emits:["edit-message","send-message","update-edited-message-id","textarea-action-handler","typing-message"],data:function(){return{message:"",editedMessage:{},messageReply:null,cursorRangePosition:null,files:[],fileDialog:!1,selectUsersTagItem:null,selectEmojiItem:null,selectTemplatesTextItem:null,format:"mp3",activeUpOrDownEmojis:null,activeUpOrDownUsersTag:null,activeUpOrDownTemplatesText:null,emojisDB:new Ut.a,emojiOpened:!1,keepKeyboardOpen:!1,filteredEmojis:[],filteredUsersTag:[],selectedUsersTag:[],filteredTemplatesText:[],recorder:this.initRecorder(),isRecording:!1}},computed:{isMessageEmpty:function(){return!this.files.length&&!this.message.trim()},isFileLoading:function(){return this.files.some(function(l){return l.loading})},recordedTime:function(){return new Date(this.recorder.duration*1e3).toISOString().substr(14,5)},shadowFooter:function(){return!!this.filteredEmojis.length||!!this.filteredUsersTag.length||!!this.filteredTemplatesText.length||!!this.files.length||!!this.messageReply}},watch:{roomId:function(){var l=this;this.resetMessage(!0,!0),this.roomMessage&&(this.message=this.roomMessage,setTimeout(function(){return l.onChangeInput()}))},message:function(l){this.getTextareaRef().value=l},roomMessage:{immediate:!0,handler:function(l){l&&(this.message=this.roomMessage)}},editedMessage:function(l){this.$emit("update-edited-message-id",l._id)},initReplyMessage:function(l){this.replyMessage(l)},initEditMessage:function(l){this.editMessage(l)}},mounted:function(){var l=this,i=wn();this.getTextareaRef().addEventListener("keyup",function(ae){ae.key==="Enter"&&!ae.shiftKey&&!l.fileDialog&&(i?(l.message=l.message+`
`,setTimeout(function(){return l.onChangeInput()})):!l.filteredEmojis.length&&!l.filteredUsersTag.length&&!l.filteredTemplatesText.length&&l.sendMessage()),setTimeout(function(){l.updateFooterLists()},60)}),this.getTextareaRef().addEventListener("click",function(){i&&(l.keepKeyboardOpen=!0),l.updateFooterLists()}),this.getTextareaRef().addEventListener("blur",function(){l.resetFooterList(),i&&setTimeout(function(){return l.keepKeyboardOpen=!1})})},beforeUnmount:function(){this.stopRecorder()},methods:{getTextareaRef:function(){return this.$refs.roomTextarea},focusTextarea:function(l){var i=this;wn()&&l||!this.getTextareaRef()||(this.getTextareaRef().focus(),this.cursorRangePosition&&setTimeout(function(){i.getTextareaRef().setSelectionRange(i.cursorRangePosition,i.cursorRangePosition),i.cursorRangePosition=null}))},onChangeInput:function(){var l,i;if((l=this.getTextareaRef())!==null&&l!==void 0&&l.value||((i=this.getTextareaRef())===null||i===void 0?void 0:i.value)===""){var ae;this.message=(ae=this.getTextareaRef())===null||ae===void 0?void 0:ae.value}this.keepKeyboardOpen=!0,this.resizeTextarea(),this.$emit("typing-message",this.message)},resizeTextarea:function(){var l=this.getTextareaRef();if(!!l){var i=window.getComputedStyle(l,null).getPropertyValue("padding-top").replace("px","");l.style.height=0,l.style.height=l.scrollHeight-i*2+"px"}},escapeTextarea:function(){this.filteredEmojis.length?this.filteredEmojis=[]:this.filteredUsersTag.length?this.filteredUsersTag=[]:this.filteredTemplatesText.length?this.filteredTemplatesText=[]:this.resetMessage()},onPasteImage:function(l){var i,ae=this,oe=(i=l.clipboardData)===null||i===void 0?void 0:i.items;oe&&Array.from(oe).forEach(function(J){if(J.type.includes("image")){var De=J.getAsFile();ae.onFileChange([De])}})},updateActiveUpOrDown:function(l){this.filteredEmojis.length?this.activeUpOrDownEmojis=l:this.filteredUsersTag.length?this.activeUpOrDownUsersTag=l:this.filteredTemplatesText.length&&(this.activeUpOrDownTemplatesText=l)},selectItem:function(){this.filteredEmojis.length?this.selectEmojiItem=!0:this.filteredUsersTag.length?this.selectUsersTagItem=!0:this.filteredTemplatesText.length&&(this.selectTemplatesTextItem=!0)},selectEmoji:function(l){if(this.selectEmojiItem=!1,!!l){var i=this.getCharPosition(":"),ae=i.position,oe=i.endPosition;this.message=this.message.substr(0,ae-1)+l+this.message.substr(oe,this.message.length-1),this.cursorRangePosition=ae,this.focusTextarea()}},selectTemplateText:function(l){if(this.selectTemplatesTextItem=!1,!!l){var i=this.getCharPosition("/"),ae=i.position,oe=i.endPosition,J=this.message.substr(oe,oe).length?"":" ";this.message=this.message.substr(0,ae-1)+l.text+J+this.message.substr(oe,this.message.length-1),this.cursorRangePosition=ae+l.text.length+J.length+1,this.focusTextarea()}},addEmoji:function(l){this.message+=l.unicode,this.focusTextarea(!0)},launchFilePicker:function(){this.$refs.file.value="",this.$refs.file.click()},onFileChange:function(l){var i=this;return Ft(regeneratorRuntime.mark(function ae(){return regeneratorRuntime.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:i.fileDialog=!0,i.focusTextarea(),Array.from(l).forEach(function(){var De=Ft(regeneratorRuntime.mark(function Xe(ft){var Ye,mt,vt,Vt;return regeneratorRuntime.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Ye=URL.createObjectURL(ft),mt=ft.name.lastIndexOf("."),i.files.push({loading:!0,name:ft.name.substring(0,mt),size:ft.size,type:ft.type,extension:ft.name.substring(mt+1),localUrl:Ye}),Nt.next=5,fetch(Ye).then(function(Xt){return Xt.blob()});case 5:vt=Nt.sent,Vt=i.files.find(function(Xt){return Xt.localUrl===Ye}),Vt&&(Vt.blob=vt,Vt.loading=!1,delete Vt.loading);case 8:case"end":return Nt.stop()}},Xe)}));return function(Xe){return De.apply(this,arguments)}}()),setTimeout(function(){return i.fileDialog=!1},500);case 4:case"end":return J.stop()}},ae)}))()},removeFile:function(l){this.files.splice(l,1),this.focusTextarea()},toggleRecorder:function(l){var i=this;if(this.isRecording=l,!this.recorder.isRecording)setTimeout(function(){return i.recorder.start()},200);else try{this.recorder.stop();var ae=this.recorder.records[0];this.files.push({blob:ae.blob,name:"audio.".concat(this.format),size:ae.blob.size,duration:ae.duration,type:ae.blob.type,audio:!0,localUrl:URL.createObjectURL(ae.blob)}),this.recorder=this.initRecorder(),this.sendMessage()}catch{setTimeout(function(){return i.stopRecorder()},100)}},stopRecorder:function(){var l=this;if(this.recorder.isRecording)try{this.recorder.stop(),this.recorder=this.initRecorder()}catch{setTimeout(function(){return l.stopRecorder()},100)}},textareaActionHandler:function(){this.$emit("textarea-action-handler",this.message)},sendMessage:function(){var l=this.message.trim();if(!(!this.files.length&&!l)&&!this.isFileLoading){this.selectedUsersTag.forEach(function(oe){l=l.replace("@".concat(oe.username),"<usertag>".concat(oe._id,"</usertag>"))});var i=this.files.length?this.files:null;if(this.editedMessage._id){var ae;(this.editedMessage.content!==l||(ae=this.editedMessage.files)!==null&&ae!==void 0&&ae.length||this.files.length)&&this.$emit("edit-message",{messageId:this.editedMessage._id,newContent:l,files:i,replyMessage:this.messageReply,usersTag:this.selectedUsersTag})}else this.$emit("send-message",{content:l,files:i,replyMessage:this.messageReply,usersTag:this.selectedUsersTag});this.resetMessage(!0)}},editMessage:function(l){var i=this;this.resetMessage(),this.editedMessage=y({},l);var ae=l.content,oe=ae,J="<usertag>",De="</usertag>",Xe=Fe(ae.matchAll(new RegExp(J,"gi"))).map(function(ft){return ft.index});Xe.forEach(function(ft){var Ye=oe.substring(ft+J.length,oe.indexOf(De,ft)),mt=i.room.users.find(function(vt){return vt._id===Ye});ae=ae.replace("".concat(J).concat(Ye).concat(De),"@".concat((mt==null?void 0:mt.username)||"unknown")),i.selectUserTag(mt,!0)}),this.message=ae,l.files&&(this.files=Fe(l.files)),setTimeout(function(){return i.resizeTextarea()})},replyMessage:function(l){this.editedMessage={},this.messageReply=l,this.focusTextarea()},updateFooterLists:function(){this.updateFooterList("@"),this.updateFooterList(":"),this.updateFooterList("/")},updateFooterList:function(l){if(!!this.getTextareaRef()&&!(l===":"&&!this.emojisSuggestionEnabled)&&!(l==="@"&&(!this.userTagsEnabled||!this.room.users))&&!(l==="/"&&!this.templatesText)){for(var i=this.getTextareaRef().selectionStart,ae=i;ae>0&&this.message.charAt(ae-1)!==l&&(this.message.charAt(ae-1)!==" "||l!==":");)ae--;var oe=this.message.charAt(ae-2),J=!oe.match(/^[0-9a-zA-Z]+$/);if(this.message.charAt(ae-1)===l&&(!oe||oe===" "||J)){var De=this.message.substring(ae,i);l===":"?this.updateEmojis(De):l==="@"?this.updateShowUsersTag(De):l==="/"&&this.updateShowTemplatesText(De)}else this.resetFooterList(l)}},updateShowUsersTag:function(l){var i=this;this.filteredUsersTag=Le(this.room.users,"username",l,!0).filter(function(ae){return ae._id!==i.currentUserId})},selectUserTag:function(l){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.selectUsersTagItem=!1,!!l){var ae=this.getCharPosition("@"),oe=ae.position,J=ae.endPosition,De=this.message.substr(J,J).length?"":" ";this.message=this.message.substr(0,oe)+l.username+De+this.message.substr(J,this.message.length-1),this.selectedUsersTag=[].concat(Fe(this.selectedUsersTag),[y({},l)]),i||(this.cursorRangePosition=oe+l.username.length+De.length+1),this.focusTextarea()}},updateShowTemplatesText:function(l){this.filteredTemplatesText=Le(this.templatesText,"tag",l,!0)},getCharPosition:function(l){for(var i=this.getTextareaRef().selectionStart,ae=i;ae>0&&this.message.charAt(ae-1)!==l;)ae--;var oe=this.getTextareaRef().selectionEnd;return{position:ae,endPosition:oe}},updateEmojis:function(l){var i=this;return Ft(regeneratorRuntime.mark(function ae(){var oe;return regeneratorRuntime.wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(l){De.next=2;break}return De.abrupt("return");case 2:return De.next=4,i.emojisDB.getEmojiBySearchQuery(l);case 4:oe=De.sent,i.filteredEmojis=oe.map(function(Xe){return Xe.unicode});case 6:case"end":return De.stop()}},ae)}))()},resetFooterList:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;l===":"?this.filteredEmojis=[]:l==="@"?this.filteredUsersTag=[]:l==="/"?this.filteredTemplatesText=[]:(this.filteredEmojis=[],this.filteredUsersTag=[],this.filteredTemplatesText=[])},resetMessage:function(){var l=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ae||this.$emit("typing-message",null),this.selectedUsersTag=[],this.resetFooterList(),this.resetTextareaSize(),this.message="",this.editedMessage={},this.messageReply=null,this.files=[],this.emojiOpened=!1,this.preventKeyboardFromClosing(),setTimeout(function(){return l.focusTextarea(i)})},resetTextareaSize:function(){this.getTextareaRef()&&(this.getTextareaRef().style.height="20px")},preventKeyboardFromClosing:function(){this.keepKeyboardOpen&&this.getTextareaRef().focus()},initRecorder:function(){return this.isRecording=!1,new Ya({bitRate:this.audioBitRate,sampleRate:this.audioSampleRate,beforeRecording:null,afterRecording:null,pauseRecording:null,micFailed:this.micFailed})},micFailed:function(){this.isRecording=!1,this.recorder=this.initRecorder()}}},Wa=A()(Xa,[["render",nr]]),Za=["id"],Qa={key:0,class:"vac-card-info vac-card-date"},Ja={key:1,class:"vac-line-new"},_a={key:2,class:"vac-card-info vac-card-system"},$a={key:1,class:"vac-avatar-offset"},qa={key:2},eo={key:0,class:"vac-progress-time"},to={class:"vac-text-timestamp"},ro={key:0,class:"vac-icon-edited"},no={key:1},ao=Object(e.createElementVNode)("div",{class:"vac-failure-text"}," ! ",-1),oo=[ao],so={key:3,class:"vac-avatar-current-offset"};function io(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("format-message"),Xe=Object(e.resolveComponent)("message-reply"),ft=Object(e.resolveComponent)("svg-icon"),Ye=Object(e.resolveComponent)("message-files"),mt=Object(e.resolveComponent)("audio-player"),vt=Object(e.resolveComponent)("message-actions"),Vt=Object(e.resolveComponent)("message-reactions");return Object(e.openBlock)(),Object(e.createElementBlock)("div",{id:i.message._id,ref:"message",class:"vac-message-wrapper"},[J.showDate?(Object(e.openBlock)(),Object(e.createElementBlock)("div",Qa,Object(e.toDisplayString)(i.message.date),1)):Object(e.createCommentVNode)("",!0),oe.newMessage._id===i.message._id?(Object(e.openBlock)(),Object(e.createElementBlock)("div",Ja,Object(e.toDisplayString)(i.textMessages.NEW_MESSAGES),1)):Object(e.createCommentVNode)("",!0),i.message.system?(Object(e.openBlock)(),Object(e.createElementBlock)("div",_a,[Object(e.createVNode)(De,{content:i.message.content,users:i.roomUsers,"text-formatting":i.textFormatting,"link-options":i.linkOptions,onOpenUserTag:J.openUserTag},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(bt,Nt){return{name:Nt,fn:Object(e.withCtx)(function(Xt){return[Object(e.renderSlot)(M.$slots,Nt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(Xt)))]})}})]),1032,["content","users","text-formatting","link-options","onOpenUserTag"])])):(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:3,class:Object(e.normalizeClass)(["vac-message-box",{"vac-offset-current":i.message.senderId===i.currentUserId}]),onClick:l[8]||(l[8]=function(){return J.selectMessage&&J.selectMessage.apply(J,arguments)})},[Object(e.renderSlot)(M.$slots,"message",Object(e.normalizeProps)(Object(e.guardReactiveProps)({message:i.message})),function(){return[i.message.avatar&&i.message.senderId!==i.currentUserId?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:"vac-avatar",style:Object(e.normalizeStyle)({"background-image":"url('".concat(i.message.avatar,"')")})},null,4)):Object(e.createCommentVNode)("",!0),J.hasSenderUserAvatar&&!i.message.avatar?(Object(e.openBlock)(),Object(e.createElementBlock)("div",$a)):Object(e.createCommentVNode)("",!0),Object(e.createElementVNode)("div",{class:Object(e.normalizeClass)(["vac-message-container",{"vac-message-container-offset":J.messageOffset}])},[Object(e.createElementVNode)("div",{class:Object(e.normalizeClass)(["vac-message-card",{"vac-message-highlight":J.isMessageHover,"vac-message-current":i.message.senderId===i.currentUserId,"vac-message-deleted":i.message.deleted,"vac-item-clickable":i.messageSelectionEnabled,"vac-message-selected":J.isMessageSelected}]),onMouseover:l[5]||(l[5]=function(){return J.onHoverMessage&&J.onHoverMessage.apply(J,arguments)}),onMouseleave:l[6]||(l[6]=function(){return J.onLeaveMessage&&J.onLeaveMessage.apply(J,arguments)})},[J.showUsername?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:Object(e.normalizeClass)(["vac-text-username",{"vac-username-reply":!i.message.deleted&&i.message.replyMessage}])},[Object(e.createElementVNode)("span",null,Object(e.toDisplayString)(i.message.username),1)],2)):Object(e.createCommentVNode)("",!0),!i.message.deleted&&i.message.replyMessage?(Object(e.openBlock)(),Object(e.createBlock)(Xe,{key:1,message:i.message,"room-users":i.roomUsers,"text-formatting":i.textFormatting,"link-options":i.linkOptions},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(bt,Nt){return{name:Nt,fn:Object(e.withCtx)(function(Xt){return[Object(e.renderSlot)(M.$slots,Nt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(Xt)))]})}})]),1032,["message","room-users","text-formatting","link-options"])):Object(e.createCommentVNode)("",!0),i.message.deleted?(Object(e.openBlock)(),Object(e.createElementBlock)("div",qa,[Object(e.renderSlot)(M.$slots,"deleted-icon",{},function(){return[Object(e.createVNode)(ft,{name:"deleted",class:"vac-icon-deleted"})]}),Object(e.createElementVNode)("span",null,Object(e.toDisplayString)(i.textMessages.MESSAGE_DELETED),1)])):!i.message.files||!i.message.files.length?(Object(e.openBlock)(),Object(e.createBlock)(De,{key:3,content:i.message.content,users:i.roomUsers,"text-formatting":i.textFormatting,"link-options":i.linkOptions,onOpenUserTag:J.openUserTag},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(bt,Nt){return{name:Nt,fn:Object(e.withCtx)(function(Xt){return[Object(e.renderSlot)(M.$slots,Nt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(Xt)))]})}})]),1032,["content","users","text-formatting","link-options","onOpenUserTag"])):!J.isAudio||i.message.files.length>1?(Object(e.openBlock)(),Object(e.createBlock)(Ye,{key:4,"current-user-id":i.currentUserId,message:i.message,"room-users":i.roomUsers,"text-formatting":i.textFormatting,"link-options":i.linkOptions,"message-selection-enabled":i.messageSelectionEnabled,onOpenFile:J.openFile,onOpenUserTag:J.openUserTag},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(bt,Nt){return{name:Nt,fn:Object(e.withCtx)(function(Xt){return[Object(e.renderSlot)(M.$slots,Nt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(Xt)))]})}})]),1032,["current-user-id","message","room-users","text-formatting","link-options","message-selection-enabled","onOpenFile","onOpenUserTag"])):(Object(e.openBlock)(),Object(e.createElementBlock)(e.Fragment,{key:5},[Object(e.createVNode)(mt,{"message-id":i.message._id,src:i.message.files[0].url,"message-selection-enabled":i.messageSelectionEnabled,onUpdateProgressTime:l[0]||(l[0]=function(bt){return oe.progressTime=bt}),onHoverAudioProgress:l[1]||(l[1]=function(bt){return oe.hoverAudioProgress=bt})},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(bt,Nt){return{name:Nt,fn:Object(e.withCtx)(function(Xt){return[Object(e.renderSlot)(M.$slots,Nt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(Xt)))]})}})]),1032,["message-id","src","message-selection-enabled"]),i.message.deleted?Object(e.createCommentVNode)("",!0):(Object(e.openBlock)(),Object(e.createElementBlock)("div",eo,Object(e.toDisplayString)(oe.progressTime),1))],64)),Object(e.createElementVNode)("div",to,[i.message.edited&&!i.message.deleted?(Object(e.openBlock)(),Object(e.createElementBlock)("div",ro,[Object(e.renderSlot)(M.$slots,"pencil-icon",{},function(){return[Object(e.createVNode)(ft,{name:"pencil"})]})])):Object(e.createCommentVNode)("",!0),Object(e.createElementVNode)("span",null,Object(e.toDisplayString)(i.message.timestamp),1),J.isCheckmarkVisible?(Object(e.openBlock)(),Object(e.createElementBlock)("span",no,[Object(e.renderSlot)(M.$slots,"checkmark-icon",Object(e.normalizeProps)(Object(e.guardReactiveProps)({message:i.message})),function(){return[Object(e.createVNode)(ft,{name:i.message.distributed?"double-checkmark":"checkmark",param:i.message.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])]})])):Object(e.createCommentVNode)("",!0)]),Object(e.createVNode)(vt,{"current-user-id":i.currentUserId,message:i.message,"message-actions":i.messageActions,"show-reaction-emojis":i.showReactionEmojis,"message-hover":oe.messageHover,"hover-message-id":oe.hoverMessageId,"hover-audio-progress":oe.hoverAudioProgress,onUpdateMessageHover:l[2]||(l[2]=function(bt){return oe.messageHover=bt}),onUpdateOptionsOpened:l[3]||(l[3]=function(bt){return oe.optionsOpened=bt}),onUpdateEmojiOpened:l[4]||(l[4]=function(bt){return oe.emojiOpened=bt}),onMessageActionHandler:J.messageActionHandler,onSendMessageReaction:J.sendMessageReaction},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(bt,Nt){return{name:Nt,fn:Object(e.withCtx)(function(Xt){return[Object(e.renderSlot)(M.$slots,Nt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(Xt)))]})}})]),1032,["current-user-id","message","message-actions","show-reaction-emojis","message-hover","hover-message-id","hover-audio-progress","onMessageActionHandler","onSendMessageReaction"])],34),Object(e.createVNode)(Vt,{"current-user-id":i.currentUserId,message:i.message,onSendMessageReaction:J.sendMessageReaction},null,8,["current-user-id","message","onSendMessageReaction"])],2),Object(e.renderSlot)(M.$slots,"message-failure",Object(e.normalizeProps)(Object(e.guardReactiveProps)({message:i.message})),function(){return[i.message.failure&&i.message.senderId===i.currentUserId?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,class:Object(e.normalizeClass)(["vac-failure-container vac-svg-button",{"vac-failure-container-avatar":i.message.avatar&&i.message.senderId===i.currentUserId}]),onClick:l[7]||(l[7]=function(bt){return M.$emit("open-failed-message",{message:i.message})})},oo,2)):Object(e.createCommentVNode)("",!0)]}),i.message.avatar&&i.message.senderId===i.currentUserId?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:2,class:"vac-avatar vac-avatar-current",style:Object(e.normalizeStyle)({"background-image":"url('".concat(i.message.avatar,"')")})},null,4)):Object(e.createCommentVNode)("",!0),J.hasCurrentUserAvatar&&!i.message.avatar?(Object(e.openBlock)(),Object(e.createElementBlock)("div",so)):Object(e.createCommentVNode)("",!0)]})],2))],8,Za)}t("13d5");var lo={class:"vac-reply-message"},co={class:"vac-reply-username"},uo={key:0,class:"vac-image-reply-container"},fo={key:1,class:"vac-video-reply-container"},vo={width:"100%",height:"100%",controls:""},mo=["src"],ho={key:3,class:"vac-file-container"},go={class:"vac-text-ellipsis"},po={key:0,class:"vac-text-ellipsis vac-text-extension"},yo={class:"vac-reply-content"};function bo(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("audio-player"),Xe=Object(e.resolveComponent)("svg-icon"),ft=Object(e.resolveComponent)("format-message");return Object(e.openBlock)(),Object(e.createElementBlock)("div",lo,[Object(e.createElementVNode)("div",co,Object(e.toDisplayString)(J.replyUsername),1),J.isImage?(Object(e.openBlock)(),Object(e.createElementBlock)("div",uo,[Object(e.createElementVNode)("div",{class:"vac-message-image vac-message-image-reply",style:Object(e.normalizeStyle)({"background-image":"url('".concat(J.firstFile.url,"')")})},null,4)])):J.isVideo?(Object(e.openBlock)(),Object(e.createElementBlock)("div",fo,[Object(e.createElementVNode)("video",vo,[Object(e.createElementVNode)("source",{src:J.firstFile.url},null,8,mo)])])):J.isAudio?(Object(e.openBlock)(),Object(e.createBlock)(De,{key:2,src:J.firstFile.url,onUpdateProgressTime:l[0]||(l[0]=function(Ye){return M.progressTime=Ye}),onHoverAudioProgress:l[1]||(l[1]=function(Ye){return M.hoverAudioProgress=Ye})},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Ye,mt){return{name:mt,fn:Object(e.withCtx)(function(vt){return[Object(e.renderSlot)(M.$slots,mt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(vt)))]})}})]),1032,["src"])):J.isOtherFile?(Object(e.openBlock)(),Object(e.createElementBlock)("div",ho,[Object(e.createElementVNode)("div",null,[Object(e.renderSlot)(M.$slots,"file-icon",{},function(){return[Object(e.createVNode)(Xe,{name:"file"})]})]),Object(e.createElementVNode)("div",go,Object(e.toDisplayString)(J.firstFile.name),1),J.firstFile.extension?(Object(e.openBlock)(),Object(e.createElementBlock)("div",po,Object(e.toDisplayString)(J.firstFile.extension),1)):Object(e.createCommentVNode)("",!0)])):Object(e.createCommentVNode)("",!0),Object(e.createElementVNode)("div",yo,[Object(e.createVNode)(ft,{content:i.message.replyMessage.content,users:i.roomUsers,"text-formatting":i.textFormatting,"link-options":i.linkOptions,reply:!0},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Ye,mt){return{name:mt,fn:Object(e.withCtx)(function(vt){return[Object(e.renderSlot)(M.$slots,mt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(vt)))]})}})]),1032,["content","users","text-formatting","link-options"])])])}var vn=t("bd43"),So=vn.isAudioFile,Oo=vn.isImageFile,Eo=vn.isVideoFile,Ro={name:"MessageReply",components:{AudioPlayer:rn,SvgIcon:x,FormatMessage:at},props:{message:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},roomUsers:{type:Array,required:!0}},computed:{replyUsername:function(){var l=this.message.replyMessage.senderId,i=this.roomUsers.find(function(ae){return ae._id===l});return i?i.username:""},firstFile:function(){var l,i;return(l=this.message.replyMessage)!==null&&l!==void 0&&(i=l.files)!==null&&i!==void 0&&i.length?this.message.replyMessage.files[0]:{}},isAudio:function(){return So(this.firstFile)},isImage:function(){return Oo(this.firstFile)},isVideo:function(){return Eo(this.firstFile)},isOtherFile:function(){var l;return((l=this.message.replyMessage.files)===null||l===void 0?void 0:l.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},xo=A()(Ro,[["render",bo]]),To={class:"vac-message-files-container"},Ao=["onClick"],Mo={class:"vac-svg-button"},jo={class:"vac-text-ellipsis"},Io={key:0,class:"vac-text-ellipsis vac-text-extension"};function Co(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("message-file"),Xe=Object(e.resolveComponent)("progress-bar"),ft=Object(e.resolveComponent)("svg-icon"),Ye=Object(e.resolveComponent)("format-message");return Object(e.openBlock)(),Object(e.createElementBlock)("div",To,[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(J.imageVideoFiles,function(mt,vt){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:vt+"iv"},[Object(e.createVNode)(De,{file:mt,"current-user-id":i.currentUserId,message:i.message,index:vt,"message-selection-enabled":i.messageSelectionEnabled,onOpenFile:l[0]||(l[0]=function(Vt){return M.$emit("open-file",Vt)})},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Vt,bt){return{name:bt,fn:Object(e.withCtx)(function(Nt){return[Object(e.renderSlot)(M.$slots,bt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(Nt)))]})}})]),1032,["file","current-user-id","message","index","message-selection-enabled"])])}),128)),(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(J.otherFiles,function(mt,vt){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:vt+"a",class:"vac-file-wrapper"},[mt.progress>=0?(Object(e.openBlock)(),Object(e.createBlock)(Xe,{key:0,progress:mt.progress,style:{top:"44px"}},null,8,["progress"])):Object(e.createCommentVNode)("",!0),Object(e.createElementVNode)("div",{class:Object(e.normalizeClass)(["vac-file-container",{"vac-file-container-progress":mt.progress>=0}]),onClick:function(bt){return J.openFile(bt,mt,"download")}},[Object(e.createElementVNode)("div",Mo,[Object(e.renderSlot)(M.$slots,"document-icon",{},function(){return[Object(e.createVNode)(ft,{name:"document"})]})]),Object(e.createElementVNode)("div",jo,Object(e.toDisplayString)(mt.name),1),mt.extension?(Object(e.openBlock)(),Object(e.createElementBlock)("div",Io,Object(e.toDisplayString)(mt.extension),1)):Object(e.createCommentVNode)("",!0)],10,Ao)])}),128)),Object(e.createVNode)(Ye,{content:i.message.content,users:i.roomUsers,"text-formatting":i.textFormatting,"link-options":i.linkOptions,onOpenUserTag:l[1]||(l[1]=function(mt){return M.$emit("open-user-tag",mt)})},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(mt,vt){return{name:vt,fn:Object(e.withCtx)(function(Vt){return[Object(e.renderSlot)(M.$slots,vt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(Vt)))]})}})]),1032,["content","users","text-formatting","link-options"])])}var Bo={ref:"progress",class:"vac-progress-wrapper"},Lo=["height","width"],No=["stroke-dasharray","stroke-width","r","cx","cy"],Po={class:"vac-progress-text"},wo=Object(e.createElementVNode)("span",{class:"vac-progress-pourcent"},"%",-1);function Fo(M,l,i,ae,oe,J){return Object(e.openBlock)(),Object(e.createBlock)(e.Transition,{name:"vac-fade-spinner",appear:""},{default:Object(e.withCtx)(function(){return[Object(e.createElementVNode)("div",Bo,[(Object(e.openBlock)(),Object(e.createElementBlock)("svg",{height:oe.radius*2,width:oe.radius*2},[Object(e.createElementVNode)("circle",{stroke:"rgba(255, 255, 255, 0.7)","stroke-dasharray":oe.circumference+" "+oe.circumference,style:Object(e.normalizeStyle)({strokeDashoffset:J.strokeDashoffset,strokeLinecap:"round"}),"stroke-width":oe.stroke,fill:"transparent",r:oe.normalizedRadius,cx:oe.radius,cy:oe.radius},null,12,No)],8,Lo)),Object(e.createElementVNode)("div",{class:"vac-progress-content",style:Object(e.normalizeStyle)({height:oe.radius*2-19+"px",width:oe.radius*2-19+"px"})},[Object(e.createElementVNode)("div",Po,[Object(e.createTextVNode)(Object(e.toDisplayString)(i.progress),1),wo])],4)],512)]}),_:1})}var Do={name:"ProgressBar",props:{progress:{type:Number,default:0}},data:function(){var l=35,i=4,ae=l-i*2,oe=ae*2*Math.PI;return{radius:l,stroke:i,normalizedRadius:ae,circumference:oe}},computed:{strokeDashoffset:function(){return this.circumference-this.progress/100*this.circumference}}},Fn=A()(Do,[["render",Fo]]),Uo={class:"vac-message-file-container"},Vo={key:0,class:"vac-image-buttons"},Ho={width:"100%",height:"100%",controls:""},ko=["src"];function zo(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("progress-bar"),Xe=Object(e.resolveComponent)("loader"),ft=Object(e.resolveComponent)("svg-icon");return Object(e.openBlock)(),Object(e.createElementBlock)("div",Uo,[J.isImage?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,ref:"imageRef"+i.index,class:"vac-message-image-container",onMouseover:l[2]||(l[2]=function(Ye){return oe.imageHover=!0}),onMouseleave:l[3]||(l[3]=function(Ye){return oe.imageHover=!1}),onClick:l[4]||(l[4]=function(Ye){return J.openFile(Ye,"preview")})},[i.file.progress>=0?(Object(e.openBlock)(),Object(e.createBlock)(De,{key:0,progress:i.file.progress,style:Object(e.normalizeStyle)({top:"".concat(oe.imageResponsive.loaderTop,"px")})},null,8,["progress","style"])):(Object(e.openBlock)(),Object(e.createBlock)(Xe,{key:1,show:J.isImageLoading,style:Object(e.normalizeStyle)({top:"".concat(oe.imageResponsive.loaderTop,"px")})},Object(e.createSlots)({_:2},[Object(e.renderList)(M.$slots,function(Ye,mt){return{name:mt,fn:Object(e.withCtx)(function(vt){return[Object(e.renderSlot)(M.$slots,mt,Object(e.normalizeProps)(Object(e.guardReactiveProps)(vt)))]})}})]),1032,["show","style"])),Object(e.createElementVNode)("div",{class:Object(e.normalizeClass)(["vac-message-image",{"vac-blur-loading":J.isImageLoading&&i.message.senderId===i.currentUserId}]),style:Object(e.normalizeStyle)({"background-image":"url('".concat(J.isImageLoading&&i.file.preview||i.file.url,"')"),"max-height":"".concat(oe.imageResponsive.maxHeight,"px")})},[Object(e.createVNode)(e.Transition,{name:"vac-fade-image"},{default:Object(e.withCtx)(function(){return[!i.messageSelectionEnabled&&oe.imageHover&&!J.isImageLoading?(Object(e.openBlock)(),Object(e.createElementBlock)("div",Vo,[Object(e.createElementVNode)("div",{class:"vac-svg-button vac-button-view",onClick:l[0]||(l[0]=function(Ye){return J.openFile(Ye,"preview")})},[Object(e.renderSlot)(M.$slots,"eye-icon",{},function(){return[Object(e.createVNode)(ft,{name:"eye"})]})]),Object(e.createElementVNode)("div",{class:"vac-svg-button vac-button-download",onClick:l[1]||(l[1]=function(Ye){return J.openFile(Ye,"download")})},[Object(e.renderSlot)(M.$slots,"document-icon",{},function(){return[Object(e.createVNode)(ft,{name:"document"})]})])])):Object(e.createCommentVNode)("",!0)]}),_:3})],6)],544)):J.isVideo?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:1,class:"vac-video-container",onClick:l[5]||(l[5]=Object(e.withModifiers)(function(Ye){return J.openFile("preview")},["prevent"]))},[i.file.progress>=0?(Object(e.openBlock)(),Object(e.createBlock)(De,{key:0,progress:i.file.progress},null,8,["progress"])):Object(e.createCommentVNode)("",!0),Object(e.createElementVNode)("video",Ho,[Object(e.createElementVNode)("source",{src:i.file.url},null,8,ko)])])):Object(e.createCommentVNode)("",!0)])}var Dn=t("bd43"),Un=Dn.isImageFile,Go=Dn.isVideoFile,Yo={name:"MessageFile",components:{SvgIcon:x,Loader:D,ProgressBar:Fn},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},file:{type:Object,required:!0},index:{type:Number,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file"],data:function(){return{imageResponsive:"",imageLoading:!1,imageHover:!1}},computed:{isImageLoading:function(){return this.file.url.indexOf("blob:http")!==-1||this.imageLoading},isImage:function(){return Un(this.file)},isVideo:function(){return Go(this.file)}},watch:{file:{immediate:!0,handler:function(){this.checkImgLoad()}}},mounted:function(){var l=this.$refs["imageRef"+this.index];l&&(this.imageResponsive={maxHeight:l.clientWidth-18,loaderTop:l.clientHeight/2-9})},methods:{checkImgLoad:function(){var l=this;if(!!Un(this.file)){this.imageLoading=!0;var i=new Image;i.src=this.file.url,i.addEventListener("load",function(){return l.imageLoading=!1})}},openFile:function(l,i){this.messageSelectionEnabled||(l.stopPropagation(),this.$emit("open-file",{file:this.file,action:i}))}}},Ko=A()(Yo,[["render",zo]]),Xo=t("bd43"),Vn=Xo.isImageVideoFile,Wo={name:"MessageFiles",components:{SvgIcon:x,FormatMessage:at,ProgressBar:Fn,MessageFile:Ko},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},roomUsers:{type:Array,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file","open-user-tag"],computed:{imageVideoFiles:function(){return this.message.files.filter(function(l){return Vn(l)})},otherFiles:function(){return this.message.files.filter(function(l){return!Vn(l)})}},methods:{openFile:function(l,i,ae){this.messageSelectionEnabled||(l.stopPropagation(),this.$emit("open-file",{file:i,action:ae}))}}},Zo=A()(Wo,[["render",Co]]),Qo={class:"vac-message-actions-wrapper"},Jo={key:"3"},_o={class:"vac-menu-list"},$o=["onClick"];function qo(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("svg-icon"),Xe=Object(e.resolveComponent)("emoji-picker-container"),ft=Object(e.resolveDirective)("click-outside");return Object(e.openBlock)(),Object(e.createElementBlock)("div",Qo,[Object(e.createElementVNode)("div",{class:"vac-options-container",style:Object(e.normalizeStyle)({display:i.hoverAudioProgress?"none":"initial",width:J.filteredMessageActions.length&&i.showReactionEmojis?"70px":"45px"})},[Object(e.createVNode)(e.TransitionGroup,{name:"vac-slide-left",tag:"span"},{default:Object(e.withCtx)(function(){return[J.isMessageActions||J.isMessageReactions?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:"1",class:Object(e.normalizeClass)(["vac-blur-container",{"vac-options-me":i.message.senderId===i.currentUserId}])},null,2)):Object(e.createCommentVNode)("",!0),J.isMessageActions?(Object(e.openBlock)(),Object(e.createElementBlock)("div",{ref:"actionIcon",key:"2",class:"vac-svg-button vac-message-options",onClick:l[0]||(l[0]=function(){return J.openOptions&&J.openOptions.apply(J,arguments)})},[Object(e.renderSlot)(M.$slots,"dropdown-icon",{},function(){return[Object(e.createVNode)(De,{name:"dropdown",param:"message"})]})],512)):Object(e.createCommentVNode)("",!0),J.isMessageReactions?Object(e.withDirectives)((Object(e.openBlock)(),Object(e.createElementBlock)("div",Jo,[Object(e.renderSlot)(M.$slots,"emoji-picker",Object(e.mergeProps)({emojiOpened:oe.emojiOpened},{addEmoji:J.sendMessageReaction}),function(){return[Object(e.createVNode)(Xe,{class:"vac-message-emojis",style:Object(e.normalizeStyle)({right:J.isMessageActions?"30px":"5px"}),"emoji-opened":oe.emojiOpened,"emoji-reaction":!0,"position-right":i.message.senderId===i.currentUserId,onAddEmoji:J.sendMessageReaction,onOpenEmoji:J.openEmoji},{"emoji-picker-icon":Object(e.withCtx)(function(){return[Object(e.renderSlot)(M.$slots,"emoji-picker-reaction-icon")]}),_:3},8,["style","emoji-opened","position-right","onAddEmoji","onOpenEmoji"])]})])),[[ft,J.closeEmoji]]):Object(e.createCommentVNode)("",!0)]}),_:3})],4),J.filteredMessageActions.length?(Object(e.openBlock)(),Object(e.createBlock)(e.Transition,{key:0,name:i.message.senderId===i.currentUserId?"vac-slide-left":"vac-slide-right"},{default:Object(e.withCtx)(function(){return[oe.optionsOpened?Object(e.withDirectives)((Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:0,ref:"menuOptions",class:Object(e.normalizeClass)(["vac-menu-options",{"vac-menu-left":i.message.senderId!==i.currentUserId}]),style:Object(e.normalizeStyle)({top:"".concat(oe.menuOptionsTop,"px")})},[Object(e.createElementVNode)("div",_o,[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(J.filteredMessageActions,function(Ye){return Object(e.openBlock)(),Object(e.createElementBlock)("div",{key:Ye.name},[Object(e.createElementVNode)("div",{class:"vac-menu-item",onClick:function(vt){return J.messageActionHandler(Ye)}},Object(e.toDisplayString)(Ye.title),9,$o)])}),128))])],6)),[[ft,J.closeOptions]]):Object(e.createCommentVNode)("",!0)]}),_:1},8,["name"])):Object(e.createCommentVNode)("",!0)])}var es={name:"MessageActions",components:{SvgIcon:x,EmojiPickerContainer:Wt},directives:{clickOutside:pe},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},messageActions:{type:Array,required:!0},showReactionEmojis:{type:Boolean,required:!0},messageHover:{type:Boolean,required:!0},hoverMessageId:{type:[String,Number],default:null},hoverAudioProgress:{type:Boolean,required:!0}},emits:["update-emoji-opened","update-options-opened","update-message-hover","message-action-handler","send-message-reaction"],data:function(){return{menuOptionsTop:0,optionsOpened:!1,optionsClosing:!1,emojiOpened:!1}},computed:{isMessageActions:function(){return this.filteredMessageActions.length&&this.messageHover&&!this.message.deleted&&!this.message.disableActions&&!this.hoverAudioProgress},isMessageReactions:function(){return this.showReactionEmojis&&this.messageHover&&!this.message.deleted&&!this.message.disableReactions&&!this.hoverAudioProgress},filteredMessageActions:function(){return this.message.senderId===this.currentUserId?this.messageActions:this.messageActions.filter(function(l){return!l.onlyMe})}},watch:{emojiOpened:function(l){this.$emit("update-emoji-opened",l),l&&(this.optionsOpened=!1)},optionsOpened:function(l){this.$emit("update-options-opened",l)}},methods:{openOptions:function(){var l=this;this.optionsClosing||(this.optionsOpened=!this.optionsOpened,this.optionsOpened&&setTimeout(function(){var i=document.getElementById("room-footer");if(!(!i||!l.$refs.menuOptions||!l.$refs.actionIcon)){var ae=l.$refs.menuOptions.getBoundingClientRect().height,oe=l.$refs.actionIcon.getBoundingClientRect().top,J=i.getBoundingClientRect().top,De=J-oe>ae+50;De?l.menuOptionsTop=30:l.menuOptionsTop=-ae}}))},closeOptions:function(){var l=this;this.optionsOpened=!1,this.optionsClosing=!0,this.updateMessageHover(),setTimeout(function(){return l.optionsClosing=!1},100)},openEmoji:function(){this.emojiOpened=!this.emojiOpened},closeEmoji:function(){this.emojiOpened=!1,this.updateMessageHover()},updateMessageHover:function(){this.hoverMessageId!==this.message._id&&this.$emit("update-message-hover",!1)},messageActionHandler:function(l){this.closeOptions(),this.$emit("message-action-handler",l)},sendMessageReaction:function(l,i){this.$emit("send-message-reaction",{emoji:l,reaction:i}),this.closeEmoji()}}},ts=A()(es,[["render",qo]]),rs=["onClick"];function ns(M,l,i,ae,oe,J){return i.message.deleted?Object(e.createCommentVNode)("",!0):(Object(e.openBlock)(),Object(e.createBlock)(e.TransitionGroup,{key:0,name:"vac-slide-left",tag:"span"},{default:Object(e.withCtx)(function(){return[(Object(e.openBlock)(!0),Object(e.createElementBlock)(e.Fragment,null,Object(e.renderList)(i.message.reactions,function(De,Xe){return Object(e.withDirectives)((Object(e.openBlock)(),Object(e.createElementBlock)("button",{key:Xe+0,class:Object(e.normalizeClass)(["vac-button-reaction",{"vac-reaction-me":De.indexOf(i.currentUserId)!==-1}]),style:Object(e.normalizeStyle)({float:i.message.senderId===i.currentUserId?"right":"left"}),onClick:function(Ye){return J.sendMessageReaction({unicode:Xe},De)}},[Object(e.createTextVNode)(Object(e.toDisplayString)(Xe),1),Object(e.createElementVNode)("span",null,Object(e.toDisplayString)(De.length),1)],14,rs)),[[e.vShow,De.length]])}),128))]}),_:1}))}var as={name:"MessageReactions",props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0}},emits:["send-message-reaction"],methods:{sendMessageReaction:function(l,i){this.$emit("send-message-reaction",{emoji:l,reaction:i})}}},os=A()(as,[["render",ns]]),ss=t("4c1d"),is=ss.messagesValidation,ls=t("bd43"),cs=ls.isAudioFile,us={name:"RoomMessage",components:{SvgIcon:x,FormatMessage:at,AudioPlayer:rn,MessageReply:xo,MessageFiles:Zo,MessageActions:ts,MessageReactions:os},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},index:{type:Number,required:!0},message:{type:Object,required:!0},messages:{type:Array,required:!0},editedMessageId:{type:[String,Number],default:null},roomUsers:{type:Array,default:function(){return[]}},messageActions:{type:Array,required:!0},newMessages:{type:Array,default:function(){return[]}},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},usernameOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},selectedMessages:{type:Array,default:function(){return[]}}},emits:["message-added","open-file","open-user-tag","open-failed-message","message-action-handler","send-message-reaction","select-message","unselect-message"],data:function(){return{hoverMessageId:null,messageHover:!1,optionsOpened:!1,emojiOpened:!1,newMessage:{},progressTime:"- : -",hoverAudioProgress:!1}},computed:{showUsername:function(){return!this.usernameOptions.currentUser&&this.message.senderId===this.currentUserId?!1:this.roomUsers.length>=this.usernameOptions.minUsers},showDate:function(){return this.index>0&&this.message.date!==this.messages[this.index-1].date},messageOffset:function(){return this.index>0&&this.message.senderId!==this.messages[this.index-1].senderId},isMessageHover:function(){return this.editedMessageId===this.message._id||this.hoverMessageId===this.message._id},isAudio:function(){var l;return(l=this.message.files)===null||l===void 0?void 0:l.some(function(i){return cs(i)})},isCheckmarkVisible:function(){return this.message.senderId===this.currentUserId&&!this.message.deleted&&(this.message.saved||this.message.distributed||this.message.seen)},hasCurrentUserAvatar:function(){var l=this;return this.messages.some(function(i){return i.senderId===l.currentUserId&&i.avatar})},hasSenderUserAvatar:function(){var l=this;return this.messages.some(function(i){return i.senderId!==l.currentUserId&&i.avatar})},isMessageSelected:function(){var l=this;return this.messageSelectionEnabled&&!!this.selectedMessages.find(function(i){return i._id===l.message._id})}},watch:{newMessages:{immediate:!0,deep:!0,handler:function(l){if(!l.length||!this.showNewMessagesDivider){this.newMessage={};return}this.newMessage=l.reduce(function(i,ae){return ae.index<i.index?ae:i})}},messageSelectionEnabled:function(){this.resetMessageHover()}},mounted:function(){is(this.message),this.$emit("message-added",{message:this.message,index:this.index,ref:this.$refs.message})},methods:{onHoverMessage:function(){this.messageSelectionEnabled||(this.messageHover=!0,this.canEditMessage()&&(this.hoverMessageId=this.message._id))},canEditMessage:function(){return!this.message.deleted},onLeaveMessage:function(){this.messageSelectionEnabled||(!this.optionsOpened&&!this.emojiOpened&&(this.messageHover=!1),this.hoverMessageId=null)},resetMessageHover:function(){this.messageHover=!1,this.hoverMessageId=null},openFile:function(l){this.$emit("open-file",{message:this.message,file:l})},openUserTag:function(l){this.$emit("open-user-tag",{user:l})},messageActionHandler:function(l){var i=this;this.resetMessageHover(),setTimeout(function(){i.$emit("message-action-handler",{action:l,message:i.message})},300)},sendMessageReaction:function(l){var i=l.emoji,ae=l.reaction;this.$emit("send-message-reaction",{messageId:this.message._id,reaction:i,remove:ae&&ae.indexOf(this.currentUserId)!==-1}),this.messageHover=!1},selectMessage:function(){this.messageSelectionEnabled&&(this.isMessageSelected?this.$emit("unselect-message",this.message._id):this.$emit("select-message",this.message))}}},ds=A()(us,[["render",io]]),fs={name:"Room",components:{Loader:D,SvgIcon:x,RoomHeader:Pt,RoomFooter:Wa,RoomMessage:ds},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},roomId:{type:[String,Number],required:!0},loadFirstRoom:{type:Boolean,required:!0},messages:{type:Array,required:!0},roomMessage:{type:String,default:null},messagesLoaded:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},messageActions:{type:Array,required:!0},messageSelectionActions:{type:Array,required:!0},autoScroll:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},showEmojis:{type:Boolean,required:!0},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},loadingRooms:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},textareaActionEnabled:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},scrollDistance:{type:Number,required:!0},templatesText:{type:Array,default:null},usernameOptions:{type:Object,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","message-selection-action-handler","edit-message","send-message","delete-message","message-action-handler","fetch-messages","send-message-reaction","typing-message","open-file","open-user-tag","open-failed-message","textarea-action-handler"],data:function(){return{editedMessageId:null,initReplyMessage:null,initEditMessage:null,infiniteState:null,loadingMessages:!1,observer:null,showLoader:!0,loadingMoreMessages:!1,scrollIcon:!1,scrollMessagesCount:0,newMessages:[],messageSelectionEnabled:!1,selectedMessages:[]}},computed:{room:function(){var l=this;return this.rooms.find(function(i){return i.roomId===l.roomId})||{}},showNoMessages:function(){return this.roomId&&!this.messages.length&&!this.loadingMessages&&!this.loadingRooms},showNoRoom:function(){var l=!this.rooms.length&&!this.loadingRooms||!this.roomId&&!this.loadFirstRoom;return l&&(this.loadingMessages=!1),l},showMessagesStarted:function(){return this.messages.length&&this.messagesLoaded}},watch:{loadingMessages:function(l){var i=this;l?this.infiniteState=null:(this.infiniteState&&this.infiniteState.loaded(),setTimeout(function(){return i.initIntersectionObserver()}))},roomId:function(){this.onRoomChanged()},messages:{deep:!0,handler:function(l,i){var ae=this;l.forEach(function(oe,J){ae.showNewMessagesDivider&&!oe.seen&&oe.senderId!==ae.currentUserId&&ae.newMessages.push({_id:oe._id,index:J})}),(i==null?void 0:i.length)===(l==null?void 0:l.length)-1&&(this.newMessages=[]),this.infiniteState&&this.infiniteState.loaded(),setTimeout(function(){return ae.loadingMoreMessages=!1})}},messagesLoaded:function(l){l&&(this.loadingMessages=!1),this.infiniteState&&this.infiniteState.complete()}},mounted:function(){this.newMessages=[]},methods:{initIntersectionObserver:function(){var l=this;this.observer&&(this.showLoader=!0,this.observer.disconnect());var i=document.getElementById("infinite-loader-messages");if(i){var ae={root:document.getElementById("messages-list"),rootMargin:"".concat(this.scrollDistance,"px"),threshold:0};this.observer=new IntersectionObserver(function(oe){oe[0].isIntersecting&&l.loadMoreMessages()},ae),this.observer.observe(i)}},preventTopScroll:function(){for(var l=this,i=this.$refs.scrollContainer,ae=i.scrollHeight,oe=new ResizeObserver(function(De){i.scrollHeight!==ae&&l.$refs.scrollContainer&&(l.$refs.scrollContainer.scrollTo({top:i.scrollHeight-ae}),oe.disconnect())}),J=0;J<i.children.length;J++)oe.observe(i.children[J])},touchStart:function(l){var i=this;if(!this.singleRoom&&l.changedTouches.length===1){var ae=l.changedTouches[0].clientX,oe=l.changedTouches[0].clientY;addEventListener("touchend",function(J){return i.touchEnd(J,ae,oe)},{once:!0})}},touchEnd:function(l,i,ae){if(l.changedTouches.length===1){var oe=l.changedTouches[0].clientX,J=l.changedTouches[0].clientY,De=oe-i>100,Xe=Math.abs(J-ae)>50;De&&!Xe&&this.$emit("toggle-rooms-list")}},onRoomChanged:function(){var l=this;this.loadingMessages=!0,this.scrollIcon=!1,this.scrollMessagesCount=0,this.resetMessageSelection(),!this.messages.length&&this.messagesLoaded&&(this.loadingMessages=!1);var i=this.$watch(function(){return l.messages},function(ae){if(!(!ae||!ae.length)){var oe=l.$refs.scrollContainer;!oe||(i(),setTimeout(function(){oe.scrollTo({top:oe.scrollHeight}),l.loadingMessages=!1}))}})},resetMessageSelection:function(){this.messageSelectionEnabled=!1,this.selectedMessages=[]},selectMessage:function(l){this.selectedMessages.push(l)},unselectMessage:function(l){this.selectedMessages=this.selectedMessages.filter(function(i){return i._id!==l})},onMessageAdded:function(l){var i=this,ae=l.message,oe=l.index,J=l.ref;if(oe===this.messages.length-1){var De=J.offsetHeight+60;setTimeout(function(){var Xe=i.getBottomScroll(i.$refs.scrollContainer)>De;ae.senderId===i.currentUserId?Xe?i.autoScroll.send.newAfterScrollUp&&i.scrollToBottom():i.autoScroll.send.new&&i.scrollToBottom():Xe?i.autoScroll.receive.newAfterScrollUp?i.scrollToBottom():(i.scrollIcon=!0,i.scrollMessagesCount++):i.autoScroll.receive.new?i.scrollToBottom():(i.scrollIcon=!0,i.scrollMessagesCount++)})}},onContainerScroll:function(l){if(!!l.target){var i=this.getBottomScroll(l.target);i<60&&(this.scrollMessagesCount=0),this.scrollIcon=i>500||this.scrollMessagesCount}},loadMoreMessages:function(){var l=this;this.loadingMessages||setTimeout(function(){if(!l.loadingMoreMessages){if(l.messagesLoaded||!l.roomId){l.loadingMoreMessages=!1,l.showLoader=!1;return}l.preventTopScroll(),l.$emit("fetch-messages"),l.loadingMoreMessages=!0}},500)},messageActionHandler:function(l){var i=l.action,ae=l.message;switch(i.name){case"replyMessage":this.initReplyMessage=ae;return;case"editMessage":this.initEditMessage=ae;return;case"deleteMessage":return this.$emit("delete-message",ae);case"selectMessages":this.selectedMessages=[ae],this.messageSelectionEnabled=!0;return;default:return this.$emit("message-action-handler",{action:i,message:ae})}},messageSelectionActionHandler:function(l){this.$emit("message-selection-action-handler",{action:l,messages:this.selectedMessages}),this.resetMessageSelection()},sendMessageReaction:function(l){this.$emit("send-message-reaction",l)},getBottomScroll:function(l){var i=l.scrollHeight,ae=l.clientHeight,oe=l.scrollTop;return i-ae-oe},scrollToBottom:function(){var l=this;setTimeout(function(){var i=l.$refs.scrollContainer;i.classList.add("vac-scroll-smooth"),i.scrollTo({top:i.scrollHeight,behavior:"smooth"}),setTimeout(function(){return i.classList.remove("vac-scroll-smooth")})},50)},openFile:function(l){var i=l.message,ae=l.file;this.$emit("open-file",{message:i,file:ae})},openUserTag:function(l){this.$emit("open-user-tag",l)}}},vs=A()(fs,[["render",dt]]),ms={key:0,class:"vac-media-preview-container"},hs={key:1,class:"vac-media-preview-container"},gs={width:"100%",height:"100%",controls:"",autoplay:""},ps=["src"],ys={class:"vac-svg-button"};function bs(M,l,i,ae,oe,J){var De=Object(e.resolveComponent)("svg-icon");return Object(e.openBlock)(),Object(e.createElementBlock)("div",{ref:"modal",tabindex:"0",class:"vac-media-preview",onClick:l[0]||(l[0]=Object(e.withModifiers)(function(){return J.closeModal&&J.closeModal.apply(J,arguments)},["stop"])),onKeydown:l[1]||(l[1]=Object(e.withKeys)(function(){return J.closeModal&&J.closeModal.apply(J,arguments)},["esc"]))},[Object(e.createVNode)(e.Transition,{name:"vac-bounce-preview",appear:""},{default:Object(e.withCtx)(function(){return[J.isImage?(Object(e.openBlock)(),Object(e.createElementBlock)("div",ms,[Object(e.createElementVNode)("div",{class:"vac-image-preview",style:Object(e.normalizeStyle)({"background-image":"url('".concat(i.file.url,"')")})},null,4)])):J.isVideo?(Object(e.openBlock)(),Object(e.createElementBlock)("div",hs,[Object(e.createElementVNode)("video",gs,[Object(e.createElementVNode)("source",{src:i.file.url},null,8,ps)])])):Object(e.createCommentVNode)("",!0)]}),_:1}),Object(e.createElementVNode)("div",ys,[Object(e.renderSlot)(M.$slots,"preview-close-icon",{},function(){return[Object(e.createVNode)(De,{name:"close-outline",param:"preview"})]})])],544)}var Hn=t("bd43"),Ss=Hn.isImageFile,Os=Hn.isVideoFile,Es={name:"MediaPreview",components:{SvgIcon:x},props:{file:{type:Object,required:!0}},emits:["close-media-preview"],computed:{isImage:function(){return Ss(this.file)},isVideo:function(){return Os(this.file)}},mounted:function(){this.$refs.modal.focus()},methods:{closeModal:function(){this.$emit("close-media-preview")}}},Rs=A()(Es,[["render",bs]]),xs={ROOMS_EMPTY:"No rooms",ROOM_EMPTY:"No room selected",NEW_MESSAGES:"New Messages",MESSAGE_DELETED:"This message was deleted",MESSAGES_EMPTY:"No messages",CONVERSATION_STARTED:"Conversation started on:",TYPE_MESSAGE:"Type message",SEARCH:"Search",IS_ONLINE:"is online",LAST_SEEN:"last seen ",IS_TYPING:"is writing...",CANCEL_SELECT_MESSAGE:"Cancel"};t("841c");var Ts={light:{general:{color:"#0a0a0a",colorButtonClear:"#1976d2",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#fff",colorPlaceholder:"#9ca6af",colorCaret:"#1976d2",colorSpinner:"#333",borderStyle:"1px solid #e1e4e8",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#fff",colorRoomName:"#0a0a0a",colorRoomInfo:"#9ca6af"},footer:{background:"#f8f9fa",borderStyleInput:"1px solid #e1e4e8",borderInputSelected:"#1976d2",backgroundReply:"#e5e5e6",backgroundTagActive:"#e5e5e6",backgroundTag:"#f8f9fa"},content:{background:"#f8f9fa"},sidemenu:{background:"#fff",backgroundHover:"#f6f6f6",backgroundActive:"#e5effa",colorActive:"#1976d2",borderColorSearch:"#e1e5e8"},dropdown:{background:"#fff",backgroundHover:"#f6f6f6"},message:{background:"#fff",backgroundMe:"#ccf2cf",color:"#0a0a0a",colorStarted:"#9ca6af",backgroundDeleted:"#dadfe2",backgroundSelected:"#c2dcf2",colorDeleted:"#757e85",colorUsername:"#9ca6af",colorTimestamp:"#828c94",backgroundDate:"#e5effa",colorDate:"#505a62",backgroundSystem:"#e5effa",colorSystem:"#505a62",backgroundMedia:"rgba(0, 0, 0, 0.15)",backgroundReply:"rgba(0, 0, 0, 0.08)",colorReplyUsername:"#0a0a0a",colorReply:"#6e6e6e",colorTag:"#0d579c",backgroundImage:"#ddd",colorNewMessages:"#1976d2",backgroundScrollCounter:"#0696c7",colorScrollCounter:"#fff",backgroundReaction:"#eee",borderStyleReaction:"1px solid #eee",backgroundReactionHover:"#fff",borderStyleReactionHover:"1px solid #ddd",colorReactionCounter:"#0a0a0a",backgroundReactionMe:"#cfecf5",borderStyleReactionMe:"1px solid #3b98b8",backgroundReactionHoverMe:"#cfecf5",borderStyleReactionHoverMe:"1px solid #3b98b8",colorReactionCounterMe:"#0b59b3",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(0, 0, 0, 0.15)",backgroundAudioProgress:"#455247",backgroundAudioProgressSelector:"#455247",colorFileExtension:"#757e85"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#0a0a0a",colorMessage:"#67717a",colorTimestamp:"#a2aeb8",colorStateOnline:"#4caf50",colorStateOffline:"#9ca6af",backgroundCounterBadge:"#0696c7",colorCounterBadge:"#fff"},emoji:{background:"#fff"},icons:{search:"#9ca6af",add:"#1976d2",toggle:"#0a0a0a",menu:"#0a0a0a",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#1976d2",closeOutline:"#000",closePreview:"#fff",send:"#1976d2",sendDisabled:"#9ca6af",emoji:"#1976d2",emojiReaction:"rgba(0, 0, 0, 0.3)",document:"#1976d2",pencil:"#9e9e9e",checkmark:"#9e9e9e",checkmarkSeen:"#0696c7",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#9e9e9e",dropdownScroll:"#0a0a0a",microphone:"#1976d2",audioPlay:"#455247",audioPause:"#455247",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}},dark:{general:{color:"#fff",colorButtonClear:"#fff",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#202223",colorPlaceholder:"#596269",colorCaret:"#fff",colorSpinner:"#fff",borderStyle:"none",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#181a1b",colorRoomName:"#fff",colorRoomInfo:"#9ca6af"},footer:{background:"#131415",borderStyleInput:"none",borderInputSelected:"#1976d2",backgroundReply:"#1b1c1c",backgroundTagActive:"#1b1c1c",backgroundTag:"#131415"},content:{background:"#131415"},sidemenu:{background:"#181a1b",backgroundHover:"#202224",backgroundActive:"#151617",colorActive:"#fff",borderColorSearch:"#181a1b"},dropdown:{background:"#2a2c33",backgroundHover:"#26282e"},message:{background:"#22242a",backgroundMe:"#1f7e80",color:"#fff",colorStarted:"#9ca6af",backgroundDeleted:"#1b1c21",backgroundSelected:"#c2dcf2",colorDeleted:"#a2a5a8",colorUsername:"#b3bac9",colorTimestamp:"#ebedf2",backgroundDate:"rgba(0, 0, 0, 0.3)",colorDate:"#bec5cc",backgroundSystem:"rgba(0, 0, 0, 0.3)",colorSystem:"#bec5cc",backgroundMedia:"rgba(0, 0, 0, 0.18)",backgroundReply:"rgba(0, 0, 0, 0.18)",colorReplyUsername:"#fff",colorReply:"#d6d6d6",colorTag:"#f0c60a",backgroundImage:"#ddd",colorNewMessages:"#fff",backgroundScrollCounter:"#1976d2",colorScrollCounter:"#fff",backgroundReaction:"none",borderStyleReaction:"none",backgroundReactionHover:"#202223",borderStyleReactionHover:"none",colorReactionCounter:"#fff",backgroundReactionMe:"#4e9ad1",borderStyleReactionMe:"none",backgroundReactionHoverMe:"#4e9ad1",borderStyleReactionHoverMe:"none",colorReactionCounterMe:"#fff",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(255, 255, 255, 0.15)",backgroundAudioProgress:"#b7d4d3",backgroundAudioProgressSelector:"#b7d4d3",colorFileExtension:"#a2a5a8"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#fff",colorMessage:"#6c7278",colorTimestamp:"#6c7278",colorStateOnline:"#4caf50",colorStateOffline:"#596269",backgroundCounterBadge:"#1976d2",colorCounterBadge:"#fff"},emoji:{background:"#343740"},icons:{search:"#596269",add:"#fff",toggle:"#fff",menu:"#fff",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#fff",closeOutline:"#fff",closePreview:"#fff",send:"#fff",sendDisabled:"#646a70",emoji:"#fff",emojiReaction:"#fff",document:"#1976d2",pencil:"#ebedf2",checkmark:"#ebedf2",checkmarkSeen:"#f0d90a",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#fff",dropdownScroll:"#0a0a0a",microphone:"#fff",audioPlay:"#b7d4d3",audioPause:"#b7d4d3",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}}},As=function(l){var i=l.general,ae=l.container,oe=l.header,J=l.footer,De=l.sidemenu,Xe=l.content,ft=l.dropdown,Ye=l.message,mt=l.markdown,vt=l.room,Vt=l.emoji,bt=l.icons;return{"--chat-color":i.color,"--chat-color-button-clear":i.colorButtonClear,"--chat-color-button":i.colorButton,"--chat-bg-color-button":i.backgroundColorButton,"--chat-bg-color-input":i.backgroundInput,"--chat-color-spinner":i.colorSpinner,"--chat-color-placeholder":i.colorPlaceholder,"--chat-color-caret":i.colorCaret,"--chat-border-style":i.borderStyle,"--chat-bg-scroll-icon":i.backgroundScrollIcon,"--chat-container-border":ae.border,"--chat-container-border-radius":ae.borderRadius,"--chat-container-box-shadow":ae.boxShadow,"--chat-header-bg-color":oe.background,"--chat-header-color-name":oe.colorRoomName,"--chat-header-color-info":oe.colorRoomInfo,"--chat-footer-bg-color":J.background,"--chat-border-style-input":J.borderStyleInput,"--chat-border-color-input-selected":J.borderInputSelected,"--chat-footer-bg-color-reply":J.backgroundReply,"--chat-footer-bg-color-tag-active":J.backgroundTagActive,"--chat-footer-bg-color-tag":J.backgroundTag,"--chat-content-bg-color":Xe.background,"--chat-sidemenu-bg-color":De.background,"--chat-sidemenu-bg-color-hover":De.backgroundHover,"--chat-sidemenu-bg-color-active":De.backgroundActive,"--chat-sidemenu-color-active":De.colorActive,"--chat-sidemenu-border-color-search":De.borderColorSearch,"--chat-dropdown-bg-color":ft.background,"--chat-dropdown-bg-color-hover":ft.backgroundHover,"--chat-message-bg-color":Ye.background,"--chat-message-bg-color-me":Ye.backgroundMe,"--chat-message-color-started":Ye.colorStarted,"--chat-message-bg-color-deleted":Ye.backgroundDeleted,"--chat-message-bg-color-selected":Ye.backgroundSelected,"--chat-message-color-deleted":Ye.colorDeleted,"--chat-message-color-username":Ye.colorUsername,"--chat-message-color-timestamp":Ye.colorTimestamp,"--chat-message-bg-color-date":Ye.backgroundDate,"--chat-message-color-date":Ye.colorDate,"--chat-message-bg-color-system":Ye.backgroundSystem,"--chat-message-color-system":Ye.colorSystem,"--chat-message-color":Ye.color,"--chat-message-bg-color-media":Ye.backgroundMedia,"--chat-message-bg-color-reply":Ye.backgroundReply,"--chat-message-color-reply-username":Ye.colorReplyUsername,"--chat-message-color-reply-content":Ye.colorReply,"--chat-message-color-tag":Ye.colorTag,"--chat-message-bg-color-image":Ye.backgroundImage,"--chat-message-color-new-messages":Ye.colorNewMessages,"--chat-message-bg-color-scroll-counter":Ye.backgroundScrollCounter,"--chat-message-color-scroll-counter":Ye.colorScrollCounter,"--chat-message-bg-color-reaction":Ye.backgroundReaction,"--chat-message-border-style-reaction":Ye.borderStyleReaction,"--chat-message-bg-color-reaction-hover":Ye.backgroundReactionHover,"--chat-message-border-style-reaction-hover":Ye.borderStyleReactionHover,"--chat-message-color-reaction-counter":Ye.colorReactionCounter,"--chat-message-bg-color-reaction-me":Ye.backgroundReactionMe,"--chat-message-border-style-reaction-me":Ye.borderStyleReactionMe,"--chat-message-bg-color-reaction-hover-me":Ye.backgroundReactionHoverMe,"--chat-message-border-style-reaction-hover-me":Ye.borderStyleReactionHoverMe,"--chat-message-color-reaction-counter-me":Ye.colorReactionCounterMe,"--chat-message-bg-color-audio-record":Ye.backgroundAudioRecord,"--chat-message-bg-color-audio-line":Ye.backgroundAudioLine,"--chat-message-bg-color-audio-progress":Ye.backgroundAudioProgress,"--chat-message-bg-color-audio-progress-selector":Ye.backgroundAudioProgressSelector,"--chat-message-color-file-extension":Ye.colorFileExtension,"--chat-markdown-bg":mt.background,"--chat-markdown-border":mt.border,"--chat-markdown-color":mt.color,"--chat-markdown-color-multi":mt.colorMulti,"--chat-room-color-username":vt.colorUsername,"--chat-room-color-message":vt.colorMessage,"--chat-room-color-timestamp":vt.colorTimestamp,"--chat-room-color-online":vt.colorStateOnline,"--chat-room-color-offline":vt.colorStateOffline,"--chat-room-bg-color-badge":vt.backgroundCounterBadge,"--chat-room-color-badge":vt.colorCounterBadge,"--chat-emoji-bg-color":Vt.background,"--chat-icon-color-search":bt.search,"--chat-icon-color-add":bt.add,"--chat-icon-color-toggle":bt.toggle,"--chat-icon-color-menu":bt.menu,"--chat-icon-color-close":bt.close,"--chat-icon-color-close-image":bt.closeImage,"--chat-icon-color-file":bt.file,"--chat-icon-color-paperclip":bt.paperclip,"--chat-icon-color-close-outline":bt.closeOutline,"--chat-icon-color-close-preview":bt.closePreview,"--chat-icon-color-send":bt.send,"--chat-icon-color-send-disabled":bt.sendDisabled,"--chat-icon-color-emoji":bt.emoji,"--chat-icon-color-emoji-reaction":bt.emojiReaction,"--chat-icon-color-document":bt.document,"--chat-icon-color-pencil":bt.pencil,"--chat-icon-color-checkmark":bt.checkmark,"--chat-icon-color-checkmark-seen":bt.checkmarkSeen,"--chat-icon-color-eye":bt.eye,"--chat-icon-color-dropdown-message":bt.dropdownMessage,"--chat-icon-bg-dropdown-message":bt.dropdownMessageBackground,"--chat-icon-color-dropdown-room":bt.dropdownRoom,"--chat-icon-color-dropdown-scroll":bt.dropdownScroll,"--chat-icon-color-microphone":bt.microphone,"--chat-icon-color-audio-play":bt.audioPlay,"--chat-icon-color-audio-pause":bt.audioPause,"--chat-icon-color-audio-cancel":bt.audioCancel,"--chat-icon-color-audio-confirm":bt.audioConfirm}},kn=t("4c1d"),Ms=kn.roomsValidation,js=kn.partcipantsValidation,Is={name:"ChatContainer",components:{RoomsList:Tt,Room:vs,MediaPreview:Rs},props:{height:{type:String,default:"600px"},theme:{type:String,default:"light"},styles:{type:Object,default:function(){return{}}},responsiveBreakpoint:{type:Number,default:900},singleRoom:{type:Boolean,default:!1},roomsListOpened:{type:Boolean,default:!0},textMessages:{type:Object,default:null},currentUserId:{type:[String,Number],default:""},rooms:{type:Array,default:function(){return[]}},roomsOrder:{type:String,default:"desc"},loadingRooms:{type:Boolean,default:!1},roomsLoaded:{type:Boolean,default:!1},roomId:{type:[String,Number],default:null},loadFirstRoom:{type:Boolean,default:!0},messages:{type:Array,default:function(){return[]}},messagesLoaded:{type:Boolean,default:!1},roomActions:{type:Array,default:function(){return[]}},menuActions:{type:Array,default:function(){return[]}},messageActions:{type:Array,default:function(){return[{name:"replyMessage",title:"Reply"},{name:"editMessage",title:"Edit Message",onlyMe:!0},{name:"deleteMessage",title:"Delete Message",onlyMe:!0},{name:"selectMessages",title:"Select"}]}},messageSelectionActions:{type:Array,default:function(){return[]}},autoScroll:{type:Object,default:function(){return{send:{new:!0,newAfterScrollUp:!0},receive:{new:!0,newAfterScrollUp:!1}}}},showSearch:{type:Boolean,default:!0},showAddRoom:{type:Boolean,default:!0},showSendIcon:{type:Boolean,default:!0},showFiles:{type:Boolean,default:!0},showAudio:{type:Boolean,default:!0},audioBitRate:{type:Number,default:128},audioSampleRate:{type:Number,default:44100},showEmojis:{type:Boolean,default:!0},showReactionEmojis:{type:Boolean,default:!0},showNewMessagesDivider:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},textFormatting:{type:Object,default:function(){return{disabled:!1,italic:"_",bold:"*",strike:"~",underline:"\xB0",multilineCode:"```",inlineCode:"`"}}},linkOptions:{type:Object,default:function(){return{disabled:!1,target:"_blank",rel:null}}},roomInfoEnabled:{type:Boolean,default:!1},textareaActionEnabled:{type:Boolean,default:!1},userTagsEnabled:{type:Boolean,default:!0},emojisSuggestionEnabled:{type:Boolean,default:!0},roomMessage:{type:String,default:""},scrollDistance:{type:Number,default:60},acceptedFiles:{type:String,default:"*"},templatesText:{type:Array,default:null},mediaPreviewEnabled:{type:Boolean,default:!0},usernameOptions:{type:Object,default:function(){return{minUsers:3,currentUser:!1}}}},emits:["toggle-rooms-list","room-info","fetch-messages","send-message","edit-message","delete-message","open-file","open-user-tag","open-failed-message","menu-action-handler","message-action-handler","send-message-reaction","typing-message","textarea-action-handler","fetch-more-rooms","add-room","room-action-handler","message-selection-action-handler"],data:function(){return{room:{},loadingMoreRooms:!1,showRoomsList:!0,isMobile:!1,showMediaPreview:!1,previewFile:{}}},computed:{t:function(){return y(y({},xs),this.textMessages)},cssVars:function(){var l=this,i=Ts[this.theme],ae={};return Object.keys(i).map(function(oe){ae[oe]=y(y({},i[oe]),l.styles[oe]||{})}),As(ae)},orderedRooms:function(){var l=this;return this.rooms.slice().sort(function(i,ae){var oe=i.index||0,J=ae.index||0;return l.roomsOrder==="asc"?oe<J?-1:J<oe?1:0:oe>J?-1:J>oe?1:0})}},watch:{rooms:{immediate:!0,deep:!0,handler:function(l,i){var ae=this;if((!l[0]||!l.find(function(J){return J.roomId===ae.room.roomId}))&&(this.showRoomsList=!0),!this.loadingMoreRooms&&this.loadFirstRoom&&l[0]&&(!i||l.length!==i.length))if(this.roomId){var oe=l.find(function(J){return J.roomId===ae.roomId})||{};this.fetchRoom({room:oe})}else!this.isMobile||this.singleRoom?this.fetchRoom({room:this.orderedRooms[0]}):this.showRoomsList=!0}},loadingRooms:function(l){l&&(this.room={})},roomId:{immediate:!0,handler:function(l,i){if(l&&!this.loadingRooms&&this.rooms.length){var ae=this.rooms.find(function(oe){return oe.roomId===l});this.fetchRoom({room:ae})}else i&&!l&&(this.room={})}},room:function(l){!l||Object.entries(l).length===0||(Ms(l),l.users.forEach(function(i){js(i)}))},roomsListOpened:function(l){this.showRoomsList=l}},created:function(){var l=this;this.updateResponsive(),window.addEventListener("resize",function(i){i.isTrusted&&l.updateResponsive()})},methods:{updateResponsive:function(){this.isMobile=window.innerWidth<this.responsiveBreakpoint},toggleRoomsList:function(){this.showRoomsList=!this.showRoomsList,this.isMobile&&(this.room={}),this.$emit("toggle-rooms-list",{opened:this.showRoomsList})},fetchRoom:function(l){var i=l.room;this.room=i,this.fetchMessages({reset:!0}),this.isMobile&&(this.showRoomsList=!1)},fetchMoreRooms:function(){this.$emit("fetch-more-rooms")},roomInfo:function(){this.$emit("room-info",this.room)},addRoom:function(){this.$emit("add-room")},fetchMessages:function(l){this.$emit("fetch-messages",{room:this.room,options:l})},sendMessage:function(l){this.$emit("send-message",y(y({},l),{},{roomId:this.room.roomId}))},editMessage:function(l){this.$emit("edit-message",y(y({},l),{},{roomId:this.room.roomId}))},deleteMessage:function(l){this.$emit("delete-message",{message:l,roomId:this.room.roomId})},openFile:function(l){var i=l.message,ae=l.file;this.mediaPreviewEnabled&&ae.action==="preview"?(this.previewFile=ae.file,this.showMediaPreview=!0):this.$emit("open-file",{message:i,file:ae})},openUserTag:function(l){var i=l.user;this.$emit("open-user-tag",{user:i})},openFailedMessage:function(l){var i=l.message;this.$emit("open-failed-message",{message:i,roomId:this.room.roomId})},menuActionHandler:function(l){this.$emit("menu-action-handler",{action:l,roomId:this.room.roomId})},roomActionHandler:function(l){var i=l.action,ae=l.roomId;this.$emit("room-action-handler",{action:i,roomId:ae})},messageActionHandler:function(l){this.$emit("message-action-handler",y(y({},l),{},{roomId:this.room.roomId}))},messageSelectionActionHandler:function(l){this.$emit("message-selection-action-handler",y(y({},l),{},{roomId:this.room.roomId}))},sendMessageReaction:function(l){this.$emit("send-message-reaction",y(y({},l),{},{roomId:this.room.roomId}))},typingMessage:function(l){this.$emit("typing-message",{message:l,roomId:this.room.roomId})},textareaActionHandler:function(l){this.$emit("textarea-action-handler",{message:l,roomId:this.room.roomId})}}};t("0e99");var mn=A()(Is,[["render",d]]);Object.defineProperty(mn,"install",{configurable:!1,enumerable:!1,value:function(l){l.component("ChatWindow",mn)}});var Cs=mn;T.default=Cs},fb6a:function(m,T,t){var r=t("23e7"),n=t("da84"),s=t("e8b5"),e=t("68ee"),f=t("861d"),d=t("23cb"),v=t("07fa"),E=t("fc6a"),y=t("8418"),S=t("b622"),O=t("1dde"),b=t("f36a"),g=O("slice"),B=S("species"),w=n.Array,h=Math.max;r({target:"Array",proto:!0,forced:!g},{slice:function(Y,A){var L=E(this),D=v(L),a=d(Y,D),F=d(A===void 0?D:A,D),k,_,ee;if(s(L)&&(k=L.constructor,e(k)&&(k===w||s(k.prototype))?k=void 0:f(k)&&(k=k[B],k===null&&(k=void 0)),k===w||k===void 0))return b(L,a,F);for(_=new(k===void 0?w:k)(h(F-a,0)),ee=0;a<F;a++,ee++)a in L&&y(_,ee,L[a]);return _.length=ee,_}})},fc6a:function(m,T,t){var r=t("44ad"),n=t("1d80");m.exports=function(s){return r(n(s))}},fce3:function(m,T,t){var r=t("d039"),n=t("da84"),s=n.RegExp;m.exports=r(function(){var e=s(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")})},fd87:function(m,T,t){var r=t("74e8");r("Int8",function(n){return function(e,f,d){return n(this,e,f,d)}})},fdbc:function(m,T){m.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(m,T,t){var r=t("4930");m.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},fea9:function(m,T,t){var r=t("da84");m.exports=r.Promise},ff81:function(m,T,t){var r=t("0206"),n=r.System;r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n;var s=r.new_int;r.new_int_n,r.assert;var e=t("4b5e");function f(d,v,E,y){this.l=s(1+e.SBMAX_l),this.s=s(1+e.SBMAX_s),this.psfb21=s(1+e.PSFB21),this.psfb12=s(1+e.PSFB12);var S=this.l,O=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],n.arraycopy(this.arrL,0,S,0,Math.min(this.arrL.length,this.l.length)),n.arraycopy(this.arrS,0,O,0,Math.min(this.arrS.length,this.s.length)),n.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),n.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}m.exports=f}})})(ya);var Q0=X0(ya.exports);const J0=["onSubmit"],_0=["disabled"],$0=["onSubmit"],q0=["disabled"],ec=["onSubmit"],tc=ir("option",{default:"",value:""},"Select User",-1),rc=["value"],nc=["disabled"],ac={class:"ccksckr"},oc=ir("span",{class:"material-icons"},"cyclone",-1),sc=[oc],Tc=na({setup(ke){document.title="unTalkMe";const m=_l(),T=$l(),t=_r(null),r=_r(null);v0(m0,async C=>{C?m.setIsIn():T.push("/Home"),m.setAuthIsReady()});const n=_r(m.uid),s=_r(m.username),e=ea({devMessage:"",theme:"dark",isDevice:!1,showChat:!0,updatingData:!1,showDemoOptions:!1,roomsPerPage:15,rooms:[],roomId:"",startRooms:null,endRooms:null,roomsLoaded:!1,loadingRooms:!0,allUsers:[],loadingLastMessageByRoom:0,roomsLoadedCount:0,selectedRoom:null,messagesPerPage:20,messages:[],messagesLoaded:!1,lastLoadedMessage:null,previousLastLoadedMessage:null,roomsListeners:[],listeners:[],typingMessageCache:"",disableForm:!1,addNewRoom:null,addRoomUsername:"",inviteRoomId:null,invitedUsername:"",removeRoomId:null,removeUserId:"",removeUsers:[],roomActions:[{name:"inviteUser",title:"Invite User"},{name:"removeUser",title:"Remove User"},{name:"deleteRoom",title:"Delete Room"}],menuActions:[{name:"inviteUser",title:"Invite User"},{name:"removeUser",title:"Remove User"},{name:"deleteRoom",title:"Delete Room"}],messageSelectionActions:[{name:"deleteMessages",title:"Delete"}],styles:{container:{borderRadius:"4px"}},templatesText:[{tag:"help",text:"This is the help"},{tag:"action",text:"This is the action"},{tag:"action 2",text:"This is the second action"}]}),f=yn(()=>e.rooms.slice(0,e.roomsLoadedCount)),d=yn(()=>e.isDevice?window.innerHeight+"px":"calc(100vh - 40px)"),v=sa(()=>{n.value||(setTimeout(()=>e.showChat=!0,10050),setTimeout(()=>T.push("/Login"),2e4))});aa(()=>{s.value||T.push("/UnThinkMe"),H0(n.value),O()}),oa(()=>{v()});const E=C=>{C=="unmaximize"&&t.value.play(),C=="notification"&&r.value.play()},y=()=>{e.loadingRooms=!0,e.loadingLastMessageByRoom=0,e.roomsLoadedCount=0,e.rooms=[],e.roomsLoaded=!0,e.startRooms=null,e.endRooms=null,e.roomsListeners.forEach(C=>C()),e.roomsListeners=[],S()},S=()=>{e.messages=[],e.messagesLoaded=!1,e.lastLoadedMessage=null,e.previousLastLoadedMessage=null,e.listeners.forEach(C=>C()),e.listeners=[]},O=()=>{y(),b()},b=async()=>{if(e.endRooms&&!e.startRooms){e.roomsLoaded=!0;return}const C=x0(n.value,e.roomsPerPage,e.startRooms),{data:z,docs:V}=await T0(C);e.roomsLoaded=z.length===0||z.length<e.roomsPerPage,e.startRooms&&(e.endRooms=e.startRooms),e.startRooms=V[V.length-1];const $=[];z.forEach(Me=>{Me.users.forEach(Ce=>{!e.allUsers.find(lt=>(lt==null?void 0:lt._id)===Ce)&&$.indexOf(Ce)===-1&&$.push(Ce)})});const se=[];$.forEach(Me=>{const Ce=E0(Me);se.push(Ce)}),e.allUsers=[...e.allUsers,...await Promise.all(se)];const Ee={};z.forEach(Me=>{Ee[Me.id]=Dr(Sr({},Me),{users:[]}),Me.users.forEach(Ce=>{const He=e.allUsers.find(lt=>(lt==null?void 0:lt._id)===Ce);He&&Ee[Me.id].users.push(He)})});const Ae=[];Object.keys(Ee).forEach(Me=>{const Ce=Ee[Me],He=Ce.users.filter(lt=>lt._id!==n.value);Ae.push(Dr(Sr({},Ce),{roomName:Ce.roomName,roomId:Me,avatar:Ce.avatar,index:Ce.lastUpdated.seconds,roomMessage:He,lastMessage:{content:"Room created",timestamp:hn(new Date(Ce.lastUpdated.seconds),Ce.lastUpdated)}}))}),e.rooms=e.rooms.concat(Ae),Ae.forEach(Me=>g(Me)),e.rooms.length||(e.loadingRooms=!1,e.roomsLoadedCount=0),p(Ae),Q(C)},g=C=>{const z=D0(C.roomId,V=>{V.forEach($=>{const se=B($,C),Ee=e.rooms.findIndex(Ae=>C.roomId===Ae.roomId);e.rooms[Ee].lastMessage=se,e.rooms=[...e.rooms]}),e.loadingLastMessageByRoom<e.rooms.length&&(e.loadingLastMessageByRoom++,e.loadingLastMessageByRoom===e.rooms.length&&(e.loadingRooms=!1,e.roomsLoadedCount=e.rooms.length,E("unmaximize")))});e.roomsListeners.push(z)},B=(C,z)=>{var se,Ee;if(!C.timestamp)return;let V=C.content;if((se=C.files)!=null&&se.length){const Ae=C.files[0];V=`${Ae.name}.${Ae.extension||Ae.type}`}const $=C.sender_id!==n.value?(Ee=z.users.find(Ae=>C.sender_id===Ae._id))==null?void 0:Ee.username:"";return Dr(Sr({},C),{content:V,timestamp:hn(new Date(C.timestamp.seconds*1e3),C.timestamp),username:$,distributed:!0,seen:C.sender_id===n.value?C.seen:null,new:C.sender_id!==n.value&&(!C.seen||!C.seen[n.value])})},w=({room:C,options:z={}})=>{if(z.reset&&(S(),e.roomId=C.roomId),e.previousLastLoadedMessage&&!e.lastLoadedMessage){e.messagesLoaded=!0;return}e.selectedRoom=C.roomId,E("notification"),$n(C.roomId,e.messagesPerPage,e.lastLoadedMessage).then(({data:V,docs:$})=>{e.selectedRoom===C.roomId&&((V.length===0||V.length<e.messagesPerPage)&&setTimeout(()=>e.messagesLoaded=!0,0),z.reset&&(e.messages=[]),V.forEach(se=>{const Ee=Y(C,se);e.messages.unshift(Ee)}),e.lastLoadedMessage&&(e.previousLastLoadedMessage=e.lastLoadedMessage),e.lastLoadedMessage=$[$.length-1],h(C))})},h=C=>{const z=w0(C.roomId,e.lastLoadedMessage,e.previousLastLoadedMessage,V=>{V.forEach($=>{const se=Y(C,$),Ee=e.messages.findIndex(Ae=>Ae._id===$.id);Ee===-1?e.messages=e.messages.concat([se]):(e.messages[Ee]=se,e.messages=[...e.messages]),N(C,$)})});e.listeners.push(z)},N=(C,z)=>{z.sender_id!==n.value&&(!z.seen||!z.seen[n.value])&&$r(C.roomId,z.id,{[`seen.${n.value}`]:new Date})},Y=(C,z)=>{var $;const V=Dr(Sr({},z),{senderId:z.sender_id,_id:z.id,seconds:z.timestamp.seconds,timestamp:Rn(z.timestamp,"HH:mm"),date:Rn(z.timestamp,"DD MMMM YYYY"),username:($=C.users.find(se=>z.sender_id===se._id))==null?void 0:$.username,distributed:!0});return z.replyMessage&&(V.replyMessage=Dr(Sr({},z.replyMessage),{senderId:z.replyMessage.sender_id})),V},A=async({content:C,roomId:z,files:V,replyMessage:$})=>{const se={sender_id:n.value,content:C,timestamp:new Date};V&&(se.files=k(V)),$&&(se.replyMessage={_id:$._id,content:$.content,sender_id:$.senderId},$.files&&(se.replyMessage.files=$.files));const{id:Ee}=await B0(z,se);if(V)for(let Ae=0;Ae<V.length;Ae++)await a({file:V[Ae],messageId:Ee,roomId:z});tn(z,{lastUpdated:new Date})},L=async({messageId:C,newContent:z,roomId:V,files:$})=>{var Ee;const se={edited:new Date};if(se.content=z,$?se.files=k($):se.files=S0,await $r(V,C,se),$)for(let Ae=0;Ae<$.length;Ae++)(Ee=$[Ae])!=null&&Ee.blob&&await a({file:$[Ae],messageId:C,roomId:V})},D=async({message:C,roomId:z})=>{await $r(z,C._id,{deleted:new Date});const{files:V}=C;V&&V.forEach($=>{qn(n.value,C._id,$)})},a=async({file:C,messageId:z,roomId:V})=>new Promise($=>{let se=C.extension||C.type;(se==="svg"||se==="pdf")&&(se=C.type),Y0(n.value,z,C,se,Ee=>{F(z,C.localUrl,Ee)},async Ee=>{const Ae=await C0(V,z);Ae.files.forEach(Me=>{Me.url===C.localUrl&&(Me.url=Ee)}),await $r(V,z,{files:Ae.files}),$(!0)})}),F=(C,z,V)=>{const $=e.messages.find(se=>se._id===C);!$||!$.files||($.files.find(se=>se.url===z).progress=V,e.messages=[...e.messages])},k=C=>{const z=[];return C.forEach(V=>{const $={name:V.name,size:V.size,type:V.type,extension:V.extension||V.type,url:V.url||V.localUrl};V.audio&&($.audio=!0,$.duration=V.duration),z.push($)}),z},_=({file:C})=>{window.open(C.file.url,"_blank")},ee=async({user:C})=>{let z;if(e.rooms.forEach(Ae=>{if(Ae.users.length===2){const Me=Ae.users[0]._id,Ce=Ae.users[1]._id;(Me===C._id||Me===n.value)&&(Ce===C._id||Ce===n.value)&&(z=Ae.roomId)}}),z){e.roomId=z;return}const V=await _n(n.value,C._id);if(V.data.length)return q(V);const $=await _n(C._id,n.value);if($.data.length)return q($);const se=C._id===n.value?[n.value]:[C._id,n.value],Ee=await Jn({users:se,lastUpdated:new Date});e.roomId=Ee.id,O()},q=async C=>{C.forEach(async z=>{e.loadingRooms||(await tn(z.id,{lastUpdated:new Date}),e.roomId=z.id,O())})},re=({action:C,roomId:z})=>{switch(C.name){case"inviteUser":return Z(z);case"removeUser":return o(z);case"deleteRoom":return c(z)}},Oe=({action:C,messages:z,roomId:V})=>{switch(C.name){case"deleteMessages":z.forEach($=>{D({message:$,roomId:V})})}},ue=async({reaction:C,remove:z,messageId:V,roomId:$})=>{U0($,V,n.value,C.unicode,z?"remove":"add")},x=({message:C,roomId:z})=>{if(z){if((C==null?void 0:C.length)>1){e.typingMessageCache=C;return}if((C==null?void 0:C.length)===1&&e.typingMessageCache){e.typingMessageCache=C;return}e.typingMessageCache=C,I0(z,n.value,C?"add":"remove")}},Q=async C=>{const z=N0(C,V=>{V.forEach($=>{const se=e.rooms.find(Ee=>Ee.roomId===$.id);se&&(se.typingUsers=$.typingUsers,se.index=$.lastUpdated.seconds)})});e.roomsListeners.push(z)},p=C=>{C.forEach(z=>{z.users.forEach(V=>{const $=V0(En(V._id),se=>{if(!se||!se.val())return;const Ee=hn(new Date(se.val().lastChanged),new Date(se.val().lastChanged));V.status=Dr(Sr({},se.val()),{lastChanged:Ee});const Ae=e.rooms.findIndex(Me=>z.roomId===Me.roomId);e.rooms[Ae]=z,e.rooms=[...e.rooms]});e.roomsListeners.push($)})})},j=()=>{R(),e.addNewRoom=!0},H=async()=>{e.disableForm=!0;const{id:C}=await Zn({username:e.addRoomUsername});await Qn(C,{_id:C}),await Jn({users:[C,n.value],lastUpdated:new Date}),e.addNewRoom=!1,e.addRoomUsername="",O()},Z=C=>{R(),e.inviteRoomId=C},P=async()=>{e.disableForm=!0;const{id:C}=await Zn({username:e.invitedUsername});await Qn(C,{_id:C}),await M0(e.inviteRoomId,C),e.inviteRoomId=null,e.invitedUsername="",O()},o=C=>{R(),e.removeRoomId=C,e.removeUsers=e.rooms.find(z=>z.roomId===C).users},u=async()=>{e.disableForm=!0,await j0(e.removeRoomId,e.removeUserId),e.removeRoomId=null,e.removeUserId="",O()},c=async C=>{if(s.value!=="Adam")return alert("No peepee on your eyes");$n(C).then(({data:z})=>{z.forEach(V=>{L0(C,V.id),V.files&&V.files.forEach($=>{qn(n.value,V.id,$)})})}),await A0(C),O()},R=()=>{e.disableForm=!1,e.addNewRoom=null,e.addRoomUsername="",e.inviteRoomId=null,e.invitedUsername="",e.removeRoomId=null,e.removeUserId=""},U=()=>e.showDemoOptions=!e.showDemoOptions;return(C,z)=>(Rr(),Er("div",null,[Gt(e).addNewRoom?(Rr(),Er("form",{key:0,onSubmit:sn(H,["prevent"])},[on(ir("input",{"onUpdate:modelValue":z[0]||(z[0]=V=>Gt(e).addRoomUsername=V),type:"text",placeholder:"Add username"},null,512),[[Sn,Gt(e).addRoomUsername]]),ir("button",{type:"submit",disabled:Gt(e).disableForm||!Gt(e).addRoomUsername}," Create Room ",8,_0),ir("button",{class:"button-cancel",onClick:z[1]||(z[1]=V=>Gt(e).addNewRoom=!1)}," Cancel ")],40,J0)):Qr("",!0),Gt(e).inviteRoomId?(Rr(),Er("form",{key:1,onSubmit:sn(P,["prevent"])},[on(ir("input",{"onUpdate:modelValue":z[2]||(z[2]=V=>Gt(e).invitedUsername=V),type:"text",placeholder:"Add username"},null,512),[[Sn,Gt(e).invitedUsername]]),ir("button",{type:"submit",disabled:Gt(e).disableForm||!Gt(e).invitedUsername}," Add User ",8,q0),ir("button",{class:"button-cancel",onClick:z[3]||(z[3]=V=>Gt(e).inviteRoomId=null)}," Cancel ")],40,$0)):Qr("",!0),Gt(e).removeRoomId?(Rr(),Er("form",{key:2,onSubmit:sn(u,["prevent"])},[on(ir("select",{"onUpdate:modelValue":z[4]||(z[4]=V=>Gt(e).removeUserId=V)},[tc,(Rr(!0),Er(pn,null,bn(Gt(e).removeUsers,V=>(Rr(),Er("option",{key:V._id,value:V._id},gn(V.username),9,rc))),128))],512),[[ia,Gt(e).removeUserId]]),ir("button",{type:"submit",disabled:Gt(e).disableForm||!Gt(e).removeUserId}," Remove User ",8,nc),ir("button",{class:"button-cancel",onClick:z[5]||(z[5]=V=>Gt(e).removeRoomId=null)}," Cancel ")],40,ec)):Qr("",!0),ra(Gt(Q0),{height:Gt(d),"current-user-id":n.value,rooms:Gt(f),"rooms-order":"desc","loading-rooms":Gt(e).loadingRooms,"rooms-loaded":Gt(e).roomsLoaded,"room-id":Gt(e).roomId,"load-first-room":!0,messages:Gt(e).messages,"room-message":null,"messages-loaded":Gt(e).messagesLoaded,"room-actions":Gt(e).roomActions,"menu-actions":Gt(e).menuActions,"message-selection-actions":Gt(e).messageSelectionActions,"templates-text":Gt(e).templatesText,"show-search":!0,"show-add-room":!1,"show-send-icon":!0,"show-files":!1,"show-audio":!1,"show-emojis":!1,"show-reaction-emojis":!1,"show-new-messages-divider":!0,"show-footer":!0,"room-info-enabled":!1,"textarea-action-enabled":!1,"accepted-files":"image/png, image/jpeg, application/pdf","user-tags-enabled":!1,"single-room":!0,"media-preview-enabled":!1,"emojis-suggestion-enabled":!1,theme:Gt(e).theme,styles:Gt(e).styles,onFetchMoreRooms:b,onFetchMessages:w,onSendMessage:A,onEditMessage:L,onDeleteMessage:D,onOpenFile:_,onOpenUserTag:ee,onAddRoom:j,onRoomActionHandler:re,onMenuActionHandler:re,onMessageSelectionActionHandler:Oe,onSendMessageReaction:ue,onTypingMessage:x},null,8,["height","current-user-id","rooms","loading-rooms","rooms-loaded","room-id","messages","messages-loaded","room-actions","menu-actions","message-selection-actions","templates-text","theme","styles"]),ir("div",ac,[s.value=="Adam"?(Rr(),Er("button",{key:0,onClick:U},sc)):Qr("",!0),ir("button",{class:"button-light",onClick:z[6]||(z[6]=V=>Gt(e).theme="light")},"Light"),ir("button",{class:"button-dark",onClick:z[7]||(z[7]=V=>Gt(e).theme="dark")},"Dark"),Gt(f)[0]?(Rr(!0),Er(pn,{key:1},bn(Gt(f)[0].users,V=>(Rr(),Er("div",{class:ta([{green:V.status&&V.status.state&&V.status.state=="online"},"nametag"]),key:V},gn(V.username),3))),128)):Qr("",!0)]),ir("audio",{ref_key:"unmaximize",ref:t,type:"audio/mpeg",src:"https://firebasestorage.googleapis.com/v0/b/stein-unlimited.appspot.com/o/sounds%2Funmaximize.mp3?alt=media&token=5f31afe5-3f06-4e5b-912a-6c6e02b5f156"},null,512),ir("audio",{ref_key:"notification",ref:r,type:"audio/mpeg",src:"https://firebasestorage.googleapis.com/v0/b/stein-unlimited.appspot.com/o/sounds%2Fnotification.mp3?alt=media&token=2b383dc8-019b-4975-885c-8bcb58734bc3"},null,512)]))}});export{Tc as default};
