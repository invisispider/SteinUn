var j=Object.defineProperty,q=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var F=(o,n,i)=>n in o?j(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,$=(o,n)=>{for(var i in n||(n={}))K.call(n,i)&&F(o,i,n[i]);if(E)for(var i of E(n))G.call(n,i)&&F(o,i,n[i]);return o},L=(o,n)=>q(o,z(n));import{bt as A,d as V,r as h,y as I,o as d,c,b as s,T as y,w as g,bn as W,v as C,a as r,e as J,f as b,aK as k,a9 as _,O as m,aH as U,aF as B,u as Q,b3 as X,az as Z,a2 as ee,a3 as te,L as ae}from"./index.be1fd971.js";import{h as se,I as ne,f as w,l as oe,y as H,r as le}from"./firebaseconfig.da9c72da.js";const O=o=>(U("data-v-0b5dc8ad"),o=o(),B(),o),re={id:"admin-menu",class:"admin-menu"},ie=O(()=>s("h2",null,"Lindsay and Adam -- Admin Panel",-1)),de={id:"top-header"},ue=O(()=>s("h3",null,"Add New Course",-1)),ce=_(m("Recurring?")+" "),me=_(m("Day")+" "),ye=["list"],pe=_(m("Date")+" "),fe=_(" "+m("Time")),_e=_(" "+m("Event")+" "),ve=["onClick"],he=O(()=>s("h3",null,"Remove Course",-1)),ge=["onClick"],De=V({props:["recurs","dayNames","yogaData"],setup(o){const n=o,i=["Chair Yoga","Guided Meditation (Free!)","Kid's Mindful Movement","Vinyasa Flow","Yin Yoga"],p=h(!1),D={day:"",date:"",time:"",title:"",id:""},e=N=>{se(ne(w,"yogaCalendar",N)),getCalendar()},u=I($({},D)),S=()=>Object.assign(u,D),M=()=>{oe(H(w,"yogaCalendar"),u),getCalendar(),S()},v=h(!1);return(N,a)=>(d(),c("div",re,[ie,s("button",{class:"green",onClick:a[0]||(a[0]=t=>v.value=!v.value)}," Collapse/Expand "),v.value?(d(),c(y,{key:0},[s("div",de,[s("button",{class:"red",onClick:a[1]||(a[1]=t=>p.value=!1)}," Add Course "),s("button",{class:"red",onClick:a[2]||(a[2]=t=>p.value=!0)}," Remove Course ")]),p.value?b("",!0):(d(),c(y,{key:0},[ue,s("form",null,[ce,g(s("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=t=>n.recurs=t)},null,512),[[W,n.recurs]]),n.recurs===!0?(d(),c(y,{key:0},[me,g(s("input",{list:n.daynames,"onUpdate:modelValue":a[4]||(a[4]=t=>r(u).day=t)},null,8,ye),[[C,r(u).day]])],64)):(d(),c(y,{key:1},[pe,g(s("input",{type:"date","onUpdate:modelValue":a[5]||(a[5]=t=>r(u).date=t)},null,512),[[C,r(u).date]]),fe],64)),g(s("input",{type:"time","onUpdate:modelValue":a[6]||(a[6]=t=>r(u).time=t)},null,512),[[C,r(u).time]]),_e,g(s("input",{list:i,"onUpdate:modelValue":a[7]||(a[7]=t=>r(u).title=t)},null,512),[[C,r(u).title]]),s("button",{class:"green",onClick:J(M,["prevent"])}," Add Course ",8,ve)])],64)),p.value?(d(),c(y,{key:1},[he,(d(!0),c(y,null,k(n.yogaData,t=>(d(),c("div",{key:t.id,style:{display:"flex"}},[s("button",{class:"orange",onClick:l=>e(t.id)}," remove ",8,ge),_(" "+m(t.title)+" "+m(t.date)+" "+m(t.day)+" "+m(t.time),1)]))),128))],64)):b("",!0)],64)):b("",!0)]))}});var Ne=A(De,[["__scopeId","data-v-0b5dc8ad"]]);const T=o=>(U("data-v-34355054"),o=o(),B(),o),Ce={id:"months"},be=T(()=>s("h1",null,m("Community Yoga Space"),-1)),ke=T(()=>s("img",{class:"invert",src:"https://firebasestorage.googleapis.com/v0/b/stein-unlimited.appspot.com/o/yoga%2Fyoga%20main_1653153367.jpg?alt=media&token=bc1a3f0d-6499-4b28-84b6-c522401599b6",alt:"yoga main",style:{margin:"auto"}},null,-1)),Se={class:"calendars-container"},Me={class:"weeks"},$e=T(()=>s("hr",null,null,-1)),we=["innerHTML"],Oe=V({setup(o){document.title="Community Yoga Schedule";const n=Q(),i=h(new Date),p=h(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]),D=h([]),e=I({yearNum:0,monthNum:0,dayNum:0,monthName:"",nextMonthName:"",firstDayOfCurrentMonth:null,startingDateName:"",lastDayOfMonth:0,dayStartOffset:0,endcapDays:0,firstDisplayDate:0,recurs:!1}),u=h([]),S=async()=>{const a=[];(await le(H(w,"yogaCalendar"))).forEach(l=>{a.push(L($({},l.data()),{id:l.id}))}),u.value=a};X(()=>{e.yearNum=i.value.getFullYear(),e.monthNum=i.value.getMonth(),e.dayNum=i.value.getDate(),e.monthName=i.value.toLocaleString("en-US",{month:"long"}),e.firstDayOfCurrentMonth=new Date(e.yearNum,e.monthNum,1),e.startingDateName=e.firstDayOfCurrentMonth.toLocaleString("en-US",{weekday:"long"}),e.lastDayOfMonth=new Date(e.yearNum,e.monthNum+1,0).getDate(),e.lastDayOfNextMonth=new Date(e.yearNum,e.monthNum+1,0).getDate(),e.dayStartOffset=p.value.indexOf(e.startingDateName),e.endcapDays=7-(e.dayStartOffset+e.lastDayOfMonth)%7,e.firstDisplayDate=1,e.nextMonthName=new Date(e.yearNum,e.monthNum+1,1).toLocaleString("en-us",{month:"long"})});const M=a=>{let t=Number(a.slice(0,2)),l="";return t>12?(t=String(t-12),l="pm"):(l="am",t==0?t="12":t=String(t)),`${t}${a.slice(2)}${l}`};Z(()=>{S()});const v=a=>p.value[Math.floor((a+e.dayStartOffset-1)%7)],N=(a,t)=>{let l=u.value.filter(f=>f.date.slice(0,2)==a),x=u.value.filter(f=>f.day==t),P=[...l,...x].sort((f,R)=>Number(f.time.slice(0,2))-Number(R.time.slice(0,2))),Y="";return P.forEach(f=>Y+=`<p>${M(f.time)} ${f.title}</p>`),Y};return ee(()=>e.endcapDays+7),(a,t)=>(d(),c("section",Ce,[r(n).username=="Adam"||r(n).username=="Lindsay"?(d(),te(Ne,{key:0,recurs:r(e).recurs,dayNames:p.value,yogaData:u.value},null,8,["recurs","dayNames","yogaData"])):b("",!0),be,ke,s("h1",null,m(r(e).monthName)+" "+m(r(e).yearNum),1),s("div",Se,[s("div",Me,[(d(!0),c(y,null,k(r(e).dayStartOffset,l=>(d(),c("div",{class:"uncell",key:l}))),128)),(d(!0),c(y,null,k(r(e).lastDayOfMonth,l=>(d(),c("div",{ref_for:!0,ref_key:"cellElements",ref:D,class:ae(["cell",l==r(e).dayNum?"selected-date":""]),key:r(e).monthName+l},[_(m(l)+" "+m(v(l))+" ",1),$e,s("div",{class:"cell-content",innerHTML:N(l,v(l))},null,8,we)],2))),128)),(d(!0),c(y,null,k(r(e).endcapDays,l=>(d(),c("div",{class:"uncell",key:l}))),128))])])]))}});var Ee=A(Oe,[["__scopeId","data-v-34355054"]]);export{Ee as default};
