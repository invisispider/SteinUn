import{_ as I,d as S,u as U,r as m,c as p,a as A,w as L,b as e,t as v,e as r,f as y,v as b,g as h,h as f,i as R,o as g,p as k,j as x}from"./index.f7e4a61a.js";import{o as P,g as T,f as V,a as C,b as u,s as D}from"./firebaseconfig.74deeeb5.js";const a=c=>(k("data-v-63207417"),c=c(),x(),c),N={class:"login-page"},B=a(()=>e("h2",null,"Kenny Logins",-1)),M={for:"username"},E=a(()=>e("br",null,null,-1)),H=a(()=>e("i",{class:"material-icons"},"supervisor_account",-1)),j=a(()=>e("br",null,null,-1)),q={for:"password"},K=a(()=>e("br",null,null,-1)),O=a(()=>e("i",{class:"material-icons"},"password",-1)),W=a(()=>e("br",null,null,-1)),z=a(()=>e("input",{class:"login-submit-button",type:"submit",name:"submit"},null,-1)),F={key:1,class:"login"},G={class:"user"},J=a(()=>e("h2",null,"User Stuff",-1)),Q=S({__name:"Login",setup(c){const s=U(),n=m("Login by request only."),d=m(""),_=m(""),w=()=>{D(u,_.value,d.value).then(l=>{const i=l.user;s.setUid(i.uid),s.setIsIn(),s.setAuthIsReady(),u.currentUser!==null&&u.currentUser.getIdTokenResult().then(t=>{t.claims.admin&&(n.value="Hello Adamsly.",console.info("Admin logged in"),s.setAdmin())}).catch(t=>{n.value=t.toString(),console.log(t)})}).catch(l=>n.value=l.toString())};return P(u,async l=>{if(l){s.setIsIn(),s.setUid(await l.uid);const i=T(V,"users",l.uid),t=await C(i);if(t){let o=await t.data();o&&o.username&&s.setUsername(o.username)}else n.value="No user listing in databse!";s.setAuthIsReady(),u.currentUser&&u.currentUser.getIdTokenResult().then(o=>{o.claims.admin&&(n.value="Hello Adam.",console.info("Admin on state change"),s.setAdmin())}).catch(o=>{n.value="Logged In.",console.error("Regular User Status.")})}else s.setAuthIsReady(),console.info("auth ready")}),(l,i)=>{const t=R("RouterLink");return g(),p("div",N,[A(s).username?(g(),p("form",F,[e("div",G,[e("div",null,v(n.value),1),J,h(t,{class:"login-submit-button",to:"Logout"},{default:f(()=>[r("Logout")]),_:1})])])):(g(),p("form",{key:0,class:"login",onSubmit:L(w,["prevent"]),autocomplete:"on",method:"dialog"},[B,e("div",null,v(n.value),1),e("label",M,[r("account "),E,y(e("input",{type:"email",name:"username",autocomplete:"username email","onUpdate:modelValue":i[0]||(i[0]=o=>_.value=o)},null,512),[[b,_.value]])]),H,j,e("label",q,[r("password "),K,y(e("input",{type:"password",name:"password",autocomplete:"current-password","onUpdate:modelValue":i[1]||(i[1]=o=>d.value=o)},null,512),[[b,d.value]])]),O,W,z,h(t,{to:"TermsOfService"},{default:f(()=>[r("Terms of Service")]),_:1}),h(t,{to:"PrivacyPolicy"},{default:f(()=>[r("Privacy Policy")]),_:1})],32))])}}});var Z=I(Q,[["__scopeId","data-v-63207417"]]);export{Z as default};
