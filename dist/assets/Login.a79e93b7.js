import{_ as I,d as S,u as U,r as _,c as m,a as A,w as L,b as e,t as v,e as y,v as b,f as p,g as h,h as R,o as f,i as g,p as k,j as x}from"./index.104e7420.js";import{o as P,g as T,f as V,a as C,b as u,s as D}from"./firebaseconfig.74deeeb5.js";const o=r=>(k("data-v-252291e2"),r=r(),x(),r),N={class:"login-page"},B=o(()=>e("h2",null,"Kenny Logins",-1)),M=o(()=>e("label",{for:"username"},"account",-1)),E=o(()=>e("br",null,null,-1)),H=o(()=>e("i",{class:"material-icons"},"supervisor_account",-1)),j=o(()=>e("br",null,null,-1)),q=o(()=>e("label",{for:"password"},"password",-1)),K=o(()=>e("br",null,null,-1)),O=o(()=>e("i",{class:"material-icons"},"password",-1)),W=o(()=>e("br",null,null,-1)),z=o(()=>e("input",{class:"login-submit-button",type:"submit",name:"submit"},null,-1)),F={key:1,class:"login"},G={class:"user"},J=o(()=>e("h2",null,"User Stuff",-1)),Q=S({__name:"Login",setup(r){const s=U(),n=_("Login by request only."),c=_(""),d=_(""),w=()=>{D(u,d.value,c.value).then(l=>{const i=l.user;s.setUid(i.uid),s.setIsIn(),s.setAuthIsReady(),u.currentUser!==null&&u.currentUser.getIdTokenResult().then(t=>{t.claims.admin&&(n.value="Hello Adamsly.",console.info("Admin logged in"),s.setAdmin())}).catch(t=>{n.value=t.toString(),console.log(t)})}).catch(l=>n.value=l.toString())};return P(u,async l=>{if(l){s.setIsIn(),s.setUid(await l.uid);const i=T(V,"users",l.uid),t=await C(i);if(t){let a=await t.data();a&&a.username&&s.setUsername(a.username)}else n.value="No user listing in databse!";s.setAuthIsReady(),u.currentUser&&u.currentUser.getIdTokenResult().then(a=>{a.claims.admin&&(n.value="Hello Adam.",console.info("Admin on state change"),s.setAdmin())}).catch(a=>{n.value="Logged In.",console.error("Regular User Status.")})}else s.setAuthIsReady(),console.info("auth ready")}),(l,i)=>{const t=R("RouterLink");return f(),m("div",N,[A(s).username?(f(),m("form",F,[e("div",G,[e("div",null,v(n.value),1),J,p(t,{class:"login-submit-button",to:"Logout"},{default:h(()=>[g("Logout")]),_:1})])])):(f(),m("form",{key:0,class:"login",onSubmit:L(w,["prevent"]),autocomplete:"on",method:"dialog"},[B,e("div",null,v(n.value),1),M,E,y(e("input",{type:"email",name:"username",autocomplete:"username email","onUpdate:modelValue":i[0]||(i[0]=a=>d.value=a)},null,512),[[b,d.value]]),H,j,q,K,y(e("input",{type:"password",name:"password",autocomplete:"current-password","onUpdate:modelValue":i[1]||(i[1]=a=>c.value=a)},null,512),[[b,c.value]]),O,W,z,p(t,{to:"TermsOfService"},{default:h(()=>[g("Terms of Service")]),_:1}),p(t,{to:"PrivacyPolicy"},{default:h(()=>[g("Privacy Policy")]),_:1})],32))])}}});var Z=I(Q,[["__scopeId","data-v-252291e2"]]);export{Z as default};
